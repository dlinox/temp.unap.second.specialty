var Jv=Object.defineProperty;var Qv=(n,a,r)=>a in n?Jv(n,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[a]=r;var lo=(n,a,r)=>(Qv(n,typeof a!="symbol"?a+"":a,r),r);import{B as zr,C as Eo,D as Cl,E as Pr,G as Tl,r as pe,H as $t,I as ii,J as Oe,K as xl,L as Ml,M as Yt,N as Or,O as Ll,P as Ur,b as y,F as Ve,Q as Co,R as Je,v as To,x as ai,S as Ol,q as Pn,T as Dl,U as Nl,i as lt,W as zl,X as Pl,Y as Ul,Z as ul,d as In,$ as Br,o as K,c as se,w as O,g as Ie,a0 as _r,a1 as jv,a2 as ll,a3 as e0,a4 as t0,m as Bt,n as Ni,a5 as Ut,e as zi,a as un,a6 as Wn,a7 as sn,p as Ao,a8 as Dr,a9 as Bl,aa as Wl,f as Vl,ab as n0,h as Sn,z as bo,t as Li,ac as Fl,y as i0,ad as cl,s as r0,u as a0,ae as o0,af as s0}from"./index-DR5gdrze.js";import{i as qe,c as hl,d as u0}from"./validations-DhuTPWDk.js";import{m as Hl,u as Gl,a as $l,b as Yl,c as kl,d as l0,e as Kl,f as c0,g as h0,V as co}from"./VSelect-BhVnSFns.js";import{m as Xl,u as Zl,V as ut,a as f0,b as fl,c as d0}from"./VTextField-PDVeGY8m.js";import{m as ql,u as Jl}from"./filter-DfGpa-IF.js";import{b as Ee,a as ri,V as Un,e as dl,f as m0,c as Ql}from"./VCard-DA-8uu1b.js";import{V as p0}from"./VDialog-CYBfQW9v.js";import{P as g0}from"./PostulantService-BSnmJh0I.js";import{V as v0}from"./VForm-CM6up_4X.js";var Mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Nr.exports;(function(n,a){(function(){var r,l="4.17.21",c=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",m="Expected a function",p="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",A=500,S="__lodash_placeholder__",R=1,I=2,M=4,B=1,U=2,V=1,ae=2,Qe=4,Ce=8,oe=16,ee=32,ie=64,Se=128,Ye=256,Te=512,je=30,ln="...",cn=800,ke=16,hn=1,fn=2,En=3,ht=1/0,bt=9007199254740991,li=17976931348623157e292,dn=NaN,it=4294967295,ci=it-1,hi=it>>>1,fi=[["ary",Se],["bind",V],["bindKey",ae],["curry",Ce],["curryRight",oe],["flip",Te],["partial",ee],["partialRight",ie],["rearg",Ye]],Ue="[object Arguments]",wt="[object Array]",Ot="[object AsyncFunction]",N="[object Boolean]",j="[object Date]",L="[object DOMException]",$="[object Error]",F="[object Function]",le="[object GeneratorFunction]",z="[object Map]",ue="[object Number]",ve="[object Null]",be="[object Object]",we="[object Promise]",Rt="[object Proxy]",Ke="[object RegExp]",De="[object Set]",ft="[object String]",Xt="[object Symbol]",Vn="[object Undefined]",di="[object WeakMap]",gc="[object WeakSet]",mi="[object ArrayBuffer]",Fn="[object DataView]",Hr="[object Float32Array]",Gr="[object Float64Array]",$r="[object Int8Array]",Yr="[object Int16Array]",kr="[object Int32Array]",Kr="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Zr="[object Uint16Array]",qr="[object Uint32Array]",vc=/\b__p \+= '';/g,Ac=/\b(__p \+=) '' \+/g,bc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Do=/&(?:amp|lt|gt|quot|#39);/g,No=/[&<>"']/g,wc=RegExp(Do.source),Rc=RegExp(No.source),yc=/<%-([\s\S]+?)%>/g,Sc=/<%([\s\S]+?)%>/g,zo=/<%=([\s\S]+?)%>/g,_c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ic=/^\w*$/,Ec=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jr=/[\\^$.*+?()[\]{}|]/g,Cc=RegExp(Jr.source),Qr=/^\s+/,Tc=/\s/,xc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mc=/\{\n\/\* \[wrapped with (.+)\] \*/,Lc=/,? & /,Oc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dc=/[()=,{}\[\]\/\s]/,Nc=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Po=/\w*$/,Pc=/^[-+]0x[0-9a-f]+$/i,Uc=/^0b[01]+$/i,Bc=/^\[object .+?Constructor\]$/,Wc=/^0o[0-7]+$/i,Vc=/^(?:0|[1-9]\d*)$/,Fc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pi=/($^)/,Hc=/['\n\r\u2028\u2029\\]/g,Ui="\\ud800-\\udfff",Gc="\\u0300-\\u036f",$c="\\ufe20-\\ufe2f",Yc="\\u20d0-\\u20ff",Uo=Gc+$c+Yc,Bo="\\u2700-\\u27bf",Wo="a-z\\xdf-\\xf6\\xf8-\\xff",kc="\\xac\\xb1\\xd7\\xf7",Kc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Xc="\\u2000-\\u206f",Zc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vo="A-Z\\xc0-\\xd6\\xd8-\\xde",Fo="\\ufe0e\\ufe0f",Ho=kc+Kc+Xc+Zc,jr="['’]",qc="["+Ui+"]",Go="["+Ho+"]",Bi="["+Uo+"]",$o="\\d+",Jc="["+Bo+"]",Yo="["+Wo+"]",ko="[^"+Ui+Ho+$o+Bo+Wo+Vo+"]",ea="\\ud83c[\\udffb-\\udfff]",Qc="(?:"+Bi+"|"+ea+")",Ko="[^"+Ui+"]",ta="(?:\\ud83c[\\udde6-\\uddff]){2}",na="[\\ud800-\\udbff][\\udc00-\\udfff]",Hn="["+Vo+"]",Xo="\\u200d",Zo="(?:"+Yo+"|"+ko+")",jc="(?:"+Hn+"|"+ko+")",qo="(?:"+jr+"(?:d|ll|m|re|s|t|ve))?",Jo="(?:"+jr+"(?:D|LL|M|RE|S|T|VE))?",Qo=Qc+"?",jo="["+Fo+"]?",eh="(?:"+Xo+"(?:"+[Ko,ta,na].join("|")+")"+jo+Qo+")*",th="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",es=jo+Qo+eh,ih="(?:"+[Jc,ta,na].join("|")+")"+es,rh="(?:"+[Ko+Bi+"?",Bi,ta,na,qc].join("|")+")",ah=RegExp(jr,"g"),oh=RegExp(Bi,"g"),ia=RegExp(ea+"(?="+ea+")|"+rh+es,"g"),sh=RegExp([Hn+"?"+Yo+"+"+qo+"(?="+[Go,Hn,"$"].join("|")+")",jc+"+"+Jo+"(?="+[Go,Hn+Zo,"$"].join("|")+")",Hn+"?"+Zo+"+"+qo,Hn+"+"+Jo,nh,th,$o,ih].join("|"),"g"),uh=RegExp("["+Xo+Ui+Uo+Fo+"]"),lh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ch=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hh=-1,Re={};Re[Hr]=Re[Gr]=Re[$r]=Re[Yr]=Re[kr]=Re[Kr]=Re[Xr]=Re[Zr]=Re[qr]=!0,Re[Ue]=Re[wt]=Re[mi]=Re[N]=Re[Fn]=Re[j]=Re[$]=Re[F]=Re[z]=Re[ue]=Re[be]=Re[Ke]=Re[De]=Re[ft]=Re[di]=!1;var Ae={};Ae[Ue]=Ae[wt]=Ae[mi]=Ae[Fn]=Ae[N]=Ae[j]=Ae[Hr]=Ae[Gr]=Ae[$r]=Ae[Yr]=Ae[kr]=Ae[z]=Ae[ue]=Ae[be]=Ae[Ke]=Ae[De]=Ae[ft]=Ae[Xt]=Ae[Kr]=Ae[Xr]=Ae[Zr]=Ae[qr]=!0,Ae[$]=Ae[F]=Ae[di]=!1;var fh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},dh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ph={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gh=parseFloat,vh=parseInt,ts=typeof Mi=="object"&&Mi&&Mi.Object===Object&&Mi,Ah=typeof self=="object"&&self&&self.Object===Object&&self,Fe=ts||Ah||Function("return this")(),ra=a&&!a.nodeType&&a,Cn=ra&&!0&&n&&!n.nodeType&&n,ns=Cn&&Cn.exports===ra,aa=ns&&ts.process,yt=function(){try{var b=Cn&&Cn.require&&Cn.require("util").types;return b||aa&&aa.binding&&aa.binding("util")}catch{}}(),is=yt&&yt.isArrayBuffer,rs=yt&&yt.isDate,as=yt&&yt.isMap,os=yt&&yt.isRegExp,ss=yt&&yt.isSet,us=yt&&yt.isTypedArray;function dt(b,E,_){switch(_.length){case 0:return b.call(E);case 1:return b.call(E,_[0]);case 2:return b.call(E,_[0],_[1]);case 3:return b.call(E,_[0],_[1],_[2])}return b.apply(E,_)}function bh(b,E,_,P){for(var X=-1,fe=b==null?0:b.length;++X<fe;){var Ne=b[X];E(P,Ne,_(Ne),b)}return P}function St(b,E){for(var _=-1,P=b==null?0:b.length;++_<P&&E(b[_],_,b)!==!1;);return b}function wh(b,E){for(var _=b==null?0:b.length;_--&&E(b[_],_,b)!==!1;);return b}function ls(b,E){for(var _=-1,P=b==null?0:b.length;++_<P;)if(!E(b[_],_,b))return!1;return!0}function mn(b,E){for(var _=-1,P=b==null?0:b.length,X=0,fe=[];++_<P;){var Ne=b[_];E(Ne,_,b)&&(fe[X++]=Ne)}return fe}function Wi(b,E){var _=b==null?0:b.length;return!!_&&Gn(b,E,0)>-1}function oa(b,E,_){for(var P=-1,X=b==null?0:b.length;++P<X;)if(_(E,b[P]))return!0;return!1}function ye(b,E){for(var _=-1,P=b==null?0:b.length,X=Array(P);++_<P;)X[_]=E(b[_],_,b);return X}function pn(b,E){for(var _=-1,P=E.length,X=b.length;++_<P;)b[X+_]=E[_];return b}function sa(b,E,_,P){var X=-1,fe=b==null?0:b.length;for(P&&fe&&(_=b[++X]);++X<fe;)_=E(_,b[X],X,b);return _}function Rh(b,E,_,P){var X=b==null?0:b.length;for(P&&X&&(_=b[--X]);X--;)_=E(_,b[X],X,b);return _}function ua(b,E){for(var _=-1,P=b==null?0:b.length;++_<P;)if(E(b[_],_,b))return!0;return!1}var yh=la("length");function Sh(b){return b.split("")}function _h(b){return b.match(Oc)||[]}function cs(b,E,_){var P;return _(b,function(X,fe,Ne){if(E(X,fe,Ne))return P=fe,!1}),P}function Vi(b,E,_,P){for(var X=b.length,fe=_+(P?1:-1);P?fe--:++fe<X;)if(E(b[fe],fe,b))return fe;return-1}function Gn(b,E,_){return E===E?Ph(b,E,_):Vi(b,hs,_)}function Ih(b,E,_,P){for(var X=_-1,fe=b.length;++X<fe;)if(P(b[X],E))return X;return-1}function hs(b){return b!==b}function fs(b,E){var _=b==null?0:b.length;return _?ha(b,E)/_:dn}function la(b){return function(E){return E==null?r:E[b]}}function ca(b){return function(E){return b==null?r:b[E]}}function ds(b,E,_,P,X){return X(b,function(fe,Ne,ge){_=P?(P=!1,fe):E(_,fe,Ne,ge)}),_}function Eh(b,E){var _=b.length;for(b.sort(E);_--;)b[_]=b[_].value;return b}function ha(b,E){for(var _,P=-1,X=b.length;++P<X;){var fe=E(b[P]);fe!==r&&(_=_===r?fe:_+fe)}return _}function fa(b,E){for(var _=-1,P=Array(b);++_<b;)P[_]=E(_);return P}function Ch(b,E){return ye(E,function(_){return[_,b[_]]})}function ms(b){return b&&b.slice(0,As(b)+1).replace(Qr,"")}function mt(b){return function(E){return b(E)}}function da(b,E){return ye(E,function(_){return b[_]})}function pi(b,E){return b.has(E)}function ps(b,E){for(var _=-1,P=b.length;++_<P&&Gn(E,b[_],0)>-1;);return _}function gs(b,E){for(var _=b.length;_--&&Gn(E,b[_],0)>-1;);return _}function Th(b,E){for(var _=b.length,P=0;_--;)b[_]===E&&++P;return P}var xh=ca(fh),Mh=ca(dh);function Lh(b){return"\\"+ph[b]}function Oh(b,E){return b==null?r:b[E]}function $n(b){return uh.test(b)}function Dh(b){return lh.test(b)}function Nh(b){for(var E,_=[];!(E=b.next()).done;)_.push(E.value);return _}function ma(b){var E=-1,_=Array(b.size);return b.forEach(function(P,X){_[++E]=[X,P]}),_}function vs(b,E){return function(_){return b(E(_))}}function gn(b,E){for(var _=-1,P=b.length,X=0,fe=[];++_<P;){var Ne=b[_];(Ne===E||Ne===S)&&(b[_]=S,fe[X++]=_)}return fe}function Fi(b){var E=-1,_=Array(b.size);return b.forEach(function(P){_[++E]=P}),_}function zh(b){var E=-1,_=Array(b.size);return b.forEach(function(P){_[++E]=[P,P]}),_}function Ph(b,E,_){for(var P=_-1,X=b.length;++P<X;)if(b[P]===E)return P;return-1}function Uh(b,E,_){for(var P=_+1;P--;)if(b[P]===E)return P;return P}function Yn(b){return $n(b)?Wh(b):yh(b)}function Dt(b){return $n(b)?Vh(b):Sh(b)}function As(b){for(var E=b.length;E--&&Tc.test(b.charAt(E)););return E}var Bh=ca(mh);function Wh(b){for(var E=ia.lastIndex=0;ia.test(b);)++E;return E}function Vh(b){return b.match(ia)||[]}function Fh(b){return b.match(sh)||[]}var Hh=function b(E){E=E==null?Fe:kn.defaults(Fe.Object(),E,kn.pick(Fe,ch));var _=E.Array,P=E.Date,X=E.Error,fe=E.Function,Ne=E.Math,ge=E.Object,pa=E.RegExp,Gh=E.String,_t=E.TypeError,Hi=_.prototype,$h=fe.prototype,Kn=ge.prototype,Gi=E["__core-js_shared__"],$i=$h.toString,me=Kn.hasOwnProperty,Yh=0,bs=function(){var e=/[^.]+$/.exec(Gi&&Gi.keys&&Gi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Yi=Kn.toString,kh=$i.call(ge),Kh=Fe._,Xh=pa("^"+$i.call(me).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ki=ns?E.Buffer:r,vn=E.Symbol,Ki=E.Uint8Array,ws=ki?ki.allocUnsafe:r,Xi=vs(ge.getPrototypeOf,ge),Rs=ge.create,ys=Kn.propertyIsEnumerable,Zi=Hi.splice,Ss=vn?vn.isConcatSpreadable:r,gi=vn?vn.iterator:r,Tn=vn?vn.toStringTag:r,qi=function(){try{var e=Dn(ge,"defineProperty");return e({},"",{}),e}catch{}}(),Zh=E.clearTimeout!==Fe.clearTimeout&&E.clearTimeout,qh=P&&P.now!==Fe.Date.now&&P.now,Jh=E.setTimeout!==Fe.setTimeout&&E.setTimeout,Ji=Ne.ceil,Qi=Ne.floor,ga=ge.getOwnPropertySymbols,Qh=ki?ki.isBuffer:r,_s=E.isFinite,jh=Hi.join,ef=vs(ge.keys,ge),ze=Ne.max,Xe=Ne.min,tf=P.now,nf=E.parseInt,Is=Ne.random,rf=Hi.reverse,va=Dn(E,"DataView"),vi=Dn(E,"Map"),Aa=Dn(E,"Promise"),Xn=Dn(E,"Set"),Ai=Dn(E,"WeakMap"),bi=Dn(ge,"create"),ji=Ai&&new Ai,Zn={},af=Nn(va),of=Nn(vi),sf=Nn(Aa),uf=Nn(Xn),lf=Nn(Ai),er=vn?vn.prototype:r,wi=er?er.valueOf:r,Es=er?er.toString:r;function h(e){if(xe(e)&&!Z(e)&&!(e instanceof ne)){if(e instanceof It)return e;if(me.call(e,"__wrapped__"))return Cu(e)}return new It(e)}var qn=function(){function e(){}return function(t){if(!_e(t))return{};if(Rs)return Rs(t);e.prototype=t;var i=new e;return e.prototype=r,i}}();function tr(){}function It(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}h.templateSettings={escape:yc,evaluate:Sc,interpolate:zo,variable:"",imports:{_:h}},h.prototype=tr.prototype,h.prototype.constructor=h,It.prototype=qn(tr.prototype),It.prototype.constructor=It;function ne(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function cf(){var e=new ne(this.__wrapped__);return e.__actions__=rt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rt(this.__views__),e}function hf(){if(this.__filtered__){var e=new ne(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ff(){var e=this.__wrapped__.value(),t=this.__dir__,i=Z(e),o=t<0,u=i?e.length:0,d=_d(0,u,this.__views__),g=d.start,v=d.end,w=v-g,C=o?v:g-1,T=this.__iteratees__,x=T.length,D=0,W=Xe(w,this.__takeCount__);if(!i||!o&&u==w&&W==w)return qs(e,this.__actions__);var Y=[];e:for(;w--&&D<W;){C+=t;for(var J=-1,k=e[C];++J<x;){var te=T[J],re=te.iteratee,vt=te.type,nt=re(k);if(vt==fn)k=nt;else if(!nt){if(vt==hn)continue e;break e}}Y[D++]=k}return Y}ne.prototype=qn(tr.prototype),ne.prototype.constructor=ne;function xn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function df(){this.__data__=bi?bi(null):{},this.size=0}function mf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function pf(e){var t=this.__data__;if(bi){var i=t[e];return i===f?r:i}return me.call(t,e)?t[e]:r}function gf(e){var t=this.__data__;return bi?t[e]!==r:me.call(t,e)}function vf(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=bi&&t===r?f:t,this}xn.prototype.clear=df,xn.prototype.delete=mf,xn.prototype.get=pf,xn.prototype.has=gf,xn.prototype.set=vf;function Zt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function Af(){this.__data__=[],this.size=0}function bf(e){var t=this.__data__,i=nr(t,e);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():Zi.call(t,i,1),--this.size,!0}function wf(e){var t=this.__data__,i=nr(t,e);return i<0?r:t[i][1]}function Rf(e){return nr(this.__data__,e)>-1}function yf(e,t){var i=this.__data__,o=nr(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}Zt.prototype.clear=Af,Zt.prototype.delete=bf,Zt.prototype.get=wf,Zt.prototype.has=Rf,Zt.prototype.set=yf;function qt(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function Sf(){this.size=0,this.__data__={hash:new xn,map:new(vi||Zt),string:new xn}}function _f(e){var t=mr(this,e).delete(e);return this.size-=t?1:0,t}function If(e){return mr(this,e).get(e)}function Ef(e){return mr(this,e).has(e)}function Cf(e,t){var i=mr(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}qt.prototype.clear=Sf,qt.prototype.delete=_f,qt.prototype.get=If,qt.prototype.has=Ef,qt.prototype.set=Cf;function Mn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new qt;++t<i;)this.add(e[t])}function Tf(e){return this.__data__.set(e,f),this}function xf(e){return this.__data__.has(e)}Mn.prototype.add=Mn.prototype.push=Tf,Mn.prototype.has=xf;function Nt(e){var t=this.__data__=new Zt(e);this.size=t.size}function Mf(){this.__data__=new Zt,this.size=0}function Lf(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Of(e){return this.__data__.get(e)}function Df(e){return this.__data__.has(e)}function Nf(e,t){var i=this.__data__;if(i instanceof Zt){var o=i.__data__;if(!vi||o.length<c-1)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new qt(o)}return i.set(e,t),this.size=i.size,this}Nt.prototype.clear=Mf,Nt.prototype.delete=Lf,Nt.prototype.get=Of,Nt.prototype.has=Df,Nt.prototype.set=Nf;function Cs(e,t){var i=Z(e),o=!i&&zn(e),u=!i&&!o&&yn(e),d=!i&&!o&&!u&&ei(e),g=i||o||u||d,v=g?fa(e.length,Gh):[],w=v.length;for(var C in e)(t||me.call(e,C))&&!(g&&(C=="length"||u&&(C=="offset"||C=="parent")||d&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||en(C,w)))&&v.push(C);return v}function Ts(e){var t=e.length;return t?e[xa(0,t-1)]:r}function zf(e,t){return pr(rt(e),Ln(t,0,e.length))}function Pf(e){return pr(rt(e))}function ba(e,t,i){(i!==r&&!zt(e[t],i)||i===r&&!(t in e))&&Jt(e,t,i)}function Ri(e,t,i){var o=e[t];(!(me.call(e,t)&&zt(o,i))||i===r&&!(t in e))&&Jt(e,t,i)}function nr(e,t){for(var i=e.length;i--;)if(zt(e[i][0],t))return i;return-1}function Uf(e,t,i,o){return An(e,function(u,d,g){t(o,u,i(u),g)}),o}function xs(e,t){return e&&Ft(t,Be(t),e)}function Bf(e,t){return e&&Ft(t,ot(t),e)}function Jt(e,t,i){t=="__proto__"&&qi?qi(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function wa(e,t){for(var i=-1,o=t.length,u=_(o),d=e==null;++i<o;)u[i]=d?r:eo(e,t[i]);return u}function Ln(e,t,i){return e===e&&(i!==r&&(e=e<=i?e:i),t!==r&&(e=e>=t?e:t)),e}function Et(e,t,i,o,u,d){var g,v=t&R,w=t&I,C=t&M;if(i&&(g=u?i(e,o,u,d):i(e)),g!==r)return g;if(!_e(e))return e;var T=Z(e);if(T){if(g=Ed(e),!v)return rt(e,g)}else{var x=Ze(e),D=x==F||x==le;if(yn(e))return js(e,v);if(x==be||x==Ue||D&&!u){if(g=w||D?{}:Au(e),!v)return w?pd(e,Bf(g,e)):md(e,xs(g,e))}else{if(!Ae[x])return u?e:{};g=Cd(e,x,v)}}d||(d=new Nt);var W=d.get(e);if(W)return W;d.set(e,g),Ku(e)?e.forEach(function(k){g.add(Et(k,t,i,k,e,d))}):Yu(e)&&e.forEach(function(k,te){g.set(te,Et(k,t,i,te,e,d))});var Y=C?w?Va:Wa:w?ot:Be,J=T?r:Y(e);return St(J||e,function(k,te){J&&(te=k,k=e[te]),Ri(g,te,Et(k,t,i,te,e,d))}),g}function Wf(e){var t=Be(e);return function(i){return Ms(i,e,t)}}function Ms(e,t,i){var o=i.length;if(e==null)return!o;for(e=ge(e);o--;){var u=i[o],d=t[u],g=e[u];if(g===r&&!(u in e)||!d(g))return!1}return!0}function Ls(e,t,i){if(typeof e!="function")throw new _t(m);return Ti(function(){e.apply(r,i)},t)}function yi(e,t,i,o){var u=-1,d=Wi,g=!0,v=e.length,w=[],C=t.length;if(!v)return w;i&&(t=ye(t,mt(i))),o?(d=oa,g=!1):t.length>=c&&(d=pi,g=!1,t=new Mn(t));e:for(;++u<v;){var T=e[u],x=i==null?T:i(T);if(T=o||T!==0?T:0,g&&x===x){for(var D=C;D--;)if(t[D]===x)continue e;w.push(T)}else d(t,x,o)||w.push(T)}return w}var An=ru(Vt),Os=ru(ya,!0);function Vf(e,t){var i=!0;return An(e,function(o,u,d){return i=!!t(o,u,d),i}),i}function ir(e,t,i){for(var o=-1,u=e.length;++o<u;){var d=e[o],g=t(d);if(g!=null&&(v===r?g===g&&!gt(g):i(g,v)))var v=g,w=d}return w}function Ff(e,t,i,o){var u=e.length;for(i=q(i),i<0&&(i=-i>u?0:u+i),o=o===r||o>u?u:q(o),o<0&&(o+=u),o=i>o?0:Zu(o);i<o;)e[i++]=t;return e}function Ds(e,t){var i=[];return An(e,function(o,u,d){t(o,u,d)&&i.push(o)}),i}function He(e,t,i,o,u){var d=-1,g=e.length;for(i||(i=xd),u||(u=[]);++d<g;){var v=e[d];t>0&&i(v)?t>1?He(v,t-1,i,o,u):pn(u,v):o||(u[u.length]=v)}return u}var Ra=au(),Ns=au(!0);function Vt(e,t){return e&&Ra(e,t,Be)}function ya(e,t){return e&&Ns(e,t,Be)}function rr(e,t){return mn(t,function(i){return tn(e[i])})}function On(e,t){t=wn(t,e);for(var i=0,o=t.length;e!=null&&i<o;)e=e[Ht(t[i++])];return i&&i==o?e:r}function zs(e,t,i){var o=t(e);return Z(e)?o:pn(o,i(e))}function et(e){return e==null?e===r?Vn:ve:Tn&&Tn in ge(e)?Sd(e):Pd(e)}function Sa(e,t){return e>t}function Hf(e,t){return e!=null&&me.call(e,t)}function Gf(e,t){return e!=null&&t in ge(e)}function $f(e,t,i){return e>=Xe(t,i)&&e<ze(t,i)}function _a(e,t,i){for(var o=i?oa:Wi,u=e[0].length,d=e.length,g=d,v=_(d),w=1/0,C=[];g--;){var T=e[g];g&&t&&(T=ye(T,mt(t))),w=Xe(T.length,w),v[g]=!i&&(t||u>=120&&T.length>=120)?new Mn(g&&T):r}T=e[0];var x=-1,D=v[0];e:for(;++x<u&&C.length<w;){var W=T[x],Y=t?t(W):W;if(W=i||W!==0?W:0,!(D?pi(D,Y):o(C,Y,i))){for(g=d;--g;){var J=v[g];if(!(J?pi(J,Y):o(e[g],Y,i)))continue e}D&&D.push(Y),C.push(W)}}return C}function Yf(e,t,i,o){return Vt(e,function(u,d,g){t(o,i(u),d,g)}),o}function Si(e,t,i){t=wn(t,e),e=yu(e,t);var o=e==null?e:e[Ht(Tt(t))];return o==null?r:dt(o,e,i)}function Ps(e){return xe(e)&&et(e)==Ue}function kf(e){return xe(e)&&et(e)==mi}function Kf(e){return xe(e)&&et(e)==j}function _i(e,t,i,o,u){return e===t?!0:e==null||t==null||!xe(e)&&!xe(t)?e!==e&&t!==t:Xf(e,t,i,o,_i,u)}function Xf(e,t,i,o,u,d){var g=Z(e),v=Z(t),w=g?wt:Ze(e),C=v?wt:Ze(t);w=w==Ue?be:w,C=C==Ue?be:C;var T=w==be,x=C==be,D=w==C;if(D&&yn(e)){if(!yn(t))return!1;g=!0,T=!1}if(D&&!T)return d||(d=new Nt),g||ei(e)?pu(e,t,i,o,u,d):Rd(e,t,w,i,o,u,d);if(!(i&B)){var W=T&&me.call(e,"__wrapped__"),Y=x&&me.call(t,"__wrapped__");if(W||Y){var J=W?e.value():e,k=Y?t.value():t;return d||(d=new Nt),u(J,k,i,o,d)}}return D?(d||(d=new Nt),yd(e,t,i,o,u,d)):!1}function Zf(e){return xe(e)&&Ze(e)==z}function Ia(e,t,i,o){var u=i.length,d=u,g=!o;if(e==null)return!d;for(e=ge(e);u--;){var v=i[u];if(g&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++u<d;){v=i[u];var w=v[0],C=e[w],T=v[1];if(g&&v[2]){if(C===r&&!(w in e))return!1}else{var x=new Nt;if(o)var D=o(C,T,w,e,t,x);if(!(D===r?_i(T,C,B|U,o,x):D))return!1}}return!0}function Us(e){if(!_e(e)||Ld(e))return!1;var t=tn(e)?Xh:Bc;return t.test(Nn(e))}function qf(e){return xe(e)&&et(e)==Ke}function Jf(e){return xe(e)&&Ze(e)==De}function Qf(e){return xe(e)&&Rr(e.length)&&!!Re[et(e)]}function Bs(e){return typeof e=="function"?e:e==null?st:typeof e=="object"?Z(e)?Fs(e[0],e[1]):Vs(e):ol(e)}function Ea(e){if(!Ci(e))return ef(e);var t=[];for(var i in ge(e))me.call(e,i)&&i!="constructor"&&t.push(i);return t}function jf(e){if(!_e(e))return zd(e);var t=Ci(e),i=[];for(var o in e)o=="constructor"&&(t||!me.call(e,o))||i.push(o);return i}function Ca(e,t){return e<t}function Ws(e,t){var i=-1,o=at(e)?_(e.length):[];return An(e,function(u,d,g){o[++i]=t(u,d,g)}),o}function Vs(e){var t=Ha(e);return t.length==1&&t[0][2]?wu(t[0][0],t[0][1]):function(i){return i===e||Ia(i,e,t)}}function Fs(e,t){return $a(e)&&bu(t)?wu(Ht(e),t):function(i){var o=eo(i,e);return o===r&&o===t?to(i,e):_i(t,o,B|U)}}function ar(e,t,i,o,u){e!==t&&Ra(t,function(d,g){if(u||(u=new Nt),_e(d))ed(e,t,g,i,ar,o,u);else{var v=o?o(ka(e,g),d,g+"",e,t,u):r;v===r&&(v=d),ba(e,g,v)}},ot)}function ed(e,t,i,o,u,d,g){var v=ka(e,i),w=ka(t,i),C=g.get(w);if(C){ba(e,i,C);return}var T=d?d(v,w,i+"",e,t,g):r,x=T===r;if(x){var D=Z(w),W=!D&&yn(w),Y=!D&&!W&&ei(w);T=w,D||W||Y?Z(v)?T=v:Me(v)?T=rt(v):W?(x=!1,T=js(w,!0)):Y?(x=!1,T=eu(w,!0)):T=[]:xi(w)||zn(w)?(T=v,zn(v)?T=qu(v):(!_e(v)||tn(v))&&(T=Au(w))):x=!1}x&&(g.set(w,T),u(T,w,o,d,g),g.delete(w)),ba(e,i,T)}function Hs(e,t){var i=e.length;if(i)return t+=t<0?i:0,en(t,i)?e[t]:r}function Gs(e,t,i){t.length?t=ye(t,function(d){return Z(d)?function(g){return On(g,d.length===1?d[0]:d)}:d}):t=[st];var o=-1;t=ye(t,mt(G()));var u=Ws(e,function(d,g,v){var w=ye(t,function(C){return C(d)});return{criteria:w,index:++o,value:d}});return Eh(u,function(d,g){return dd(d,g,i)})}function td(e,t){return $s(e,t,function(i,o){return to(e,o)})}function $s(e,t,i){for(var o=-1,u=t.length,d={};++o<u;){var g=t[o],v=On(e,g);i(v,g)&&Ii(d,wn(g,e),v)}return d}function nd(e){return function(t){return On(t,e)}}function Ta(e,t,i,o){var u=o?Ih:Gn,d=-1,g=t.length,v=e;for(e===t&&(t=rt(t)),i&&(v=ye(e,mt(i)));++d<g;)for(var w=0,C=t[d],T=i?i(C):C;(w=u(v,T,w,o))>-1;)v!==e&&Zi.call(v,w,1),Zi.call(e,w,1);return e}function Ys(e,t){for(var i=e?t.length:0,o=i-1;i--;){var u=t[i];if(i==o||u!==d){var d=u;en(u)?Zi.call(e,u,1):Oa(e,u)}}return e}function xa(e,t){return e+Qi(Is()*(t-e+1))}function id(e,t,i,o){for(var u=-1,d=ze(Ji((t-e)/(i||1)),0),g=_(d);d--;)g[o?d:++u]=e,e+=i;return g}function Ma(e,t){var i="";if(!e||t<1||t>bt)return i;do t%2&&(i+=e),t=Qi(t/2),t&&(e+=e);while(t);return i}function Q(e,t){return Ka(Ru(e,t,st),e+"")}function rd(e){return Ts(ti(e))}function ad(e,t){var i=ti(e);return pr(i,Ln(t,0,i.length))}function Ii(e,t,i,o){if(!_e(e))return e;t=wn(t,e);for(var u=-1,d=t.length,g=d-1,v=e;v!=null&&++u<d;){var w=Ht(t[u]),C=i;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(u!=g){var T=v[w];C=o?o(T,w,v):r,C===r&&(C=_e(T)?T:en(t[u+1])?[]:{})}Ri(v,w,C),v=v[w]}return e}var ks=ji?function(e,t){return ji.set(e,t),e}:st,od=qi?function(e,t){return qi(e,"toString",{configurable:!0,enumerable:!1,value:io(t),writable:!0})}:st;function sd(e){return pr(ti(e))}function Ct(e,t,i){var o=-1,u=e.length;t<0&&(t=-t>u?0:u+t),i=i>u?u:i,i<0&&(i+=u),u=t>i?0:i-t>>>0,t>>>=0;for(var d=_(u);++o<u;)d[o]=e[o+t];return d}function ud(e,t){var i;return An(e,function(o,u,d){return i=t(o,u,d),!i}),!!i}function or(e,t,i){var o=0,u=e==null?o:e.length;if(typeof t=="number"&&t===t&&u<=hi){for(;o<u;){var d=o+u>>>1,g=e[d];g!==null&&!gt(g)&&(i?g<=t:g<t)?o=d+1:u=d}return u}return La(e,t,st,i)}function La(e,t,i,o){var u=0,d=e==null?0:e.length;if(d===0)return 0;t=i(t);for(var g=t!==t,v=t===null,w=gt(t),C=t===r;u<d;){var T=Qi((u+d)/2),x=i(e[T]),D=x!==r,W=x===null,Y=x===x,J=gt(x);if(g)var k=o||Y;else C?k=Y&&(o||D):v?k=Y&&D&&(o||!W):w?k=Y&&D&&!W&&(o||!J):W||J?k=!1:k=o?x<=t:x<t;k?u=T+1:d=T}return Xe(d,ci)}function Ks(e,t){for(var i=-1,o=e.length,u=0,d=[];++i<o;){var g=e[i],v=t?t(g):g;if(!i||!zt(v,w)){var w=v;d[u++]=g===0?0:g}}return d}function Xs(e){return typeof e=="number"?e:gt(e)?dn:+e}function pt(e){if(typeof e=="string")return e;if(Z(e))return ye(e,pt)+"";if(gt(e))return Es?Es.call(e):"";var t=e+"";return t=="0"&&1/e==-ht?"-0":t}function bn(e,t,i){var o=-1,u=Wi,d=e.length,g=!0,v=[],w=v;if(i)g=!1,u=oa;else if(d>=c){var C=t?null:bd(e);if(C)return Fi(C);g=!1,u=pi,w=new Mn}else w=t?[]:v;e:for(;++o<d;){var T=e[o],x=t?t(T):T;if(T=i||T!==0?T:0,g&&x===x){for(var D=w.length;D--;)if(w[D]===x)continue e;t&&w.push(x),v.push(T)}else u(w,x,i)||(w!==v&&w.push(x),v.push(T))}return v}function Oa(e,t){return t=wn(t,e),e=yu(e,t),e==null||delete e[Ht(Tt(t))]}function Zs(e,t,i,o){return Ii(e,t,i(On(e,t)),o)}function sr(e,t,i,o){for(var u=e.length,d=o?u:-1;(o?d--:++d<u)&&t(e[d],d,e););return i?Ct(e,o?0:d,o?d+1:u):Ct(e,o?d+1:0,o?u:d)}function qs(e,t){var i=e;return i instanceof ne&&(i=i.value()),sa(t,function(o,u){return u.func.apply(u.thisArg,pn([o],u.args))},i)}function Da(e,t,i){var o=e.length;if(o<2)return o?bn(e[0]):[];for(var u=-1,d=_(o);++u<o;)for(var g=e[u],v=-1;++v<o;)v!=u&&(d[u]=yi(d[u]||g,e[v],t,i));return bn(He(d,1),t,i)}function Js(e,t,i){for(var o=-1,u=e.length,d=t.length,g={};++o<u;){var v=o<d?t[o]:r;i(g,e[o],v)}return g}function Na(e){return Me(e)?e:[]}function za(e){return typeof e=="function"?e:st}function wn(e,t){return Z(e)?e:$a(e,t)?[e]:Eu(de(e))}var ld=Q;function Rn(e,t,i){var o=e.length;return i=i===r?o:i,!t&&i>=o?e:Ct(e,t,i)}var Qs=Zh||function(e){return Fe.clearTimeout(e)};function js(e,t){if(t)return e.slice();var i=e.length,o=ws?ws(i):new e.constructor(i);return e.copy(o),o}function Pa(e){var t=new e.constructor(e.byteLength);return new Ki(t).set(new Ki(e)),t}function cd(e,t){var i=t?Pa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function hd(e){var t=new e.constructor(e.source,Po.exec(e));return t.lastIndex=e.lastIndex,t}function fd(e){return wi?ge(wi.call(e)):{}}function eu(e,t){var i=t?Pa(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function tu(e,t){if(e!==t){var i=e!==r,o=e===null,u=e===e,d=gt(e),g=t!==r,v=t===null,w=t===t,C=gt(t);if(!v&&!C&&!d&&e>t||d&&g&&w&&!v&&!C||o&&g&&w||!i&&w||!u)return 1;if(!o&&!d&&!C&&e<t||C&&i&&u&&!o&&!d||v&&i&&u||!g&&u||!w)return-1}return 0}function dd(e,t,i){for(var o=-1,u=e.criteria,d=t.criteria,g=u.length,v=i.length;++o<g;){var w=tu(u[o],d[o]);if(w){if(o>=v)return w;var C=i[o];return w*(C=="desc"?-1:1)}}return e.index-t.index}function nu(e,t,i,o){for(var u=-1,d=e.length,g=i.length,v=-1,w=t.length,C=ze(d-g,0),T=_(w+C),x=!o;++v<w;)T[v]=t[v];for(;++u<g;)(x||u<d)&&(T[i[u]]=e[u]);for(;C--;)T[v++]=e[u++];return T}function iu(e,t,i,o){for(var u=-1,d=e.length,g=-1,v=i.length,w=-1,C=t.length,T=ze(d-v,0),x=_(T+C),D=!o;++u<T;)x[u]=e[u];for(var W=u;++w<C;)x[W+w]=t[w];for(;++g<v;)(D||u<d)&&(x[W+i[g]]=e[u++]);return x}function rt(e,t){var i=-1,o=e.length;for(t||(t=_(o));++i<o;)t[i]=e[i];return t}function Ft(e,t,i,o){var u=!i;i||(i={});for(var d=-1,g=t.length;++d<g;){var v=t[d],w=o?o(i[v],e[v],v,i,e):r;w===r&&(w=e[v]),u?Jt(i,v,w):Ri(i,v,w)}return i}function md(e,t){return Ft(e,Ga(e),t)}function pd(e,t){return Ft(e,gu(e),t)}function ur(e,t){return function(i,o){var u=Z(i)?bh:Uf,d=t?t():{};return u(i,e,G(o,2),d)}}function Jn(e){return Q(function(t,i){var o=-1,u=i.length,d=u>1?i[u-1]:r,g=u>2?i[2]:r;for(d=e.length>3&&typeof d=="function"?(u--,d):r,g&&tt(i[0],i[1],g)&&(d=u<3?r:d,u=1),t=ge(t);++o<u;){var v=i[o];v&&e(t,v,o,d)}return t})}function ru(e,t){return function(i,o){if(i==null)return i;if(!at(i))return e(i,o);for(var u=i.length,d=t?u:-1,g=ge(i);(t?d--:++d<u)&&o(g[d],d,g)!==!1;);return i}}function au(e){return function(t,i,o){for(var u=-1,d=ge(t),g=o(t),v=g.length;v--;){var w=g[e?v:++u];if(i(d[w],w,d)===!1)break}return t}}function gd(e,t,i){var o=t&V,u=Ei(e);function d(){var g=this&&this!==Fe&&this instanceof d?u:e;return g.apply(o?i:this,arguments)}return d}function ou(e){return function(t){t=de(t);var i=$n(t)?Dt(t):r,o=i?i[0]:t.charAt(0),u=i?Rn(i,1).join(""):t.slice(1);return o[e]()+u}}function Qn(e){return function(t){return sa(rl(il(t).replace(ah,"")),e,"")}}function Ei(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=qn(e.prototype),o=e.apply(i,t);return _e(o)?o:i}}function vd(e,t,i){var o=Ei(e);function u(){for(var d=arguments.length,g=_(d),v=d,w=jn(u);v--;)g[v]=arguments[v];var C=d<3&&g[0]!==w&&g[d-1]!==w?[]:gn(g,w);if(d-=C.length,d<i)return hu(e,t,lr,u.placeholder,r,g,C,r,r,i-d);var T=this&&this!==Fe&&this instanceof u?o:e;return dt(T,this,g)}return u}function su(e){return function(t,i,o){var u=ge(t);if(!at(t)){var d=G(i,3);t=Be(t),i=function(v){return d(u[v],v,u)}}var g=e(t,i,o);return g>-1?u[d?t[g]:g]:r}}function uu(e){return jt(function(t){var i=t.length,o=i,u=It.prototype.thru;for(e&&t.reverse();o--;){var d=t[o];if(typeof d!="function")throw new _t(m);if(u&&!g&&dr(d)=="wrapper")var g=new It([],!0)}for(o=g?o:i;++o<i;){d=t[o];var v=dr(d),w=v=="wrapper"?Fa(d):r;w&&Ya(w[0])&&w[1]==(Se|Ce|ee|Ye)&&!w[4].length&&w[9]==1?g=g[dr(w[0])].apply(g,w[3]):g=d.length==1&&Ya(d)?g[v]():g.thru(d)}return function(){var C=arguments,T=C[0];if(g&&C.length==1&&Z(T))return g.plant(T).value();for(var x=0,D=i?t[x].apply(this,C):T;++x<i;)D=t[x].call(this,D);return D}})}function lr(e,t,i,o,u,d,g,v,w,C){var T=t&Se,x=t&V,D=t&ae,W=t&(Ce|oe),Y=t&Te,J=D?r:Ei(e);function k(){for(var te=arguments.length,re=_(te),vt=te;vt--;)re[vt]=arguments[vt];if(W)var nt=jn(k),At=Th(re,nt);if(o&&(re=nu(re,o,u,W)),d&&(re=iu(re,d,g,W)),te-=At,W&&te<C){var Le=gn(re,nt);return hu(e,t,lr,k.placeholder,i,re,Le,v,w,C-te)}var Pt=x?i:this,rn=D?Pt[e]:e;return te=re.length,v?re=Ud(re,v):Y&&te>1&&re.reverse(),T&&w<te&&(re.length=w),this&&this!==Fe&&this instanceof k&&(rn=J||Ei(rn)),rn.apply(Pt,re)}return k}function lu(e,t){return function(i,o){return Yf(i,e,t(o),{})}}function cr(e,t){return function(i,o){var u;if(i===r&&o===r)return t;if(i!==r&&(u=i),o!==r){if(u===r)return o;typeof i=="string"||typeof o=="string"?(i=pt(i),o=pt(o)):(i=Xs(i),o=Xs(o)),u=e(i,o)}return u}}function Ua(e){return jt(function(t){return t=ye(t,mt(G())),Q(function(i){var o=this;return e(t,function(u){return dt(u,o,i)})})})}function hr(e,t){t=t===r?" ":pt(t);var i=t.length;if(i<2)return i?Ma(t,e):t;var o=Ma(t,Ji(e/Yn(t)));return $n(t)?Rn(Dt(o),0,e).join(""):o.slice(0,e)}function Ad(e,t,i,o){var u=t&V,d=Ei(e);function g(){for(var v=-1,w=arguments.length,C=-1,T=o.length,x=_(T+w),D=this&&this!==Fe&&this instanceof g?d:e;++C<T;)x[C]=o[C];for(;w--;)x[C++]=arguments[++v];return dt(D,u?i:this,x)}return g}function cu(e){return function(t,i,o){return o&&typeof o!="number"&&tt(t,i,o)&&(i=o=r),t=nn(t),i===r?(i=t,t=0):i=nn(i),o=o===r?t<i?1:-1:nn(o),id(t,i,o,e)}}function fr(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=xt(t),i=xt(i)),e(t,i)}}function hu(e,t,i,o,u,d,g,v,w,C){var T=t&Ce,x=T?g:r,D=T?r:g,W=T?d:r,Y=T?r:d;t|=T?ee:ie,t&=~(T?ie:ee),t&Qe||(t&=~(V|ae));var J=[e,t,u,W,x,Y,D,v,w,C],k=i.apply(r,J);return Ya(e)&&Su(k,J),k.placeholder=o,_u(k,e,t)}function Ba(e){var t=Ne[e];return function(i,o){if(i=xt(i),o=o==null?0:Xe(q(o),292),o&&_s(i)){var u=(de(i)+"e").split("e"),d=t(u[0]+"e"+(+u[1]+o));return u=(de(d)+"e").split("e"),+(u[0]+"e"+(+u[1]-o))}return t(i)}}var bd=Xn&&1/Fi(new Xn([,-0]))[1]==ht?function(e){return new Xn(e)}:oo;function fu(e){return function(t){var i=Ze(t);return i==z?ma(t):i==De?zh(t):Ch(t,e(t))}}function Qt(e,t,i,o,u,d,g,v){var w=t&ae;if(!w&&typeof e!="function")throw new _t(m);var C=o?o.length:0;if(C||(t&=~(ee|ie),o=u=r),g=g===r?g:ze(q(g),0),v=v===r?v:q(v),C-=u?u.length:0,t&ie){var T=o,x=u;o=u=r}var D=w?r:Fa(e),W=[e,t,i,o,u,T,x,d,g,v];if(D&&Nd(W,D),e=W[0],t=W[1],i=W[2],o=W[3],u=W[4],v=W[9]=W[9]===r?w?0:e.length:ze(W[9]-C,0),!v&&t&(Ce|oe)&&(t&=~(Ce|oe)),!t||t==V)var Y=gd(e,t,i);else t==Ce||t==oe?Y=vd(e,t,v):(t==ee||t==(V|ee))&&!u.length?Y=Ad(e,t,i,o):Y=lr.apply(r,W);var J=D?ks:Su;return _u(J(Y,W),e,t)}function du(e,t,i,o){return e===r||zt(e,Kn[i])&&!me.call(o,i)?t:e}function mu(e,t,i,o,u,d){return _e(e)&&_e(t)&&(d.set(t,e),ar(e,t,r,mu,d),d.delete(t)),e}function wd(e){return xi(e)?r:e}function pu(e,t,i,o,u,d){var g=i&B,v=e.length,w=t.length;if(v!=w&&!(g&&w>v))return!1;var C=d.get(e),T=d.get(t);if(C&&T)return C==t&&T==e;var x=-1,D=!0,W=i&U?new Mn:r;for(d.set(e,t),d.set(t,e);++x<v;){var Y=e[x],J=t[x];if(o)var k=g?o(J,Y,x,t,e,d):o(Y,J,x,e,t,d);if(k!==r){if(k)continue;D=!1;break}if(W){if(!ua(t,function(te,re){if(!pi(W,re)&&(Y===te||u(Y,te,i,o,d)))return W.push(re)})){D=!1;break}}else if(!(Y===J||u(Y,J,i,o,d))){D=!1;break}}return d.delete(e),d.delete(t),D}function Rd(e,t,i,o,u,d,g){switch(i){case Fn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mi:return!(e.byteLength!=t.byteLength||!d(new Ki(e),new Ki(t)));case N:case j:case ue:return zt(+e,+t);case $:return e.name==t.name&&e.message==t.message;case Ke:case ft:return e==t+"";case z:var v=ma;case De:var w=o&B;if(v||(v=Fi),e.size!=t.size&&!w)return!1;var C=g.get(e);if(C)return C==t;o|=U,g.set(e,t);var T=pu(v(e),v(t),o,u,d,g);return g.delete(e),T;case Xt:if(wi)return wi.call(e)==wi.call(t)}return!1}function yd(e,t,i,o,u,d){var g=i&B,v=Wa(e),w=v.length,C=Wa(t),T=C.length;if(w!=T&&!g)return!1;for(var x=w;x--;){var D=v[x];if(!(g?D in t:me.call(t,D)))return!1}var W=d.get(e),Y=d.get(t);if(W&&Y)return W==t&&Y==e;var J=!0;d.set(e,t),d.set(t,e);for(var k=g;++x<w;){D=v[x];var te=e[D],re=t[D];if(o)var vt=g?o(re,te,D,t,e,d):o(te,re,D,e,t,d);if(!(vt===r?te===re||u(te,re,i,o,d):vt)){J=!1;break}k||(k=D=="constructor")}if(J&&!k){var nt=e.constructor,At=t.constructor;nt!=At&&"constructor"in e&&"constructor"in t&&!(typeof nt=="function"&&nt instanceof nt&&typeof At=="function"&&At instanceof At)&&(J=!1)}return d.delete(e),d.delete(t),J}function jt(e){return Ka(Ru(e,r,Mu),e+"")}function Wa(e){return zs(e,Be,Ga)}function Va(e){return zs(e,ot,gu)}var Fa=ji?function(e){return ji.get(e)}:oo;function dr(e){for(var t=e.name+"",i=Zn[t],o=me.call(Zn,t)?i.length:0;o--;){var u=i[o],d=u.func;if(d==null||d==e)return u.name}return t}function jn(e){var t=me.call(h,"placeholder")?h:e;return t.placeholder}function G(){var e=h.iteratee||ro;return e=e===ro?Bs:e,arguments.length?e(arguments[0],arguments[1]):e}function mr(e,t){var i=e.__data__;return Md(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Ha(e){for(var t=Be(e),i=t.length;i--;){var o=t[i],u=e[o];t[i]=[o,u,bu(u)]}return t}function Dn(e,t){var i=Oh(e,t);return Us(i)?i:r}function Sd(e){var t=me.call(e,Tn),i=e[Tn];try{e[Tn]=r;var o=!0}catch{}var u=Yi.call(e);return o&&(t?e[Tn]=i:delete e[Tn]),u}var Ga=ga?function(e){return e==null?[]:(e=ge(e),mn(ga(e),function(t){return ys.call(e,t)}))}:so,gu=ga?function(e){for(var t=[];e;)pn(t,Ga(e)),e=Xi(e);return t}:so,Ze=et;(va&&Ze(new va(new ArrayBuffer(1)))!=Fn||vi&&Ze(new vi)!=z||Aa&&Ze(Aa.resolve())!=we||Xn&&Ze(new Xn)!=De||Ai&&Ze(new Ai)!=di)&&(Ze=function(e){var t=et(e),i=t==be?e.constructor:r,o=i?Nn(i):"";if(o)switch(o){case af:return Fn;case of:return z;case sf:return we;case uf:return De;case lf:return di}return t});function _d(e,t,i){for(var o=-1,u=i.length;++o<u;){var d=i[o],g=d.size;switch(d.type){case"drop":e+=g;break;case"dropRight":t-=g;break;case"take":t=Xe(t,e+g);break;case"takeRight":e=ze(e,t-g);break}}return{start:e,end:t}}function Id(e){var t=e.match(Mc);return t?t[1].split(Lc):[]}function vu(e,t,i){t=wn(t,e);for(var o=-1,u=t.length,d=!1;++o<u;){var g=Ht(t[o]);if(!(d=e!=null&&i(e,g)))break;e=e[g]}return d||++o!=u?d:(u=e==null?0:e.length,!!u&&Rr(u)&&en(g,u)&&(Z(e)||zn(e)))}function Ed(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&me.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Au(e){return typeof e.constructor=="function"&&!Ci(e)?qn(Xi(e)):{}}function Cd(e,t,i){var o=e.constructor;switch(t){case mi:return Pa(e);case N:case j:return new o(+e);case Fn:return cd(e,i);case Hr:case Gr:case $r:case Yr:case kr:case Kr:case Xr:case Zr:case qr:return eu(e,i);case z:return new o;case ue:case ft:return new o(e);case Ke:return hd(e);case De:return new o;case Xt:return fd(e)}}function Td(e,t){var i=t.length;if(!i)return e;var o=i-1;return t[o]=(i>1?"& ":"")+t[o],t=t.join(i>2?", ":" "),e.replace(xc,`{
/* [wrapped with `+t+`] */
`)}function xd(e){return Z(e)||zn(e)||!!(Ss&&e&&e[Ss])}function en(e,t){var i=typeof e;return t=t??bt,!!t&&(i=="number"||i!="symbol"&&Vc.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,i){if(!_e(i))return!1;var o=typeof t;return(o=="number"?at(i)&&en(t,i.length):o=="string"&&t in i)?zt(i[t],e):!1}function $a(e,t){if(Z(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||gt(e)?!0:Ic.test(e)||!_c.test(e)||t!=null&&e in ge(t)}function Md(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ya(e){var t=dr(e),i=h[t];if(typeof i!="function"||!(t in ne.prototype))return!1;if(e===i)return!0;var o=Fa(i);return!!o&&e===o[0]}function Ld(e){return!!bs&&bs in e}var Od=Gi?tn:uo;function Ci(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Kn;return e===i}function bu(e){return e===e&&!_e(e)}function wu(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==r||e in ge(i))}}function Dd(e){var t=br(e,function(o){return i.size===A&&i.clear(),o}),i=t.cache;return t}function Nd(e,t){var i=e[1],o=t[1],u=i|o,d=u<(V|ae|Se),g=o==Se&&i==Ce||o==Se&&i==Ye&&e[7].length<=t[8]||o==(Se|Ye)&&t[7].length<=t[8]&&i==Ce;if(!(d||g))return e;o&V&&(e[2]=t[2],u|=i&V?0:Qe);var v=t[3];if(v){var w=e[3];e[3]=w?nu(w,v,t[4]):v,e[4]=w?gn(e[3],S):t[4]}return v=t[5],v&&(w=e[5],e[5]=w?iu(w,v,t[6]):v,e[6]=w?gn(e[5],S):t[6]),v=t[7],v&&(e[7]=v),o&Se&&(e[8]=e[8]==null?t[8]:Xe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function zd(e){var t=[];if(e!=null)for(var i in ge(e))t.push(i);return t}function Pd(e){return Yi.call(e)}function Ru(e,t,i){return t=ze(t===r?e.length-1:t,0),function(){for(var o=arguments,u=-1,d=ze(o.length-t,0),g=_(d);++u<d;)g[u]=o[t+u];u=-1;for(var v=_(t+1);++u<t;)v[u]=o[u];return v[t]=i(g),dt(e,this,v)}}function yu(e,t){return t.length<2?e:On(e,Ct(t,0,-1))}function Ud(e,t){for(var i=e.length,o=Xe(t.length,i),u=rt(e);o--;){var d=t[o];e[o]=en(d,i)?u[d]:r}return e}function ka(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Su=Iu(ks),Ti=Jh||function(e,t){return Fe.setTimeout(e,t)},Ka=Iu(od);function _u(e,t,i){var o=t+"";return Ka(e,Td(o,Bd(Id(o),i)))}function Iu(e){var t=0,i=0;return function(){var o=tf(),u=ke-(o-i);if(i=o,u>0){if(++t>=cn)return arguments[0]}else t=0;return e.apply(r,arguments)}}function pr(e,t){var i=-1,o=e.length,u=o-1;for(t=t===r?o:t;++i<t;){var d=xa(i,u),g=e[d];e[d]=e[i],e[i]=g}return e.length=t,e}var Eu=Dd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ec,function(i,o,u,d){t.push(u?d.replace(Nc,"$1"):o||i)}),t});function Ht(e){if(typeof e=="string"||gt(e))return e;var t=e+"";return t=="0"&&1/e==-ht?"-0":t}function Nn(e){if(e!=null){try{return $i.call(e)}catch{}try{return e+""}catch{}}return""}function Bd(e,t){return St(fi,function(i){var o="_."+i[0];t&i[1]&&!Wi(e,o)&&e.push(o)}),e.sort()}function Cu(e){if(e instanceof ne)return e.clone();var t=new It(e.__wrapped__,e.__chain__);return t.__actions__=rt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Wd(e,t,i){(i?tt(e,t,i):t===r)?t=1:t=ze(q(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var u=0,d=0,g=_(Ji(o/t));u<o;)g[d++]=Ct(e,u,u+=t);return g}function Vd(e){for(var t=-1,i=e==null?0:e.length,o=0,u=[];++t<i;){var d=e[t];d&&(u[o++]=d)}return u}function Fd(){var e=arguments.length;if(!e)return[];for(var t=_(e-1),i=arguments[0],o=e;o--;)t[o-1]=arguments[o];return pn(Z(i)?rt(i):[i],He(t,1))}var Hd=Q(function(e,t){return Me(e)?yi(e,He(t,1,Me,!0)):[]}),Gd=Q(function(e,t){var i=Tt(t);return Me(i)&&(i=r),Me(e)?yi(e,He(t,1,Me,!0),G(i,2)):[]}),$d=Q(function(e,t){var i=Tt(t);return Me(i)&&(i=r),Me(e)?yi(e,He(t,1,Me,!0),r,i):[]});function Yd(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===r?1:q(t),Ct(e,t<0?0:t,o)):[]}function kd(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===r?1:q(t),t=o-t,Ct(e,0,t<0?0:t)):[]}function Kd(e,t){return e&&e.length?sr(e,G(t,3),!0,!0):[]}function Xd(e,t){return e&&e.length?sr(e,G(t,3),!0):[]}function Zd(e,t,i,o){var u=e==null?0:e.length;return u?(i&&typeof i!="number"&&tt(e,t,i)&&(i=0,o=u),Ff(e,t,i,o)):[]}function Tu(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var u=i==null?0:q(i);return u<0&&(u=ze(o+u,0)),Vi(e,G(t,3),u)}function xu(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var u=o-1;return i!==r&&(u=q(i),u=i<0?ze(o+u,0):Xe(u,o-1)),Vi(e,G(t,3),u,!0)}function Mu(e){var t=e==null?0:e.length;return t?He(e,1):[]}function qd(e){var t=e==null?0:e.length;return t?He(e,ht):[]}function Jd(e,t){var i=e==null?0:e.length;return i?(t=t===r?1:q(t),He(e,t)):[]}function Qd(e){for(var t=-1,i=e==null?0:e.length,o={};++t<i;){var u=e[t];o[u[0]]=u[1]}return o}function Lu(e){return e&&e.length?e[0]:r}function jd(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var u=i==null?0:q(i);return u<0&&(u=ze(o+u,0)),Gn(e,t,u)}function em(e){var t=e==null?0:e.length;return t?Ct(e,0,-1):[]}var tm=Q(function(e){var t=ye(e,Na);return t.length&&t[0]===e[0]?_a(t):[]}),nm=Q(function(e){var t=Tt(e),i=ye(e,Na);return t===Tt(i)?t=r:i.pop(),i.length&&i[0]===e[0]?_a(i,G(t,2)):[]}),im=Q(function(e){var t=Tt(e),i=ye(e,Na);return t=typeof t=="function"?t:r,t&&i.pop(),i.length&&i[0]===e[0]?_a(i,r,t):[]});function rm(e,t){return e==null?"":jh.call(e,t)}function Tt(e){var t=e==null?0:e.length;return t?e[t-1]:r}function am(e,t,i){var o=e==null?0:e.length;if(!o)return-1;var u=o;return i!==r&&(u=q(i),u=u<0?ze(o+u,0):Xe(u,o-1)),t===t?Uh(e,t,u):Vi(e,hs,u,!0)}function om(e,t){return e&&e.length?Hs(e,q(t)):r}var sm=Q(Ou);function Ou(e,t){return e&&e.length&&t&&t.length?Ta(e,t):e}function um(e,t,i){return e&&e.length&&t&&t.length?Ta(e,t,G(i,2)):e}function lm(e,t,i){return e&&e.length&&t&&t.length?Ta(e,t,r,i):e}var cm=jt(function(e,t){var i=e==null?0:e.length,o=wa(e,t);return Ys(e,ye(t,function(u){return en(u,i)?+u:u}).sort(tu)),o});function hm(e,t){var i=[];if(!(e&&e.length))return i;var o=-1,u=[],d=e.length;for(t=G(t,3);++o<d;){var g=e[o];t(g,o,e)&&(i.push(g),u.push(o))}return Ys(e,u),i}function Xa(e){return e==null?e:rf.call(e)}function fm(e,t,i){var o=e==null?0:e.length;return o?(i&&typeof i!="number"&&tt(e,t,i)?(t=0,i=o):(t=t==null?0:q(t),i=i===r?o:q(i)),Ct(e,t,i)):[]}function dm(e,t){return or(e,t)}function mm(e,t,i){return La(e,t,G(i,2))}function pm(e,t){var i=e==null?0:e.length;if(i){var o=or(e,t);if(o<i&&zt(e[o],t))return o}return-1}function gm(e,t){return or(e,t,!0)}function vm(e,t,i){return La(e,t,G(i,2),!0)}function Am(e,t){var i=e==null?0:e.length;if(i){var o=or(e,t,!0)-1;if(zt(e[o],t))return o}return-1}function bm(e){return e&&e.length?Ks(e):[]}function wm(e,t){return e&&e.length?Ks(e,G(t,2)):[]}function Rm(e){var t=e==null?0:e.length;return t?Ct(e,1,t):[]}function ym(e,t,i){return e&&e.length?(t=i||t===r?1:q(t),Ct(e,0,t<0?0:t)):[]}function Sm(e,t,i){var o=e==null?0:e.length;return o?(t=i||t===r?1:q(t),t=o-t,Ct(e,t<0?0:t,o)):[]}function _m(e,t){return e&&e.length?sr(e,G(t,3),!1,!0):[]}function Im(e,t){return e&&e.length?sr(e,G(t,3)):[]}var Em=Q(function(e){return bn(He(e,1,Me,!0))}),Cm=Q(function(e){var t=Tt(e);return Me(t)&&(t=r),bn(He(e,1,Me,!0),G(t,2))}),Tm=Q(function(e){var t=Tt(e);return t=typeof t=="function"?t:r,bn(He(e,1,Me,!0),r,t)});function xm(e){return e&&e.length?bn(e):[]}function Mm(e,t){return e&&e.length?bn(e,G(t,2)):[]}function Lm(e,t){return t=typeof t=="function"?t:r,e&&e.length?bn(e,r,t):[]}function Za(e){if(!(e&&e.length))return[];var t=0;return e=mn(e,function(i){if(Me(i))return t=ze(i.length,t),!0}),fa(t,function(i){return ye(e,la(i))})}function Du(e,t){if(!(e&&e.length))return[];var i=Za(e);return t==null?i:ye(i,function(o){return dt(t,r,o)})}var Om=Q(function(e,t){return Me(e)?yi(e,t):[]}),Dm=Q(function(e){return Da(mn(e,Me))}),Nm=Q(function(e){var t=Tt(e);return Me(t)&&(t=r),Da(mn(e,Me),G(t,2))}),zm=Q(function(e){var t=Tt(e);return t=typeof t=="function"?t:r,Da(mn(e,Me),r,t)}),Pm=Q(Za);function Um(e,t){return Js(e||[],t||[],Ri)}function Bm(e,t){return Js(e||[],t||[],Ii)}var Wm=Q(function(e){var t=e.length,i=t>1?e[t-1]:r;return i=typeof i=="function"?(e.pop(),i):r,Du(e,i)});function Nu(e){var t=h(e);return t.__chain__=!0,t}function Vm(e,t){return t(e),e}function gr(e,t){return t(e)}var Fm=jt(function(e){var t=e.length,i=t?e[0]:0,o=this.__wrapped__,u=function(d){return wa(d,e)};return t>1||this.__actions__.length||!(o instanceof ne)||!en(i)?this.thru(u):(o=o.slice(i,+i+(t?1:0)),o.__actions__.push({func:gr,args:[u],thisArg:r}),new It(o,this.__chain__).thru(function(d){return t&&!d.length&&d.push(r),d}))});function Hm(){return Nu(this)}function Gm(){return new It(this.value(),this.__chain__)}function $m(){this.__values__===r&&(this.__values__=Xu(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Ym(){return this}function km(e){for(var t,i=this;i instanceof tr;){var o=Cu(i);o.__index__=0,o.__values__=r,t?u.__wrapped__=o:t=o;var u=o;i=i.__wrapped__}return u.__wrapped__=e,t}function Km(){var e=this.__wrapped__;if(e instanceof ne){var t=e;return this.__actions__.length&&(t=new ne(this)),t=t.reverse(),t.__actions__.push({func:gr,args:[Xa],thisArg:r}),new It(t,this.__chain__)}return this.thru(Xa)}function Xm(){return qs(this.__wrapped__,this.__actions__)}var Zm=ur(function(e,t,i){me.call(e,i)?++e[i]:Jt(e,i,1)});function qm(e,t,i){var o=Z(e)?ls:Vf;return i&&tt(e,t,i)&&(t=r),o(e,G(t,3))}function Jm(e,t){var i=Z(e)?mn:Ds;return i(e,G(t,3))}var Qm=su(Tu),jm=su(xu);function ep(e,t){return He(vr(e,t),1)}function tp(e,t){return He(vr(e,t),ht)}function np(e,t,i){return i=i===r?1:q(i),He(vr(e,t),i)}function zu(e,t){var i=Z(e)?St:An;return i(e,G(t,3))}function Pu(e,t){var i=Z(e)?wh:Os;return i(e,G(t,3))}var ip=ur(function(e,t,i){me.call(e,i)?e[i].push(t):Jt(e,i,[t])});function rp(e,t,i,o){e=at(e)?e:ti(e),i=i&&!o?q(i):0;var u=e.length;return i<0&&(i=ze(u+i,0)),yr(e)?i<=u&&e.indexOf(t,i)>-1:!!u&&Gn(e,t,i)>-1}var ap=Q(function(e,t,i){var o=-1,u=typeof t=="function",d=at(e)?_(e.length):[];return An(e,function(g){d[++o]=u?dt(t,g,i):Si(g,t,i)}),d}),op=ur(function(e,t,i){Jt(e,i,t)});function vr(e,t){var i=Z(e)?ye:Ws;return i(e,G(t,3))}function sp(e,t,i,o){return e==null?[]:(Z(t)||(t=t==null?[]:[t]),i=o?r:i,Z(i)||(i=i==null?[]:[i]),Gs(e,t,i))}var up=ur(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function lp(e,t,i){var o=Z(e)?sa:ds,u=arguments.length<3;return o(e,G(t,4),i,u,An)}function cp(e,t,i){var o=Z(e)?Rh:ds,u=arguments.length<3;return o(e,G(t,4),i,u,Os)}function hp(e,t){var i=Z(e)?mn:Ds;return i(e,wr(G(t,3)))}function fp(e){var t=Z(e)?Ts:rd;return t(e)}function dp(e,t,i){(i?tt(e,t,i):t===r)?t=1:t=q(t);var o=Z(e)?zf:ad;return o(e,t)}function mp(e){var t=Z(e)?Pf:sd;return t(e)}function pp(e){if(e==null)return 0;if(at(e))return yr(e)?Yn(e):e.length;var t=Ze(e);return t==z||t==De?e.size:Ea(e).length}function gp(e,t,i){var o=Z(e)?ua:ud;return i&&tt(e,t,i)&&(t=r),o(e,G(t,3))}var vp=Q(function(e,t){if(e==null)return[];var i=t.length;return i>1&&tt(e,t[0],t[1])?t=[]:i>2&&tt(t[0],t[1],t[2])&&(t=[t[0]]),Gs(e,He(t,1),[])}),Ar=qh||function(){return Fe.Date.now()};function Ap(e,t){if(typeof t!="function")throw new _t(m);return e=q(e),function(){if(--e<1)return t.apply(this,arguments)}}function Uu(e,t,i){return t=i?r:t,t=e&&t==null?e.length:t,Qt(e,Se,r,r,r,r,t)}function Bu(e,t){var i;if(typeof t!="function")throw new _t(m);return e=q(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=r),i}}var qa=Q(function(e,t,i){var o=V;if(i.length){var u=gn(i,jn(qa));o|=ee}return Qt(e,o,t,i,u)}),Wu=Q(function(e,t,i){var o=V|ae;if(i.length){var u=gn(i,jn(Wu));o|=ee}return Qt(t,o,e,i,u)});function Vu(e,t,i){t=i?r:t;var o=Qt(e,Ce,r,r,r,r,r,t);return o.placeholder=Vu.placeholder,o}function Fu(e,t,i){t=i?r:t;var o=Qt(e,oe,r,r,r,r,r,t);return o.placeholder=Fu.placeholder,o}function Hu(e,t,i){var o,u,d,g,v,w,C=0,T=!1,x=!1,D=!0;if(typeof e!="function")throw new _t(m);t=xt(t)||0,_e(i)&&(T=!!i.leading,x="maxWait"in i,d=x?ze(xt(i.maxWait)||0,t):d,D="trailing"in i?!!i.trailing:D);function W(Le){var Pt=o,rn=u;return o=u=r,C=Le,g=e.apply(rn,Pt),g}function Y(Le){return C=Le,v=Ti(te,t),T?W(Le):g}function J(Le){var Pt=Le-w,rn=Le-C,sl=t-Pt;return x?Xe(sl,d-rn):sl}function k(Le){var Pt=Le-w,rn=Le-C;return w===r||Pt>=t||Pt<0||x&&rn>=d}function te(){var Le=Ar();if(k(Le))return re(Le);v=Ti(te,J(Le))}function re(Le){return v=r,D&&o?W(Le):(o=u=r,g)}function vt(){v!==r&&Qs(v),C=0,o=w=u=v=r}function nt(){return v===r?g:re(Ar())}function At(){var Le=Ar(),Pt=k(Le);if(o=arguments,u=this,w=Le,Pt){if(v===r)return Y(w);if(x)return Qs(v),v=Ti(te,t),W(w)}return v===r&&(v=Ti(te,t)),g}return At.cancel=vt,At.flush=nt,At}var bp=Q(function(e,t){return Ls(e,1,t)}),wp=Q(function(e,t,i){return Ls(e,xt(t)||0,i)});function Rp(e){return Qt(e,Te)}function br(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new _t(m);var i=function(){var o=arguments,u=t?t.apply(this,o):o[0],d=i.cache;if(d.has(u))return d.get(u);var g=e.apply(this,o);return i.cache=d.set(u,g)||d,g};return i.cache=new(br.Cache||qt),i}br.Cache=qt;function wr(e){if(typeof e!="function")throw new _t(m);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function yp(e){return Bu(2,e)}var Sp=ld(function(e,t){t=t.length==1&&Z(t[0])?ye(t[0],mt(G())):ye(He(t,1),mt(G()));var i=t.length;return Q(function(o){for(var u=-1,d=Xe(o.length,i);++u<d;)o[u]=t[u].call(this,o[u]);return dt(e,this,o)})}),Ja=Q(function(e,t){var i=gn(t,jn(Ja));return Qt(e,ee,r,t,i)}),Gu=Q(function(e,t){var i=gn(t,jn(Gu));return Qt(e,ie,r,t,i)}),_p=jt(function(e,t){return Qt(e,Ye,r,r,r,t)});function Ip(e,t){if(typeof e!="function")throw new _t(m);return t=t===r?t:q(t),Q(e,t)}function Ep(e,t){if(typeof e!="function")throw new _t(m);return t=t==null?0:ze(q(t),0),Q(function(i){var o=i[t],u=Rn(i,0,t);return o&&pn(u,o),dt(e,this,u)})}function Cp(e,t,i){var o=!0,u=!0;if(typeof e!="function")throw new _t(m);return _e(i)&&(o="leading"in i?!!i.leading:o,u="trailing"in i?!!i.trailing:u),Hu(e,t,{leading:o,maxWait:t,trailing:u})}function Tp(e){return Uu(e,1)}function xp(e,t){return Ja(za(t),e)}function Mp(){if(!arguments.length)return[];var e=arguments[0];return Z(e)?e:[e]}function Lp(e){return Et(e,M)}function Op(e,t){return t=typeof t=="function"?t:r,Et(e,M,t)}function Dp(e){return Et(e,R|M)}function Np(e,t){return t=typeof t=="function"?t:r,Et(e,R|M,t)}function zp(e,t){return t==null||Ms(e,t,Be(t))}function zt(e,t){return e===t||e!==e&&t!==t}var Pp=fr(Sa),Up=fr(function(e,t){return e>=t}),zn=Ps(function(){return arguments}())?Ps:function(e){return xe(e)&&me.call(e,"callee")&&!ys.call(e,"callee")},Z=_.isArray,Bp=is?mt(is):kf;function at(e){return e!=null&&Rr(e.length)&&!tn(e)}function Me(e){return xe(e)&&at(e)}function Wp(e){return e===!0||e===!1||xe(e)&&et(e)==N}var yn=Qh||uo,Vp=rs?mt(rs):Kf;function Fp(e){return xe(e)&&e.nodeType===1&&!xi(e)}function Hp(e){if(e==null)return!0;if(at(e)&&(Z(e)||typeof e=="string"||typeof e.splice=="function"||yn(e)||ei(e)||zn(e)))return!e.length;var t=Ze(e);if(t==z||t==De)return!e.size;if(Ci(e))return!Ea(e).length;for(var i in e)if(me.call(e,i))return!1;return!0}function Gp(e,t){return _i(e,t)}function $p(e,t,i){i=typeof i=="function"?i:r;var o=i?i(e,t):r;return o===r?_i(e,t,r,i):!!o}function Qa(e){if(!xe(e))return!1;var t=et(e);return t==$||t==L||typeof e.message=="string"&&typeof e.name=="string"&&!xi(e)}function Yp(e){return typeof e=="number"&&_s(e)}function tn(e){if(!_e(e))return!1;var t=et(e);return t==F||t==le||t==Ot||t==Rt}function $u(e){return typeof e=="number"&&e==q(e)}function Rr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bt}function _e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function xe(e){return e!=null&&typeof e=="object"}var Yu=as?mt(as):Zf;function kp(e,t){return e===t||Ia(e,t,Ha(t))}function Kp(e,t,i){return i=typeof i=="function"?i:r,Ia(e,t,Ha(t),i)}function Xp(e){return ku(e)&&e!=+e}function Zp(e){if(Od(e))throw new X(s);return Us(e)}function qp(e){return e===null}function Jp(e){return e==null}function ku(e){return typeof e=="number"||xe(e)&&et(e)==ue}function xi(e){if(!xe(e)||et(e)!=be)return!1;var t=Xi(e);if(t===null)return!0;var i=me.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&$i.call(i)==kh}var ja=os?mt(os):qf;function Qp(e){return $u(e)&&e>=-bt&&e<=bt}var Ku=ss?mt(ss):Jf;function yr(e){return typeof e=="string"||!Z(e)&&xe(e)&&et(e)==ft}function gt(e){return typeof e=="symbol"||xe(e)&&et(e)==Xt}var ei=us?mt(us):Qf;function jp(e){return e===r}function eg(e){return xe(e)&&Ze(e)==di}function tg(e){return xe(e)&&et(e)==gc}var ng=fr(Ca),ig=fr(function(e,t){return e<=t});function Xu(e){if(!e)return[];if(at(e))return yr(e)?Dt(e):rt(e);if(gi&&e[gi])return Nh(e[gi]());var t=Ze(e),i=t==z?ma:t==De?Fi:ti;return i(e)}function nn(e){if(!e)return e===0?e:0;if(e=xt(e),e===ht||e===-ht){var t=e<0?-1:1;return t*li}return e===e?e:0}function q(e){var t=nn(e),i=t%1;return t===t?i?t-i:t:0}function Zu(e){return e?Ln(q(e),0,it):0}function xt(e){if(typeof e=="number")return e;if(gt(e))return dn;if(_e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ms(e);var i=Uc.test(e);return i||Wc.test(e)?vh(e.slice(2),i?2:8):Pc.test(e)?dn:+e}function qu(e){return Ft(e,ot(e))}function rg(e){return e?Ln(q(e),-bt,bt):e===0?e:0}function de(e){return e==null?"":pt(e)}var ag=Jn(function(e,t){if(Ci(t)||at(t)){Ft(t,Be(t),e);return}for(var i in t)me.call(t,i)&&Ri(e,i,t[i])}),Ju=Jn(function(e,t){Ft(t,ot(t),e)}),Sr=Jn(function(e,t,i,o){Ft(t,ot(t),e,o)}),og=Jn(function(e,t,i,o){Ft(t,Be(t),e,o)}),sg=jt(wa);function ug(e,t){var i=qn(e);return t==null?i:xs(i,t)}var lg=Q(function(e,t){e=ge(e);var i=-1,o=t.length,u=o>2?t[2]:r;for(u&&tt(t[0],t[1],u)&&(o=1);++i<o;)for(var d=t[i],g=ot(d),v=-1,w=g.length;++v<w;){var C=g[v],T=e[C];(T===r||zt(T,Kn[C])&&!me.call(e,C))&&(e[C]=d[C])}return e}),cg=Q(function(e){return e.push(r,mu),dt(Qu,r,e)});function hg(e,t){return cs(e,G(t,3),Vt)}function fg(e,t){return cs(e,G(t,3),ya)}function dg(e,t){return e==null?e:Ra(e,G(t,3),ot)}function mg(e,t){return e==null?e:Ns(e,G(t,3),ot)}function pg(e,t){return e&&Vt(e,G(t,3))}function gg(e,t){return e&&ya(e,G(t,3))}function vg(e){return e==null?[]:rr(e,Be(e))}function Ag(e){return e==null?[]:rr(e,ot(e))}function eo(e,t,i){var o=e==null?r:On(e,t);return o===r?i:o}function bg(e,t){return e!=null&&vu(e,t,Hf)}function to(e,t){return e!=null&&vu(e,t,Gf)}var wg=lu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Yi.call(t)),e[t]=i},io(st)),Rg=lu(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=Yi.call(t)),me.call(e,t)?e[t].push(i):e[t]=[i]},G),yg=Q(Si);function Be(e){return at(e)?Cs(e):Ea(e)}function ot(e){return at(e)?Cs(e,!0):jf(e)}function Sg(e,t){var i={};return t=G(t,3),Vt(e,function(o,u,d){Jt(i,t(o,u,d),o)}),i}function _g(e,t){var i={};return t=G(t,3),Vt(e,function(o,u,d){Jt(i,u,t(o,u,d))}),i}var Ig=Jn(function(e,t,i){ar(e,t,i)}),Qu=Jn(function(e,t,i,o){ar(e,t,i,o)}),Eg=jt(function(e,t){var i={};if(e==null)return i;var o=!1;t=ye(t,function(d){return d=wn(d,e),o||(o=d.length>1),d}),Ft(e,Va(e),i),o&&(i=Et(i,R|I|M,wd));for(var u=t.length;u--;)Oa(i,t[u]);return i});function Cg(e,t){return ju(e,wr(G(t)))}var Tg=jt(function(e,t){return e==null?{}:td(e,t)});function ju(e,t){if(e==null)return{};var i=ye(Va(e),function(o){return[o]});return t=G(t),$s(e,i,function(o,u){return t(o,u[0])})}function xg(e,t,i){t=wn(t,e);var o=-1,u=t.length;for(u||(u=1,e=r);++o<u;){var d=e==null?r:e[Ht(t[o])];d===r&&(o=u,d=i),e=tn(d)?d.call(e):d}return e}function Mg(e,t,i){return e==null?e:Ii(e,t,i)}function Lg(e,t,i,o){return o=typeof o=="function"?o:r,e==null?e:Ii(e,t,i,o)}var el=fu(Be),tl=fu(ot);function Og(e,t,i){var o=Z(e),u=o||yn(e)||ei(e);if(t=G(t,4),i==null){var d=e&&e.constructor;u?i=o?new d:[]:_e(e)?i=tn(d)?qn(Xi(e)):{}:i={}}return(u?St:Vt)(e,function(g,v,w){return t(i,g,v,w)}),i}function Dg(e,t){return e==null?!0:Oa(e,t)}function Ng(e,t,i){return e==null?e:Zs(e,t,za(i))}function zg(e,t,i,o){return o=typeof o=="function"?o:r,e==null?e:Zs(e,t,za(i),o)}function ti(e){return e==null?[]:da(e,Be(e))}function Pg(e){return e==null?[]:da(e,ot(e))}function Ug(e,t,i){return i===r&&(i=t,t=r),i!==r&&(i=xt(i),i=i===i?i:0),t!==r&&(t=xt(t),t=t===t?t:0),Ln(xt(e),t,i)}function Bg(e,t,i){return t=nn(t),i===r?(i=t,t=0):i=nn(i),e=xt(e),$f(e,t,i)}function Wg(e,t,i){if(i&&typeof i!="boolean"&&tt(e,t,i)&&(t=i=r),i===r&&(typeof t=="boolean"?(i=t,t=r):typeof e=="boolean"&&(i=e,e=r)),e===r&&t===r?(e=0,t=1):(e=nn(e),t===r?(t=e,e=0):t=nn(t)),e>t){var o=e;e=t,t=o}if(i||e%1||t%1){var u=Is();return Xe(e+u*(t-e+gh("1e-"+((u+"").length-1))),t)}return xa(e,t)}var Vg=Qn(function(e,t,i){return t=t.toLowerCase(),e+(i?nl(t):t)});function nl(e){return no(de(e).toLowerCase())}function il(e){return e=de(e),e&&e.replace(Fc,xh).replace(oh,"")}function Fg(e,t,i){e=de(e),t=pt(t);var o=e.length;i=i===r?o:Ln(q(i),0,o);var u=i;return i-=t.length,i>=0&&e.slice(i,u)==t}function Hg(e){return e=de(e),e&&Rc.test(e)?e.replace(No,Mh):e}function Gg(e){return e=de(e),e&&Cc.test(e)?e.replace(Jr,"\\$&"):e}var $g=Qn(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),Yg=Qn(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),kg=ou("toLowerCase");function Kg(e,t,i){e=de(e),t=q(t);var o=t?Yn(e):0;if(!t||o>=t)return e;var u=(t-o)/2;return hr(Qi(u),i)+e+hr(Ji(u),i)}function Xg(e,t,i){e=de(e),t=q(t);var o=t?Yn(e):0;return t&&o<t?e+hr(t-o,i):e}function Zg(e,t,i){e=de(e),t=q(t);var o=t?Yn(e):0;return t&&o<t?hr(t-o,i)+e:e}function qg(e,t,i){return i||t==null?t=0:t&&(t=+t),nf(de(e).replace(Qr,""),t||0)}function Jg(e,t,i){return(i?tt(e,t,i):t===r)?t=1:t=q(t),Ma(de(e),t)}function Qg(){var e=arguments,t=de(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var jg=Qn(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function ev(e,t,i){return i&&typeof i!="number"&&tt(e,t,i)&&(t=i=r),i=i===r?it:i>>>0,i?(e=de(e),e&&(typeof t=="string"||t!=null&&!ja(t))&&(t=pt(t),!t&&$n(e))?Rn(Dt(e),0,i):e.split(t,i)):[]}var tv=Qn(function(e,t,i){return e+(i?" ":"")+no(t)});function nv(e,t,i){return e=de(e),i=i==null?0:Ln(q(i),0,e.length),t=pt(t),e.slice(i,i+t.length)==t}function iv(e,t,i){var o=h.templateSettings;i&&tt(e,t,i)&&(t=r),e=de(e),t=Sr({},t,o,du);var u=Sr({},t.imports,o.imports,du),d=Be(u),g=da(u,d),v,w,C=0,T=t.interpolate||Pi,x="__p += '",D=pa((t.escape||Pi).source+"|"+T.source+"|"+(T===zo?zc:Pi).source+"|"+(t.evaluate||Pi).source+"|$","g"),W="//# sourceURL="+(me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hh+"]")+`
`;e.replace(D,function(k,te,re,vt,nt,At){return re||(re=vt),x+=e.slice(C,At).replace(Hc,Lh),te&&(v=!0,x+=`' +
__e(`+te+`) +
'`),nt&&(w=!0,x+=`';
`+nt+`;
__p += '`),re&&(x+=`' +
((__t = (`+re+`)) == null ? '' : __t) +
'`),C=At+k.length,k}),x+=`';
`;var Y=me.call(t,"variable")&&t.variable;if(!Y)x=`with (obj) {
`+x+`
}
`;else if(Dc.test(Y))throw new X(p);x=(w?x.replace(vc,""):x).replace(Ac,"$1").replace(bc,"$1;"),x="function("+(Y||"obj")+`) {
`+(Y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var J=al(function(){return fe(d,W+"return "+x).apply(r,g)});if(J.source=x,Qa(J))throw J;return J}function rv(e){return de(e).toLowerCase()}function av(e){return de(e).toUpperCase()}function ov(e,t,i){if(e=de(e),e&&(i||t===r))return ms(e);if(!e||!(t=pt(t)))return e;var o=Dt(e),u=Dt(t),d=ps(o,u),g=gs(o,u)+1;return Rn(o,d,g).join("")}function sv(e,t,i){if(e=de(e),e&&(i||t===r))return e.slice(0,As(e)+1);if(!e||!(t=pt(t)))return e;var o=Dt(e),u=gs(o,Dt(t))+1;return Rn(o,0,u).join("")}function uv(e,t,i){if(e=de(e),e&&(i||t===r))return e.replace(Qr,"");if(!e||!(t=pt(t)))return e;var o=Dt(e),u=ps(o,Dt(t));return Rn(o,u).join("")}function lv(e,t){var i=je,o=ln;if(_e(t)){var u="separator"in t?t.separator:u;i="length"in t?q(t.length):i,o="omission"in t?pt(t.omission):o}e=de(e);var d=e.length;if($n(e)){var g=Dt(e);d=g.length}if(i>=d)return e;var v=i-Yn(o);if(v<1)return o;var w=g?Rn(g,0,v).join(""):e.slice(0,v);if(u===r)return w+o;if(g&&(v+=w.length-v),ja(u)){if(e.slice(v).search(u)){var C,T=w;for(u.global||(u=pa(u.source,de(Po.exec(u))+"g")),u.lastIndex=0;C=u.exec(T);)var x=C.index;w=w.slice(0,x===r?v:x)}}else if(e.indexOf(pt(u),v)!=v){var D=w.lastIndexOf(u);D>-1&&(w=w.slice(0,D))}return w+o}function cv(e){return e=de(e),e&&wc.test(e)?e.replace(Do,Bh):e}var hv=Qn(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),no=ou("toUpperCase");function rl(e,t,i){return e=de(e),t=i?r:t,t===r?Dh(e)?Fh(e):_h(e):e.match(t)||[]}var al=Q(function(e,t){try{return dt(e,r,t)}catch(i){return Qa(i)?i:new X(i)}}),fv=jt(function(e,t){return St(t,function(i){i=Ht(i),Jt(e,i,qa(e[i],e))}),e});function dv(e){var t=e==null?0:e.length,i=G();return e=t?ye(e,function(o){if(typeof o[1]!="function")throw new _t(m);return[i(o[0]),o[1]]}):[],Q(function(o){for(var u=-1;++u<t;){var d=e[u];if(dt(d[0],this,o))return dt(d[1],this,o)}})}function mv(e){return Wf(Et(e,R))}function io(e){return function(){return e}}function pv(e,t){return e==null||e!==e?t:e}var gv=uu(),vv=uu(!0);function st(e){return e}function ro(e){return Bs(typeof e=="function"?e:Et(e,R))}function Av(e){return Vs(Et(e,R))}function bv(e,t){return Fs(e,Et(t,R))}var wv=Q(function(e,t){return function(i){return Si(i,e,t)}}),Rv=Q(function(e,t){return function(i){return Si(e,i,t)}});function ao(e,t,i){var o=Be(t),u=rr(t,o);i==null&&!(_e(t)&&(u.length||!o.length))&&(i=t,t=e,e=this,u=rr(t,Be(t)));var d=!(_e(i)&&"chain"in i)||!!i.chain,g=tn(e);return St(u,function(v){var w=t[v];e[v]=w,g&&(e.prototype[v]=function(){var C=this.__chain__;if(d||C){var T=e(this.__wrapped__),x=T.__actions__=rt(this.__actions__);return x.push({func:w,args:arguments,thisArg:e}),T.__chain__=C,T}return w.apply(e,pn([this.value()],arguments))})}),e}function yv(){return Fe._===this&&(Fe._=Kh),this}function oo(){}function Sv(e){return e=q(e),Q(function(t){return Hs(t,e)})}var _v=Ua(ye),Iv=Ua(ls),Ev=Ua(ua);function ol(e){return $a(e)?la(Ht(e)):nd(e)}function Cv(e){return function(t){return e==null?r:On(e,t)}}var Tv=cu(),xv=cu(!0);function so(){return[]}function uo(){return!1}function Mv(){return{}}function Lv(){return""}function Ov(){return!0}function Dv(e,t){if(e=q(e),e<1||e>bt)return[];var i=it,o=Xe(e,it);t=G(t),e-=it;for(var u=fa(o,t);++i<e;)t(i);return u}function Nv(e){return Z(e)?ye(e,Ht):gt(e)?[e]:rt(Eu(de(e)))}function zv(e){var t=++Yh;return de(e)+t}var Pv=cr(function(e,t){return e+t},0),Uv=Ba("ceil"),Bv=cr(function(e,t){return e/t},1),Wv=Ba("floor");function Vv(e){return e&&e.length?ir(e,st,Sa):r}function Fv(e,t){return e&&e.length?ir(e,G(t,2),Sa):r}function Hv(e){return fs(e,st)}function Gv(e,t){return fs(e,G(t,2))}function $v(e){return e&&e.length?ir(e,st,Ca):r}function Yv(e,t){return e&&e.length?ir(e,G(t,2),Ca):r}var kv=cr(function(e,t){return e*t},1),Kv=Ba("round"),Xv=cr(function(e,t){return e-t},0);function Zv(e){return e&&e.length?ha(e,st):0}function qv(e,t){return e&&e.length?ha(e,G(t,2)):0}return h.after=Ap,h.ary=Uu,h.assign=ag,h.assignIn=Ju,h.assignInWith=Sr,h.assignWith=og,h.at=sg,h.before=Bu,h.bind=qa,h.bindAll=fv,h.bindKey=Wu,h.castArray=Mp,h.chain=Nu,h.chunk=Wd,h.compact=Vd,h.concat=Fd,h.cond=dv,h.conforms=mv,h.constant=io,h.countBy=Zm,h.create=ug,h.curry=Vu,h.curryRight=Fu,h.debounce=Hu,h.defaults=lg,h.defaultsDeep=cg,h.defer=bp,h.delay=wp,h.difference=Hd,h.differenceBy=Gd,h.differenceWith=$d,h.drop=Yd,h.dropRight=kd,h.dropRightWhile=Kd,h.dropWhile=Xd,h.fill=Zd,h.filter=Jm,h.flatMap=ep,h.flatMapDeep=tp,h.flatMapDepth=np,h.flatten=Mu,h.flattenDeep=qd,h.flattenDepth=Jd,h.flip=Rp,h.flow=gv,h.flowRight=vv,h.fromPairs=Qd,h.functions=vg,h.functionsIn=Ag,h.groupBy=ip,h.initial=em,h.intersection=tm,h.intersectionBy=nm,h.intersectionWith=im,h.invert=wg,h.invertBy=Rg,h.invokeMap=ap,h.iteratee=ro,h.keyBy=op,h.keys=Be,h.keysIn=ot,h.map=vr,h.mapKeys=Sg,h.mapValues=_g,h.matches=Av,h.matchesProperty=bv,h.memoize=br,h.merge=Ig,h.mergeWith=Qu,h.method=wv,h.methodOf=Rv,h.mixin=ao,h.negate=wr,h.nthArg=Sv,h.omit=Eg,h.omitBy=Cg,h.once=yp,h.orderBy=sp,h.over=_v,h.overArgs=Sp,h.overEvery=Iv,h.overSome=Ev,h.partial=Ja,h.partialRight=Gu,h.partition=up,h.pick=Tg,h.pickBy=ju,h.property=ol,h.propertyOf=Cv,h.pull=sm,h.pullAll=Ou,h.pullAllBy=um,h.pullAllWith=lm,h.pullAt=cm,h.range=Tv,h.rangeRight=xv,h.rearg=_p,h.reject=hp,h.remove=hm,h.rest=Ip,h.reverse=Xa,h.sampleSize=dp,h.set=Mg,h.setWith=Lg,h.shuffle=mp,h.slice=fm,h.sortBy=vp,h.sortedUniq=bm,h.sortedUniqBy=wm,h.split=ev,h.spread=Ep,h.tail=Rm,h.take=ym,h.takeRight=Sm,h.takeRightWhile=_m,h.takeWhile=Im,h.tap=Vm,h.throttle=Cp,h.thru=gr,h.toArray=Xu,h.toPairs=el,h.toPairsIn=tl,h.toPath=Nv,h.toPlainObject=qu,h.transform=Og,h.unary=Tp,h.union=Em,h.unionBy=Cm,h.unionWith=Tm,h.uniq=xm,h.uniqBy=Mm,h.uniqWith=Lm,h.unset=Dg,h.unzip=Za,h.unzipWith=Du,h.update=Ng,h.updateWith=zg,h.values=ti,h.valuesIn=Pg,h.without=Om,h.words=rl,h.wrap=xp,h.xor=Dm,h.xorBy=Nm,h.xorWith=zm,h.zip=Pm,h.zipObject=Um,h.zipObjectDeep=Bm,h.zipWith=Wm,h.entries=el,h.entriesIn=tl,h.extend=Ju,h.extendWith=Sr,ao(h,h),h.add=Pv,h.attempt=al,h.camelCase=Vg,h.capitalize=nl,h.ceil=Uv,h.clamp=Ug,h.clone=Lp,h.cloneDeep=Dp,h.cloneDeepWith=Np,h.cloneWith=Op,h.conformsTo=zp,h.deburr=il,h.defaultTo=pv,h.divide=Bv,h.endsWith=Fg,h.eq=zt,h.escape=Hg,h.escapeRegExp=Gg,h.every=qm,h.find=Qm,h.findIndex=Tu,h.findKey=hg,h.findLast=jm,h.findLastIndex=xu,h.findLastKey=fg,h.floor=Wv,h.forEach=zu,h.forEachRight=Pu,h.forIn=dg,h.forInRight=mg,h.forOwn=pg,h.forOwnRight=gg,h.get=eo,h.gt=Pp,h.gte=Up,h.has=bg,h.hasIn=to,h.head=Lu,h.identity=st,h.includes=rp,h.indexOf=jd,h.inRange=Bg,h.invoke=yg,h.isArguments=zn,h.isArray=Z,h.isArrayBuffer=Bp,h.isArrayLike=at,h.isArrayLikeObject=Me,h.isBoolean=Wp,h.isBuffer=yn,h.isDate=Vp,h.isElement=Fp,h.isEmpty=Hp,h.isEqual=Gp,h.isEqualWith=$p,h.isError=Qa,h.isFinite=Yp,h.isFunction=tn,h.isInteger=$u,h.isLength=Rr,h.isMap=Yu,h.isMatch=kp,h.isMatchWith=Kp,h.isNaN=Xp,h.isNative=Zp,h.isNil=Jp,h.isNull=qp,h.isNumber=ku,h.isObject=_e,h.isObjectLike=xe,h.isPlainObject=xi,h.isRegExp=ja,h.isSafeInteger=Qp,h.isSet=Ku,h.isString=yr,h.isSymbol=gt,h.isTypedArray=ei,h.isUndefined=jp,h.isWeakMap=eg,h.isWeakSet=tg,h.join=rm,h.kebabCase=$g,h.last=Tt,h.lastIndexOf=am,h.lowerCase=Yg,h.lowerFirst=kg,h.lt=ng,h.lte=ig,h.max=Vv,h.maxBy=Fv,h.mean=Hv,h.meanBy=Gv,h.min=$v,h.minBy=Yv,h.stubArray=so,h.stubFalse=uo,h.stubObject=Mv,h.stubString=Lv,h.stubTrue=Ov,h.multiply=kv,h.nth=om,h.noConflict=yv,h.noop=oo,h.now=Ar,h.pad=Kg,h.padEnd=Xg,h.padStart=Zg,h.parseInt=qg,h.random=Wg,h.reduce=lp,h.reduceRight=cp,h.repeat=Jg,h.replace=Qg,h.result=xg,h.round=Kv,h.runInContext=b,h.sample=fp,h.size=pp,h.snakeCase=jg,h.some=gp,h.sortedIndex=dm,h.sortedIndexBy=mm,h.sortedIndexOf=pm,h.sortedLastIndex=gm,h.sortedLastIndexBy=vm,h.sortedLastIndexOf=Am,h.startCase=tv,h.startsWith=nv,h.subtract=Xv,h.sum=Zv,h.sumBy=qv,h.template=iv,h.times=Dv,h.toFinite=nn,h.toInteger=q,h.toLength=Zu,h.toLower=rv,h.toNumber=xt,h.toSafeInteger=rg,h.toString=de,h.toUpper=av,h.trim=ov,h.trimEnd=sv,h.trimStart=uv,h.truncate=lv,h.unescape=cv,h.uniqueId=zv,h.upperCase=hv,h.upperFirst=no,h.each=zu,h.eachRight=Pu,h.first=Lu,ao(h,function(){var e={};return Vt(h,function(t,i){me.call(h.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),h.VERSION=l,St(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),St(["drop","take"],function(e,t){ne.prototype[e]=function(i){i=i===r?1:ze(q(i),0);var o=this.__filtered__&&!t?new ne(this):this.clone();return o.__filtered__?o.__takeCount__=Xe(i,o.__takeCount__):o.__views__.push({size:Xe(i,it),type:e+(o.__dir__<0?"Right":"")}),o},ne.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),St(["filter","map","takeWhile"],function(e,t){var i=t+1,o=i==hn||i==En;ne.prototype[e]=function(u){var d=this.clone();return d.__iteratees__.push({iteratee:G(u,3),type:i}),d.__filtered__=d.__filtered__||o,d}}),St(["head","last"],function(e,t){var i="take"+(t?"Right":"");ne.prototype[e]=function(){return this[i](1).value()[0]}}),St(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ne.prototype[e]=function(){return this.__filtered__?new ne(this):this[i](1)}}),ne.prototype.compact=function(){return this.filter(st)},ne.prototype.find=function(e){return this.filter(e).head()},ne.prototype.findLast=function(e){return this.reverse().find(e)},ne.prototype.invokeMap=Q(function(e,t){return typeof e=="function"?new ne(this):this.map(function(i){return Si(i,e,t)})}),ne.prototype.reject=function(e){return this.filter(wr(G(e)))},ne.prototype.slice=function(e,t){e=q(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ne(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==r&&(t=q(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ne.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ne.prototype.toArray=function(){return this.take(it)},Vt(ne.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),u=h[o?"take"+(t=="last"?"Right":""):t],d=o||/^find/.test(t);u&&(h.prototype[t]=function(){var g=this.__wrapped__,v=o?[1]:arguments,w=g instanceof ne,C=v[0],T=w||Z(g),x=function(te){var re=u.apply(h,pn([te],v));return o&&D?re[0]:re};T&&i&&typeof C=="function"&&C.length!=1&&(w=T=!1);var D=this.__chain__,W=!!this.__actions__.length,Y=d&&!D,J=w&&!W;if(!d&&T){g=J?g:new ne(this);var k=e.apply(g,v);return k.__actions__.push({func:gr,args:[x],thisArg:r}),new It(k,D)}return Y&&J?e.apply(this,v):(k=this.thru(x),Y?o?k.value()[0]:k.value():k)})}),St(["pop","push","shift","sort","splice","unshift"],function(e){var t=Hi[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var u=arguments;if(o&&!this.__chain__){var d=this.value();return t.apply(Z(d)?d:[],u)}return this[i](function(g){return t.apply(Z(g)?g:[],u)})}}),Vt(ne.prototype,function(e,t){var i=h[t];if(i){var o=i.name+"";me.call(Zn,o)||(Zn[o]=[]),Zn[o].push({name:t,func:i})}}),Zn[lr(r,ae).name]=[{name:"wrapper",func:r}],ne.prototype.clone=cf,ne.prototype.reverse=hf,ne.prototype.value=ff,h.prototype.at=Fm,h.prototype.chain=Hm,h.prototype.commit=Gm,h.prototype.next=$m,h.prototype.plant=km,h.prototype.reverse=Km,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=Xm,h.prototype.first=h.prototype.head,gi&&(h.prototype[gi]=Ym),h},kn=Hh();Cn?((Cn.exports=kn)._=kn,ra._=kn):Fe._=kn}).call(Mi)})(Nr,Nr.exports);var A0=Nr.exports;function b0(n,a,r){if(a==null)return n;if(Array.isArray(a))throw new Error("Multiple matches is not implemented");return typeof a=="number"&&~a?y(Ve,null,[y("span",{class:"v-autocomplete__unmask"},[n.substr(0,a)]),y("span",{class:"v-autocomplete__mask"},[n.substr(a,r)]),y("span",{class:"v-autocomplete__unmask"},[n.substr(a+r)])]):n}const w0=zr({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...ql({filterKeys:["title"]}),...Hl(),...Eo(Xl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Cl({transition:!1})},"VAutocomplete"),R0=Pr()({name:"VAutocomplete",props:w0(),emits:{"update:focused":n=>!0,"update:search":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,a){let{slots:r}=a;const{t:l}=Tl(),c=pe(),s=$t(!1),m=$t(!0),p=$t(!1),f=pe(),A=pe(),S=ii(n,"menu"),R=Oe({get:()=>S.value,set:N=>{var j;S.value&&!N&&((j=f.value)!=null&&j.ΨopenChildren)||(S.value=N)}}),I=$t(-1),M=Oe(()=>{var N;return(N=c.value)==null?void 0:N.color}),B=Oe(()=>R.value?n.closeText:n.openText),{items:U,transformIn:V,transformOut:ae}=xl(n),{textColorClasses:Qe,textColorStyles:Ce}=Ml(M),oe=ii(n,"search",""),ee=ii(n,"modelValue",[],N=>V(N===null?[null]:Ul(N)),N=>{const j=ae(N);return n.multiple?j:j[0]??null}),ie=Oe(()=>typeof n.counterValue=="function"?n.counterValue(ee.value):typeof n.counterValue=="number"?n.counterValue:ee.value.length),Se=Zl(),{filteredItems:Ye,getMatches:Te}=Jl(n,U,()=>m.value?"":oe.value),je=Oe(()=>n.hideSelected?Ye.value.filter(N=>!ee.value.some(j=>j.value===N.value)):Ye.value),ln=Oe(()=>ee.value.map(N=>N.props.value)),cn=Oe(()=>{var j;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&oe.value===((j=je.value[0])==null?void 0:j.title))&&je.value.length>0&&!m.value&&!p.value}),ke=Oe(()=>n.hideNoData&&!je.value.length||n.readonly||(Se==null?void 0:Se.isReadonly.value)),hn=pe(),{onListScroll:fn,onListKeydown:En}=Gl(hn,c);function ht(N){n.openOnClear&&(R.value=!0),oe.value=""}function bt(){ke.value||(R.value=!0)}function li(N){ke.value||(s.value&&(N.preventDefault(),N.stopPropagation()),R.value=!R.value)}function dn(N){var $,F,le;if(n.readonly||Se!=null&&Se.isReadonly.value)return;const j=c.value.selectionStart,L=ee.value.length;if((I.value>-1||["Enter","ArrowDown","ArrowUp"].includes(N.key))&&N.preventDefault(),["Enter","ArrowDown"].includes(N.key)&&(R.value=!0),["Escape"].includes(N.key)&&(R.value=!1),cn.value&&["Enter","Tab"].includes(N.key)&&Ot(je.value[0]),N.key==="ArrowDown"&&cn.value&&(($=hn.value)==null||$.focus("next")),!!n.multiple){if(["Backspace","Delete"].includes(N.key)){if(I.value<0){N.key==="Backspace"&&!oe.value&&(I.value=L-1);return}const z=I.value,ue=ee.value[I.value];ue&&!ue.props.disabled&&Ot(ue),I.value=z>=L-1?L-2:z}if(N.key==="ArrowLeft"){if(I.value<0&&j>0)return;const z=I.value>-1?I.value-1:L-1;ee.value[z]?I.value=z:(I.value=-1,c.value.setSelectionRange((F=oe.value)==null?void 0:F.length,(le=oe.value)==null?void 0:le.length))}if(N.key==="ArrowRight"){if(I.value<0)return;const z=I.value+1;ee.value[z]?I.value=z:(I.value=-1,c.value.setSelectionRange(0,0))}}}function it(N){if(ul(c.value,":autofill")||ul(c.value,":-webkit-autofill")){const j=U.value.find(L=>L.title===N.target.value);j&&Ot(j)}}function ci(){var N;s.value&&(m.value=!0,(N=c.value)==null||N.focus())}function hi(N){s.value=!0,setTimeout(()=>{p.value=!0})}function fi(N){p.value=!1}function Ue(N){(N==null||N===""&&!n.multiple)&&(ee.value=[])}const wt=$t(!1);function Ot(N){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!N.props.disabled)if(n.multiple){const L=ee.value.findIndex($=>n.valueComparator($.value,N.value));if(L===-1)ee.value=[...ee.value,N];else{const $=[...ee.value];$.splice(L,1),ee.value=$}n.clearOnSelect&&(oe.value="")}else ee.value=j?[N]:[],wt.value=!0,oe.value=j?N.title:"",R.value=!1,m.value=!0,Or(()=>wt.value=!1)}return Yt(s,(N,j)=>{var L;N!==j&&(N?(wt.value=!0,oe.value=n.multiple?"":String(((L=ee.value.at(-1))==null?void 0:L.props.title)??""),m.value=!0,Or(()=>wt.value=!1)):(!n.multiple&&oe.value==null?ee.value=[]:cn.value&&!p.value&&!ee.value.some($=>{let{value:F}=$;return F===je.value[0].value})&&Ot(je.value[0]),R.value=!1,oe.value="",I.value=-1))}),Yt(oe,N=>{!s.value||wt.value||(N&&(R.value=!0),m.value=!N)}),Yt(R,()=>{if(!n.hideSelected&&R.value&&ee.value.length){const N=je.value.findIndex(j=>ee.value.some(L=>j.value===L.value));Ll&&window.requestAnimationFrame(()=>{var j;N>=0&&((j=A.value)==null||j.scrollToIndex(N))})}}),Yt(je,(N,j)=>{s.value&&(!N.length&&n.hideNoData&&(R.value=!1),!j.length&&N.length&&(R.value=!0))}),Ur(()=>{const N=!!(n.chips||r.chip),j=!!(!n.hideNoData||je.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),L=ee.value.length>0,$=ut.filterProps(n);return y(ut,Je({ref:c},$,{modelValue:oe.value,"onUpdate:modelValue":[F=>oe.value=F,Ue],focused:s.value,"onUpdate:focused":F=>s.value=F,validationValue:ee.externalValue,counterValue:ie.value,dirty:L,onChange:it,class:["v-autocomplete",`v-autocomplete--${n.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":R.value,"v-autocomplete--chips":!!n.chips,"v-autocomplete--selection-slot":!!r.selection,"v-autocomplete--selecting-index":I.value>-1},n.class],style:n.style,readonly:n.readonly,placeholder:L?void 0:n.placeholder,"onClick:clear":ht,"onMousedown:control":bt,onKeydown:dn}),{...r,default:()=>y(Ve,null,[y(Co,Je({ref:f,modelValue:R.value,"onUpdate:modelValue":F=>R.value=F,activator:"parent",contentClass:"v-autocomplete__content",disabled:ke.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterLeave:ci},n.menuProps),{default:()=>[j&&y(To,Je({ref:hn,selected:ln.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:F=>F.preventDefault(),onKeydown:En,onFocusin:hi,onFocusout:fi,onScrollPassive:fn,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},n.listProps),{default:()=>{var F,le,z;return[(F=r["prepend-item"])==null?void 0:F.call(r),!je.value.length&&!n.hideNoData&&(((le=r["no-data"])==null?void 0:le.call(r))??y(ai,{title:l(n.noDataText)},null)),y($l,{ref:A,renderless:!0,items:je.value},{default:ue=>{var Ke;let{item:ve,index:be,itemRef:we}=ue;const Rt=Je(ve.props,{ref:we,key:be,active:cn.value&&be===0?!0:void 0,onClick:()=>Ot(ve)});return((Ke=r.item)==null?void 0:Ke.call(r,{item:ve,index:be,props:Rt}))??y(ai,Rt,{prepend:De=>{let{isSelected:ft}=De;return y(Ve,null,[n.multiple&&!n.hideSelected?y(Yl,{key:ve.value,modelValue:ft,ripple:!1,tabindex:"-1"},null):void 0,ve.props.prependAvatar&&y(Ol,{image:ve.props.prependAvatar},null),ve.props.prependIcon&&y(Pn,{icon:ve.props.prependIcon},null)])},title:()=>{var De,ft;return m.value?ve.title:b0(ve.title,(De=Te(ve))==null?void 0:De.title,((ft=oe.value)==null?void 0:ft.length)??0)}})}}),(z=r["append-item"])==null?void 0:z.call(r)]}})]}),ee.value.map((F,le)=>{function z(we){we.stopPropagation(),we.preventDefault(),Ot(F,!1)}const ue={"onClick:close":z,onMousedown(we){we.preventDefault(),we.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},ve=N?!!r.chip:!!r.selection,be=ve?Dl(N?r.chip({item:F,index:le,props:ue}):r.selection({item:F,index:le})):void 0;if(!(ve&&!be))return y("div",{key:F.value,class:["v-autocomplete__selection",le===I.value&&["v-autocomplete__selection--selected",Qe.value]],style:le===I.value?Ce.value:{}},[N?r.chip?y(Nl,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:F.title}}},{default:()=>[be]}):y(kl,Je({key:"chip",closable:n.closableChips,size:"small",text:F.title,disabled:F.props.disabled},ue),null):be??y("span",{class:"v-autocomplete__selection-text"},[F.title,n.multiple&&le<ee.value.length-1&&y("span",{class:"v-autocomplete__selection-comma"},[lt(",")])])])})]),"append-inner":function(){var ue;for(var F=arguments.length,le=new Array(F),z=0;z<F;z++)le[z]=arguments[z];return y(Ve,null,[(ue=r["append-inner"])==null?void 0:ue.call(r,...le),n.menuIcon?y(Pn,{class:"v-autocomplete__menu-icon",icon:n.menuIcon,onMousedown:li,onClick:zl,"aria-label":l(B.value),title:l(B.value)},null):void 0])}})}),Pl({isFocused:s,isPristine:m,menu:R,search:oe,filteredItems:Ye,select:Ot},c)}}),ml=In({__name:"UbigeoTwoForm",props:{modelValue:{type:[String],required:!0}},emits:["update:modelValue"],setup(n,{emit:a}){const r=a,l=n,c=Oe({get:()=>l.modelValue,set:p=>{r("update:modelValue",p)}}),s=pe([]),m=pe("");return Yt(m,A0.throttle(async p=>{var A;if(p==null||p==""||c.value&&((A=s.value.filter(R=>R.id==c.value)[0])==null?void 0:A.text)==m.value)return;let f=await Br.get(`https://segundas.unap.pe/api/search-ubigeo/${p}`);s.value=f.data},500)),(p,f)=>(K(),se(Ee,{cols:"12",md:"8"},{default:O(()=>[y(R0,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=A=>c.value=A),items:s.value,"item-title":"title","item-value":"value",label:"Ubigeo - Departamento, Provincia, Distrito",search:m.value,"onUpdate:search":f[1]||(f[1]=A=>m.value=A),rules:[Ie(qe)]},null,8,["modelValue","items","search","rules"])]),_:1}))}}),y0=[{id:"000",name:"SIN DOCUMENTO TRIBUTARIO | NO DOMINIO | SIN REGISTRO ÚNICO DE CONTRIBUYENTES",shortName:"SIN DOCUMENTO TRIBUTARIO"},{id:"001",name:"DOCUMENTO NACIONAL DE IDENTIDAD",shortName:"DNI"},{id:"004",name:"CARNET/CARNÉ DE EXTRANJERÍA",shortName:"CE"},{id:"007",name:"PASAPORTE",shortName:"PASAPORTE"},{id:"00A",name:"CÉDULA DIPLOMÁTICA DE IDENTIDAD",shortName:"CÉDULA DIPLOMÁTICA"},{id:"00F",name:"PERMISO TEMPORAL DE PERMANENCIA PTP",shortName:"PTP"},{id:"201",name:"DOCUMENTO EXTRANJERO - OTROS",shortName:"DOCUMENTO EXTRANJERO"},{id:"202",name:"CARNÉ DE IDENTIDAD",shortName:"CARNÉ DE IDENTIDAD"}],pl=[{id:"ABW",name:"ARUBA"},{id:"AFG",name:"AFGANISTÁN"},{id:"AGO",name:"ANGOLA"},{id:"AIA",name:"ANGUILA"},{id:"ALA",name:"ISLAS ÅLAND"},{id:"ALB",name:"ALBANIA"},{id:"AND",name:"ANDORRA"},{id:"ARE",name:"EMIRATOS ÁRABES UNIDOS"},{id:"ARG",name:"ARGENTINA"},{id:"ARM",name:"ARMENIA"},{id:"ASM",name:"SAMOA AMERICANA"},{id:"ATA",name:"ANTÁRTIDA"},{id:"ATF",name:"TIERRAS AUSTRALES FRANCESAS"},{id:"ATG",name:"ANTIGUA Y BARBUDA"},{id:"AUS",name:"AUSTRALIA"},{id:"AUT",name:"AUSTRIA"},{id:"AZE",name:"AZERBAIYÁN"},{id:"BDI",name:"BURUNDI"},{id:"BEL",name:"BÉLGICA"},{id:"BEN",name:"BENÍN"},{id:"BES",name:"BONAIRE, SAN EUSATQUIO Y SABA"},{id:"BFA",name:"BURKINA FASO"},{id:"BGD",name:"BANGLADÉS"},{id:"BGR",name:"BULGARIA"},{id:"BHR",name:"BARÉIN"},{id:"BHS",name:"BAHAMAS"},{id:"BIH",name:"BOSNIA Y HERZEGOVINA"},{id:"BLM",name:"SAN BARTHÉLEMY"},{id:"BLR",name:"BELARÚS"},{id:"BLZ",name:"BELICE"},{id:"BMU",name:"BERMUDA"},{id:"BOL",name:"BOLIVIA"},{id:"BRA",name:"BRASIL"},{id:"BRB",name:"BARBADOS"},{id:"BRN",name:"BRUNEI DARUSSALAM"},{id:"BTN",name:"BHUTÁN"},{id:"BVT",name:"BOUVET, ISLA"},{id:"BWA",name:"BOTSUANA"},{id:"CAF",name:"REPÚBLICA CENTROAFRICANA (LA)"},{id:"CAN",name:"CANADÁ"},{id:"CCK",name:"COCOS / KEELING, (LAS) ISLAS"},{id:"CHE",name:"SUIZA"},{id:"CHL",name:"CHILE"},{id:"CHN",name:"CHINA"},{id:"CIV",name:"CÔTE DIVOIRE"},{id:"CMR",name:"CAMERÚN"},{id:"COD",name:"CONGO (LA REPÚBLICA DEMOCRÁTICA DEL)"},{id:"COG",name:"CONGO (EL)"},{id:"COK",name:"COOK, (LAS) ISLAS"},{id:"COL",name:"COLOMBIA"},{id:"COM",name:"COMORAS (LAS)"},{id:"CPV",name:"CABO VERDE"},{id:"CRI",name:"COSTA RICA"},{id:"CUB",name:"CUBA"},{id:"CUW",name:"CURAZAO"},{id:"CXR",name:"CHRISTMAS, ISLA"},{id:"CYM",name:"CAIMÁN, (LAS) ISLAS"},{id:"CYP",name:"CHIPRE"},{id:"CZE",name:"CHEQUIA"},{id:"DEU",name:"ALEMANIA"},{id:"DJI",name:"DJIBOUTI"},{id:"DMA",name:"DOMINICA"},{id:"DNK",name:"DINAMARCA"},{id:"DOM",name:"DOMINICANA, (LA) REPÚBLICA"},{id:"DZA",name:"ARGELIA"},{id:"ECU",name:"ECUADOR"},{id:"EGY",name:"EGIPTO"},{id:"ERI",name:"ERITREA"},{id:"ESH",name:"SÁHARA OCCIDENTAL"},{id:"ESP",name:"ESPAÑA"},{id:"EST",name:"ESTONIA"},{id:"ETH",name:"ETIOPÍA"},{id:"FIN",name:"FINLANDIA"},{id:"FJI",name:"FIYI"},{id:"FLK",name:"MALVINAS [FALKLAND], (LAS) ISLAS"},{id:"FRA",name:"FRANCIA"},{id:"FRO",name:"FEROE, (LAS) ISLAS"},{id:"FSM",name:"MICRONESIA (ESTADOS FEDERADOS DE)"},{id:"GAB",name:"GABÓN"},{id:"GBR",name:"REINO UNIDO DE GRAN BRETAÑA E IRLANDA DEL NORTE"},{id:"GEO",name:"GEORGIA"},{id:"GGY",name:"GUERNSEY"},{id:"GHA",name:"GHANA"},{id:"GIB",name:"GIBRALTAR"},{id:"GIN",name:"GUINEA"},{id:"GLP",name:"GUADALUPE"},{id:"GMB",name:"GAMBIA (LA)"},{id:"GNB",name:"GUINEA-BISSAU"},{id:"GNQ",name:"GUINEA ECUATORIAL"},{id:"GRC",name:"GRECIA"},{id:"GRD",name:"GRANADA"},{id:"GRL",name:"GROENLANDIA"},{id:"GTM",name:"GUATEMALA"},{id:"GUF",name:"GUAYANA FRANCESA"},{id:"GUM",name:"GUAM"},{id:"GUY",name:"GUYANA"},{id:"HKG",name:"HONG KONG"},{id:"HMD",name:"HEARD (ISLA) E ISLAS MCDONALD"},{id:"HND",name:"HONDURAS"},{id:"HRV",name:"CROACIA"},{id:"HTI",name:"HAITÍ"},{id:"HUN",name:"HUNGRÍA"},{id:"IDN",name:"INDONESIA"},{id:"IMN",name:"ISLA DE MAN"},{id:"IND",name:"INDIA"},{id:"IOT",name:"TERRITORIO BRITÁNICO DEL OCÉANO ÍNDICO (EL)"},{id:"IRL",name:"IRLANDA"},{id:"IRN",name:"IRÁN (REPÚBLICA ISLÁMICA DE)"},{id:"IRQ",name:"IRAK"},{id:"ISL",name:"ISLANDIA"},{id:"ISR",name:"ISRAEL"},{id:"ITA",name:"ITALIA"},{id:"JAM",name:"JAMAICA"},{id:"JEY",name:"JERSEY"},{id:"JOR",name:"JORDANIA"},{id:"JPN",name:"JAPÓN"},{id:"KAZ",name:"KAZAJISTÁN"},{id:"KEN",name:"KENIA"},{id:"KGZ",name:"KIRGUISTÁN"},{id:"KHM",name:"CAMBOYA"},{id:"KIR",name:"KIRIBATI"},{id:"KNA",name:"SAINT KITTS Y NEVIS"},{id:"KOR",name:"COREA (LA REPÚBLICA DE)"},{id:"KWT",name:"KUWAIT"},{id:"LAO",name:"LAO, (LA) REPÚBLICA DEMOCRÁTICA POPULAR"},{id:"LBN",name:"LÍBANO"},{id:"LBR",name:"LIBERIA"},{id:"LBY",name:"LIBIA"},{id:"LCA",name:"SANTA LUCÍA"},{id:"LIE",name:"LIECHTENSTEIN"},{id:"LKA",name:"SRI LANKA"},{id:"LSO",name:"LESOTO"},{id:"LTU",name:"LITUANIA"},{id:"LUX",name:"LUXEMBURGO"},{id:"LVA",name:"LETONIA"},{id:"MAC",name:"MACAO"},{id:"MAF",name:"SAN MARTÍN (PARTE FRANCESA)"},{id:"MAR",name:"MARRUECOS"},{id:"MCO",name:"MÓNACO"},{id:"MDA",name:"MOLDOVA (LA REPÚBLICA DE)"},{id:"MDG",name:"MADAGASCAR"},{id:"MDV",name:"MALDIVAS"},{id:"MEX",name:"MÉXICO"},{id:"MHL",name:"MARSHALL, (LAS) ISLAS"},{id:"MKD",name:"MACEDONIA DEL NORTE"},{id:"MLI",name:"MALÍ"},{id:"MLT",name:"MALTA"},{id:"MMR",name:"MYANMAR"},{id:"MNE",name:"MONTENEGRO"},{id:"MNG",name:"MONGOLIA"},{id:"MNP",name:"MARIANAS SEPTENTRIONALES, (LAS) ISLAS"},{id:"MOZ",name:"MOZAMBIQUE"},{id:"MRT",name:"MAURITANIA"},{id:"MSR",name:"MONTSERRAT"},{id:"MTQ",name:"MARTINICA"},{id:"MUS",name:"MAURICIO"},{id:"MWI",name:"MALAUI"},{id:"MYS",name:"MALASIA"},{id:"MYT",name:"MAYOTTE"},{id:"NAM",name:"NAMIBIA"},{id:"NCL",name:"NUEVA CALEDONIA"},{id:"NER",name:"NÍGER (EL)"},{id:"NFK",name:"NORFOLK, ISLA"},{id:"NGA",name:"NIGERIA"},{id:"NIC",name:"NICARAGUA"},{id:"NIU",name:"NIUE"},{id:"NLD",name:"PAÍSES BAJOS (LOS)"},{id:"NOR",name:"NORUEGA"},{id:"NPL",name:"NEPAL"},{id:"NRU",name:"NAURU"},{id:"NZL",name:"NUEVA ZELANDIA"},{id:"OMN",name:"OMÁN"},{id:"PAK",name:"PAKISTÁN"},{id:"PAN",name:"PANAMÁ"},{id:"PCN",name:"PITCAIRN"},{id:"PER",name:"PERÚ"},{id:"PHL",name:"FILIPINAS (LAS)"},{id:"PLW",name:"PALAU"},{id:"PNG",name:"PAPÚA NUEVA GUINEA"},{id:"POL",name:"POLONIA"},{id:"PRI",name:"PUERTO RICO"},{id:"PRK",name:"COREA (LA REPÚBLICA POPULAR DEMOCRÁTICA DE)"},{id:"PRT",name:"PORTUGAL"},{id:"PRY",name:"PARAGUAY"},{id:"PSE",name:"PALESTINA, ESTADO DE"},{id:"PYF",name:"POLINESIA FRANCESA"},{id:"QAT",name:"CATAR"},{id:"REU",name:"REUNIÓN"},{id:"ROU",name:"RUMANIA"},{id:"RUS",name:"RUSIA, (LA) FEDERACIÓN DE"},{id:"RWA",name:"RUANDA"},{id:"SAU",name:"ARABIA SAUDITA"},{id:"SDN",name:"SUDÁN"},{id:"SEN",name:"SENEGAL"},{id:"SGP",name:"SINGAPUR"},{id:"SGS",name:"GEORGIA DEL SUR (LA) Y LAS ISLAS SANDWICH DEL SUR"},{id:"SHN",name:"SANTA ELENA, ASCENSIÓN Y TRISTÁN DE ACUÑA"},{id:"SJM",name:"SVALBARD Y JAN MAYEN"},{id:"SLB",name:"SALOMÓN, ISLAS"},{id:"SLE",name:"SIERRA LEONA"},{id:"SLV",name:"EL SALVADOR"},{id:"SMR",name:"SAN MARINO"},{id:"SOM",name:"SOMALIA"},{id:"SPM",name:"SAN PEDRO Y MIQUELÓN"},{id:"SRB",name:"SERBIA"},{id:"SSD",name:"SUDÁN DEL SUR"},{id:"STP",name:"SANTO TOMÉ Y PRÍNCIPE"},{id:"SUR",name:"SURINAME"},{id:"SVK",name:"ESLOVAQUIA"},{id:"SVN",name:"ESLOVENIA"},{id:"SWE",name:"SUECIA"},{id:"SWZ",name:"ESWATINI"},{id:"SXM",name:"SAN MARTÍN (PARTE NEERLANDESA)"},{id:"SYC",name:"SEYCHELLES"},{id:"SYR",name:"REPÚBLICA ÁRABE SIRIA"},{id:"TCA",name:"TURCAS Y CAICOS, (LAS) ISLAS"},{id:"TCD",name:"CHAD"},{id:"TGO",name:"TOGO"},{id:"THA",name:"TAILANDIA"},{id:"TJK",name:"TAYIKISTÁN"},{id:"TKL",name:"TOKELAU"},{id:"TKM",name:"TURKMENISTÁN"},{id:"TLS",name:"TIMOR-LESTE"},{id:"TON",name:"TONGA"},{id:"TTO",name:"TRINIDAD Y TABAGO"},{id:"TUN",name:"TÚNEZ"},{id:"TUR",name:"TURQUÍA"},{id:"TUV",name:"TUVALU"},{id:"TWN",name:"TAIWÁN (PROVINCIA DE CHINA)"},{id:"TZA",name:"TANZANIA, REPÚBLICA UNIDA DE"},{id:"UGA",name:"UGANDA"},{id:"UKR",name:"UCRANIA"},{id:"UMI",name:"ISLAS MENORES ALEJADAS DE ESTADOS UNIDOS (LAS)"},{id:"URY",name:"URUGUAY"},{id:"USA",name:"ESTADOS UNIDOS DE AMÉRICA (LOS)"},{id:"UZB",name:"UZBEKISTÁN"},{id:"VAT",name:"SANTA SEDE (LA)"},{id:"VCT",name:"SAN VINCENTE Y LAS GRANADINAS"},{id:"VEN",name:"VENEZUELA (REPÚBLICA BOLIVARIANA DE)"},{id:"VGB",name:"VÍRGENES BRITÁNICAS, ISLAS"},{id:"VIR",name:"VÍRGENES DE LOS ESTADOS UNIDOS, ISLAS"},{id:"VNM",name:"VIET NAM"},{id:"VUT",name:"VANUATU"},{id:"WLF",name:"WALLIS Y FUTUNA"},{id:"WSM",name:"SAMOA"},{id:"YEM",name:"YEMEN"},{id:"ZAF",name:"SUDÁFRICA"},{id:"ZMB",name:"ZAMBIA"},{id:"ZWE",name:"ZIMBABUE"},{id:"000",name:"SIN DATOS"}];function S0(n,a,r){if(a==null)return n;if(Array.isArray(a))throw new Error("Multiple matches is not implemented");return typeof a=="number"&&~a?y(Ve,null,[y("span",{class:"v-combobox__unmask"},[n.substr(0,a)]),y("span",{class:"v-combobox__mask"},[n.substr(a,r)]),y("span",{class:"v-combobox__unmask"},[n.substr(a+r)])]):n}const _0=zr({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...ql({filterKeys:["title"]}),...Hl({hideNoData:!0,returnObject:!0}),...Eo(Xl({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Cl({transition:!1})},"VCombobox"),Mr=Pr()({name:"VCombobox",props:_0(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:search":n=>!0,"update:menu":n=>!0},setup(n,a){var j;let{emit:r,slots:l}=a;const{t:c}=Tl(),s=pe(),m=$t(!1),p=$t(!0),f=$t(!1),A=pe(),S=pe(),R=ii(n,"menu"),I=Oe({get:()=>R.value,set:L=>{var $;R.value&&!L&&(($=A.value)!=null&&$.ΨopenChildren)||(R.value=L)}}),M=$t(-1);let B=!1;const U=Oe(()=>{var L;return(L=s.value)==null?void 0:L.color}),V=Oe(()=>I.value?n.closeText:n.openText),{items:ae,transformIn:Qe,transformOut:Ce}=xl(n),{textColorClasses:oe,textColorStyles:ee}=Ml(U),ie=ii(n,"modelValue",[],L=>Qe(Ul(L)),L=>{const $=Ce(L);return n.multiple?$:$[0]??null}),Se=Zl(),Ye=$t(n.multiple?"":((j=ie.value[0])==null?void 0:j.title)??""),Te=Oe({get:()=>Ye.value,set:L=>{var $;if(Ye.value=L??"",n.multiple||(ie.value=[_r(n,L)]),L&&n.multiple&&(($=n.delimiters)!=null&&$.length)){const F=L.split(new RegExp(`(?:${n.delimiters.join("|")})+`));F.length>1&&(F.forEach(le=>{le=le.trim(),le&&Ue(_r(n,le))}),Ye.value="")}L||(M.value=-1),p.value=!L}}),je=Oe(()=>typeof n.counterValue=="function"?n.counterValue(ie.value):typeof n.counterValue=="number"?n.counterValue:n.multiple?ie.value.length:Te.value.length);Yt(Ye,L=>{B?Or(()=>B=!1):m.value&&!I.value&&(I.value=!0),r("update:search",L)}),Yt(ie,L=>{var $;n.multiple||(Ye.value=(($=L[0])==null?void 0:$.title)??"")});const{filteredItems:ln,getMatches:cn}=Jl(n,ae,()=>p.value?"":Te.value),ke=Oe(()=>n.hideSelected?ln.value.filter(L=>!ie.value.some($=>$.value===L.value)):ln.value),hn=Oe(()=>ie.value.map(L=>L.value)),fn=Oe(()=>{var $;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&Te.value===(($=ke.value[0])==null?void 0:$.title))&&ke.value.length>0&&!p.value&&!f.value}),En=Oe(()=>n.hideNoData&&!ke.value.length||n.readonly||(Se==null?void 0:Se.isReadonly.value)),ht=pe(),{onListScroll:bt,onListKeydown:li}=Gl(ht,s);function dn(L){B=!0,n.openOnClear&&(I.value=!0)}function it(){En.value||(I.value=!0)}function ci(L){En.value||(m.value&&(L.preventDefault(),L.stopPropagation()),I.value=!I.value)}function hi(L){var le;if(jv(L)||n.readonly||Se!=null&&Se.isReadonly.value)return;const $=s.value.selectionStart,F=ie.value.length;if((M.value>-1||["Enter","ArrowDown","ArrowUp"].includes(L.key))&&L.preventDefault(),["Enter","ArrowDown"].includes(L.key)&&(I.value=!0),["Escape"].includes(L.key)&&(I.value=!1),["Enter","Escape","Tab"].includes(L.key)&&(fn.value&&["Enter","Tab"].includes(L.key)&&Ue(ln.value[0]),p.value=!0),L.key==="ArrowDown"&&fn.value&&((le=ht.value)==null||le.focus("next")),!!n.multiple){if(["Backspace","Delete"].includes(L.key)){if(M.value<0){L.key==="Backspace"&&!Te.value&&(M.value=F-1);return}const z=M.value,ue=ie.value[M.value];ue&&!ue.props.disabled&&Ue(ue,!1),M.value=z>=F-1?F-2:z}if(L.key==="ArrowLeft"){if(M.value<0&&$>0)return;const z=M.value>-1?M.value-1:F-1;ie.value[z]?M.value=z:(M.value=-1,s.value.setSelectionRange(Te.value.length,Te.value.length))}if(L.key==="ArrowRight"){if(M.value<0)return;const z=M.value+1;ie.value[z]?M.value=z:(M.value=-1,s.value.setSelectionRange(0,0))}L.key==="Enter"&&Te.value&&(Ue(_r(n,Te.value)),Te.value="")}}function fi(){var L;m.value&&(p.value=!0,(L=s.value)==null||L.focus())}function Ue(L){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n.multiple){const F=ie.value.findIndex(z=>n.valueComparator(z.value,L.value)),le=$??!~F;if(~F){const z=le?[...ie.value,L]:[...ie.value];z.splice(F,1),ie.value=z}else le&&(ie.value=[...ie.value,L]);n.clearOnSelect&&(Te.value="")}else{const F=$!==!1;ie.value=F?[L]:[],Ye.value=F?L.title:"",Or(()=>{I.value=!1,p.value=!0})}}function wt(L){m.value=!0,setTimeout(()=>{f.value=!0})}function Ot(L){f.value=!1}function N(L){(L==null||L===""&&!n.multiple)&&(ie.value=[])}return Yt(m,(L,$)=>{L||L===$||(M.value=-1,I.value=!1,fn.value&&!f.value&&!ie.value.some(F=>{let{value:le}=F;return le===ke.value[0].value})?Ue(ke.value[0]):n.multiple&&Te.value&&Ue(_r(n,Te.value)))}),Yt(I,()=>{if(!n.hideSelected&&I.value&&ie.value.length){const L=ke.value.findIndex($=>ie.value.some(F=>n.valueComparator(F.value,$.value)));Ll&&window.requestAnimationFrame(()=>{var $;L>=0&&(($=S.value)==null||$.scrollToIndex(L))})}}),Yt(ke,(L,$)=>{m.value&&(!L.length&&n.hideNoData&&(I.value=!1),!$.length&&L.length&&(I.value=!0))}),Ur(()=>{const L=!!(n.chips||l.chip),$=!!(!n.hideNoData||ke.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),F=ie.value.length>0,le=ut.filterProps(n);return y(ut,Je({ref:s},le,{modelValue:Te.value,"onUpdate:modelValue":[z=>Te.value=z,N],focused:m.value,"onUpdate:focused":z=>m.value=z,validationValue:ie.externalValue,counterValue:je.value,dirty:F,class:["v-combobox",{"v-combobox--active-menu":I.value,"v-combobox--chips":!!n.chips,"v-combobox--selection-slot":!!l.selection,"v-combobox--selecting-index":M.value>-1,[`v-combobox--${n.multiple?"multiple":"single"}`]:!0},n.class],style:n.style,readonly:n.readonly,placeholder:F?void 0:n.placeholder,"onClick:clear":dn,"onMousedown:control":it,onKeydown:hi}),{...l,default:()=>y(Ve,null,[y(Co,Je({ref:A,modelValue:I.value,"onUpdate:modelValue":z=>I.value=z,activator:"parent",contentClass:"v-combobox__content",disabled:En.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterLeave:fi},n.menuProps),{default:()=>[$&&y(To,Je({ref:ht,selected:hn.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:z=>z.preventDefault(),onKeydown:li,onFocusin:wt,onFocusout:Ot,onScrollPassive:bt,tabindex:"-1","aria-live":"polite",color:n.itemColor??n.color},n.listProps),{default:()=>{var z,ue,ve;return[(z=l["prepend-item"])==null?void 0:z.call(l),!ke.value.length&&!n.hideNoData&&(((ue=l["no-data"])==null?void 0:ue.call(l))??y(ai,{title:c(n.noDataText)},null)),y($l,{ref:S,renderless:!0,items:ke.value},{default:be=>{var ft;let{item:we,index:Rt,itemRef:Ke}=be;const De=Je(we.props,{ref:Ke,key:Rt,active:fn.value&&Rt===0?!0:void 0,onClick:()=>Ue(we,null)});return((ft=l.item)==null?void 0:ft.call(l,{item:we,index:Rt,props:De}))??y(ai,De,{prepend:Xt=>{let{isSelected:Vn}=Xt;return y(Ve,null,[n.multiple&&!n.hideSelected?y(Yl,{key:we.value,modelValue:Vn,ripple:!1,tabindex:"-1"},null):void 0,we.props.prependAvatar&&y(Ol,{image:we.props.prependAvatar},null),we.props.prependIcon&&y(Pn,{icon:we.props.prependIcon},null)])},title:()=>{var Xt,Vn;return p.value?we.title:S0(we.title,(Xt=cn(we))==null?void 0:Xt.title,((Vn=Te.value)==null?void 0:Vn.length)??0)}})}}),(ve=l["append-item"])==null?void 0:ve.call(l)]}})]}),ie.value.map((z,ue)=>{function ve(Ke){Ke.stopPropagation(),Ke.preventDefault(),Ue(z,!1)}const be={"onClick:close":ve,onMousedown(Ke){Ke.preventDefault(),Ke.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},we=L?!!l.chip:!!l.selection,Rt=we?Dl(L?l.chip({item:z,index:ue,props:be}):l.selection({item:z,index:ue})):void 0;if(!(we&&!Rt))return y("div",{key:z.value,class:["v-combobox__selection",ue===M.value&&["v-combobox__selection--selected",oe.value]],style:ue===M.value?ee.value:{}},[L?l.chip?y(Nl,{key:"chip-defaults",defaults:{VChip:{closable:n.closableChips,size:"small",text:z.title}}},{default:()=>[Rt]}):y(kl,Je({key:"chip",closable:n.closableChips,size:"small",text:z.title,disabled:z.props.disabled},be),null):Rt??y("span",{class:"v-combobox__selection-text"},[z.title,n.multiple&&ue<ie.value.length-1&&y("span",{class:"v-combobox__selection-comma"},[lt(",")])])])})]),"append-inner":function(){var be;for(var z=arguments.length,ue=new Array(z),ve=0;ve<z;ve++)ue[ve]=arguments[ve];return y(Ve,null,[(be=l["append-inner"])==null?void 0:be.call(l,...ue),(!n.hideNoData||n.items.length)&&n.menuIcon?y(Pn,{class:"v-combobox__menu-icon",icon:n.menuIcon,onMousedown:ci,onClick:zl,"aria-label":c(V.value),title:c(V.value)},null):void 0])}})}),Pl({isFocused:m,isPristine:p,menu:I,search:Te,selectionIndex:M,filteredItems:ln,select:Ue},s)}}),I0=zr({...l0({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),gl=Pr()({name:"VRadio",props:I0(),setup(n,a){let{slots:r}=a;return Ur(()=>y(Kl,Je(n,{class:["v-radio",n.class],style:n.style,type:"radio"}),r)),{}}}),E0=zr({height:{type:[Number,String],default:"auto"},...f0(),...Eo(c0(),["multiple"]),trueIcon:{type:ll,default:"$radioOn"},falseIcon:{type:ll,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),C0=Pr()({name:"VRadioGroup",inheritAttrs:!1,props:E0(),emits:{"update:modelValue":n=>!0},setup(n,a){let{attrs:r,slots:l}=a;const c=e0(),s=Oe(()=>n.id||`radio-group-${c}`),m=ii(n,"modelValue");return Ur(()=>{const[p,f]=t0(r),A=fl.filterProps(n),S=Kl.filterProps(n),R=l.label?l.label({label:n.label,props:{for:s.value}}):n.label;return y(fl,Je({class:["v-radio-group",n.class],style:n.style},p,A,{modelValue:m.value,"onUpdate:modelValue":I=>m.value=I,id:s.value}),{...l,default:I=>{let{id:M,messagesId:B,isDisabled:U,isReadonly:V}=I;return y(Ve,null,[R&&y(d0,{id:M.value},{default:()=>[R]}),y(h0,Je(S,{id:M.value,"aria-describedby":B.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:U.value,readonly:V.value,"aria-labelledby":R?M.value:void 0,multiple:!1},f,{modelValue:m.value,"onUpdate:modelValue":ae=>m.value=ae}),l)])}})}),{}}}),T0=un("small",{class:"text-body-2"},"Lugar de nacimiento",-1),x0=un("small",{class:"text-body-2"},"Lugar de residencia",-1),M0=In({__name:"PostulantPersonal",props:{postulant:{},form:{}},emits:["onSuccess"],setup(n,{emit:a}){const r=y0,l=[{title:"Discapacidad Motriz",value:"1"},{title:"Discapacidad Visual",value:"2"},{title:"Visual y Esquema Corporal",value:"3"},{title:"Disminuidos Visuales",value:"4"},{title:"Discapacidad Auditiva",value:"5"},{title:"Autismo",value:"6"},{title:"Discapacidad Mental",value:"7"},{title:"Parálisis Cerebral",value:"8"},{title:"Discapacidad Intelectual",value:"9"},{title:"Sordoceguera",value:"10"},{title:"No Cuenta con Información",value:"11"},{title:"Otros",value:"12"},{title:"Sindrome de Asperger",value:"13"},{title:"Hemiplejia no Identificada",value:"14"},{title:"Estenosis Congénita de la Válvula Aortica",value:"15"},{title:"Multidiscapacidad",value:"16"},{title:"Discapacidad Fisica",value:"17"},{title:"Transtorno del Espectro Autista",value:"18"},{title:"T. por Déficit de Atención con Hiperactividad",value:"19"},{title:"T. Especifico del Aprendizaje",value:"20"},{title:"T. Mentales y del Comportamiento",value:"21"},{title:"Enfermedades Raras",value:"22"},{title:"Talla Baja",value:"23"},{title:"Talento",value:"24"},{title:"Superdotación",value:"25"}],c=[{text:"Masculino",value:"1"},{text:"Femenino",value:"2"}],s=[{text:"Soltero",value:"1"},{text:"Casado",value:"2"},{text:"Divorciado",value:"3"},{text:"Viudo",value:"4"}];return(async()=>{})(),(p,f)=>(K(),Bt(Ve,null,[y(Ni,{flat:"",density:"compact",title:"Información personal"}),y(zi,null,{default:O(()=>[y(ri,null,{default:O(()=>[y(Ee,{cols:"12",md:"6"},{default:O(()=>{var A;return[y(co,{items:Ie(r),modelValue:(A=p.postulant)==null?void 0:A.DocumentType,label:"Tipo de documento",itemTitle:"shortName",itemValue:"id",clearable:!1,readonly:""},null,8,["items","modelValue"])]}),_:1}),y(Ee,{cols:"12",md:"6"},{default:O(()=>{var A;return[y(ut,{label:"Número de documento",modelValue:(A=p.postulant)==null?void 0:A.DocumentNumber,readonly:"",clearable:!1},null,8,["modelValue"])]}),_:1}),y(Ee,{cols:"12",md:"12"},{default:O(()=>[y(ut,{label:"Nombres",modelValue:p.form.name,"onUpdate:modelValue":f[0]||(f[0]=A=>p.form.name=A),rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6"},{default:O(()=>[y(ut,{label:"Apellido paterno",modelValue:p.form.fatherSurname,"onUpdate:modelValue":f[1]||(f[1]=A=>p.form.fatherSurname=A),rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6"},{default:O(()=>[y(ut,{label:"Apellido materno",modelValue:p.form.motherSurname,"onUpdate:modelValue":f[2]||(f[2]=A=>p.form.motherSurname=A)},null,8,["modelValue"])]),_:1}),y(Ee,{cols:"12",md:"4"},{default:O(()=>[y(ut,{label:"Fecha de nacimiento",modelValue:p.form.birthDate,"onUpdate:modelValue":f[3]||(f[3]=A=>p.form.birthDate=A),type:"date",rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"6",md:"4"},{default:O(()=>[y(co,{modelValue:p.form.gender,"onUpdate:modelValue":f[4]||(f[4]=A=>p.form.gender=A),items:c,label:"Género",itemTitle:"text",itemValue:"value",clearable:!1,rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"6",md:"4"},{default:O(()=>[y(co,{modelValue:p.form.maritalStatus,"onUpdate:modelValue":f[5]||(f[5]=A=>p.form.maritalStatus=A),items:s,label:"Estado civil",itemTitle:"text",itemValue:"value",clearable:!1,rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),p.form.gender==="2"&&(p.form.maritalStatus==="2"||p.form.maritalStatus==="3"||p.form.maritalStatus==="4")?(K(),se(Ee,{key:0,cols:"12",md:"6"},{default:O(()=>[y(ut,{label:"Apellido de casada",modelValue:p.form.marriedSurname,"onUpdate:modelValue":f[6]||(f[6]=A=>p.form.marriedSurname=A)},null,8,["modelValue"])]),_:1})):Ut("",!0),y(Ee,{cols:"12 pt-0"},{default:O(()=>[y(Un,{class:"pb-1",flat:""},{default:O(()=>[y(dl,{class:"pt-0"},{default:O(()=>[T0]),_:1}),y(ri,null,{default:O(()=>[y(Ee,{cols:"12",md:p.form.birthCountry==="PER"||p.form.birthCountry===null?4:12},{default:O(()=>[y(Mr,{items:Ie(pl),modelValue:p.form.birthCountry,"onUpdate:modelValue":f[7]||(f[7]=A=>p.form.birthCountry=A),label:"País","item-title":"name","item-value":"id",clearable:!0,rules:[Ie(qe)],"return-object":!1},null,8,["items","modelValue","rules"])]),_:1},8,["md"]),p.postulant.DocumentType==="001"&&(p.form.birthCountry==="PER"||p.form.birthCountry===null)?(K(),se(ml,{key:0,modelValue:p.form.birthPlace,"onUpdate:modelValue":f[8]||(f[8]=A=>p.form.birthPlace=A)},null,8,["modelValue"])):Ut("",!0)]),_:1})]),_:1})]),_:1}),y(Ee,{cols:"12 pt-0"},{default:O(()=>[y(Un,{class:"pb-1",flat:""},{default:O(()=>[y(dl,{class:"pt-0"},{default:O(()=>[x0]),_:1}),y(ri,null,{default:O(()=>[y(Ee,{cols:"12",md:p.form.residenceCountry==="PER"||p.form.residenceCountry===null?4:12},{default:O(()=>[y(Mr,{items:Ie(pl),modelValue:p.form.residenceCountry,"onUpdate:modelValue":f[9]||(f[9]=A=>p.form.residenceCountry=A),label:"País","item-title":"name","item-value":"id",clearable:!0,rules:[Ie(qe)],"return-object":!1},null,8,["items","modelValue","rules"])]),_:1},8,["md"]),p.form.residenceCountry==="PER"||p.form.residenceCountry===null?(K(),se(ml,{key:0,modelValue:p.form.residencePlace,"onUpdate:modelValue":f[10]||(f[10]=A=>p.form.residencePlace=A)},null,8,["modelValue"])):Ut("",!0)]),_:1})]),_:1})]),_:1}),y(Ee,{cols:"12",md:"12"},{default:O(()=>[y(ut,{label:"Dirección del lugar de residencia",modelValue:p.form.address,"onUpdate:modelValue":f[11]||(f[11]=A=>p.form.address=A),rules:[Ie(qe)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6",lg:"6"},{default:O(()=>[y(ut,{label:"Teléfono",modelValue:p.form.phoneNumber,"onUpdate:modelValue":f[12]||(f[12]=A=>p.form.phoneNumber=A),rules:[Ie(qe),Ie(hl)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6",lg:"6"},{default:O(()=>[y(ut,{label:"Correo electrónico",modelValue:p.form.email,"onUpdate:modelValue":f[13]||(f[13]=A=>p.form.email=A),rules:[Ie(qe),Ie(u0)]},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6"},{default:O(()=>[y(ut,{label:"Año de graduación",modelValue:p.form.graduationYear,"onUpdate:modelValue":f[14]||(f[14]=A=>p.form.graduationYear=A),rules:[Ie(qe),Ie(hl)],maxLength:"4"},null,8,["modelValue","rules"])]),_:1}),y(Ee,{cols:"12",md:"6"},{default:O(()=>[y(C0,{modelValue:p.form.hasDisability,"onUpdate:modelValue":f[15]||(f[15]=A=>p.form.hasDisability=A),column:"",label:"¿Tiene discapacidad?"},{default:O(()=>[y(gl,{label:"Si",value:!0,rules:[Ie(qe)],class:"text-body-2"},null,8,["rules"]),y(gl,{label:"No",value:!1,rules:[Ie(qe)],class:"text-body-2"},null,8,["rules"])]),_:1},8,["modelValue"])]),_:1}),p.form.hasDisability===!0?(K(),se(Ee,{key:1,cols:"12",md:"12"},{default:O(()=>[y(Mr,{modelValue:p.form.disabilityType,"onUpdate:modelValue":f[16]||(f[16]=A=>p.form.disabilityType=A),items:l,label:"Tipo de discapacidad",itemTitle:"title",itemValue:"value",clearable:!1,rules:[Ie(qe)],"return-object":!1},null,8,["modelValue","rules"])]),_:1})):Ut("",!0)]),_:1})]),_:1})],64))}}),L0=In({__name:"PostulantSpecialty",props:{form:{}},emits:["onSuccess"],setup(n,{emit:a}){const r=pe([]);return(async()=>{let c=await Br.get("https://segundas.unap.pe/api/programas");r.value=c.data})(),(c,s)=>(K(),Bt(Ve,null,[y(Ni,{flat:"",density:"compact",title:"Especialidad"}),y(zi,null,{default:O(()=>[y(ri,null,{default:O(()=>[y(Ee,{cols:"12",md:"12"},{default:O(()=>[y(Mr,{modelValue:c.form.specialty,"onUpdate:modelValue":s[0]||(s[0]=m=>c.form.specialty=m),items:r.value,label:"Especialidad","item-title":"nombre","item-value":"id","return-object":!1,clearable:!1,rules:[Ie(qe)]},null,8,["modelValue","items","rules"])]),_:1})]),_:1})]),_:1})],64))}});function vl(n,a){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);a&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),r.push.apply(r,l)}return r}function ce(n){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?vl(Object(r),!0).forEach(function(l){Mt(n,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):vl(Object(r)).forEach(function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(r,l))})}return n}function Mt(n,a,r){return a in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n}function O0(n,a){if(n==null)return{};var r,l,c=function(m,p){if(m==null)return{};var f,A,S={},R=Object.keys(m);for(A=0;A<R.length;A++)f=R[A],p.indexOf(f)>=0||(S[f]=m[f]);return S}(n,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(l=0;l<s.length;l++)r=s[l],a.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(c[r]=n[r])}return c}function Bn(n){return function(a){if(Array.isArray(a))return ho(a)}(n)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(n)||function(a,r){if(a){if(typeof a=="string")return ho(a,r);var l=Object.prototype.toString.call(a).slice(8,-1);if(l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set")return Array.from(a);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return ho(a,r)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ho(n,a){(a==null||a>n.length)&&(a=n.length);for(var r=0,l=new Array(a);r<a;r++)l[r]=n[r];return l}var Al,D0,Ir,Pe=(Al=function(n){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var a={}.hasOwnProperty;function r(){for(var l=[],c=0;c<arguments.length;c++){var s=arguments[c];if(s){var m=typeof s;if(m==="string"||m==="number")l.push(s);else if(Array.isArray(s)){if(s.length){var p=r.apply(null,s);p&&l.push(p)}}else if(m==="object")if(s.toString===Object.prototype.toString)for(var f in s)a.call(s,f)&&s[f]&&l.push(f);else l.push(s.toString())}}return l.join(" ")}n.exports?(r.default=r,n.exports=r):window.classNames=r})()},Al(Ir={path:D0,exports:{},require:function(n,a){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(a==null&&Ir.path)}},Ir.exports),Ir.exports),Wt=function(n){return function(a,r){if(!a)return n;var l;typeof a=="string"?l=a:r=a;var c=n;return l&&(c+="__"+l),c+(r?Object.keys(r).reduce(function(s,m){var p=r[m];return p&&(s+=" "+(typeof p=="boolean"?c+"--"+m:c+"--"+m+"_"+p)),s},""):"")}};function wo(n,a,r){var l,c,s,m,p;function f(){var S=Date.now()-m;S<a&&S>=0?l=setTimeout(f,a-S):(l=null,r||(p=n.apply(s,c),s=c=null))}a==null&&(a=100);var A=function(){s=this,c=arguments,m=Date.now();var S=r&&!l;return l||(l=setTimeout(f,a)),S&&(p=n.apply(s,c),s=c=null),p};return A.clear=function(){l&&(clearTimeout(l),l=null)},A.flush=function(){l&&(p=n.apply(s,c),s=c=null,clearTimeout(l),l=null)},A}wo.debounce=wo;var Ro=wo,H=function(){return H=Object.assign||function(n){for(var a,r=1,l=arguments.length;r<l;r++)for(var c in a=arguments[r])Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c]);return n},H.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function jl(n,a){var r,l;return n&&a?(r=""+n+a[0].toUpperCase()+a.slice(1),l=n+"-"+a):(r=n||a,l=n||a),{name:r,classname:l}}function ec(n){return/^blob:/.test(n)}function bl(n){return ec(n)||function(a){return/^data:/.test(a)}(n)}function ni(n){return!!(n&&n.constructor&&n.call&&n.apply)}function We(n){return n===void 0}function Lr(n){return typeof n=="object"&&n!==null}function yo(n,a,r){var l={};return Lr(n)?(Object.keys(a).forEach(function(c){We(n[c])?l[c]=a[c]:Lr(a[c])?Lr(n[c])?l[c]=yo(n[c],a[c],r[c]):l[c]=n[c]?a[c]:r[c]:a[c]===!0||a[c]===!1?l[c]=!!n[c]:l[c]=n[c]}),l):n?a:r}function Er(n){var a=Number(n);return Number.isNaN(a)?n:a}function wl(n){return typeof(n=="number"||function(a){return typeof a=="object"&&a!==null}(n)&&toString.call(n)=="[object Number]")&&!tc(n)}function tc(n){return n!=n}function nc(n,a){return Math.sqrt(Math.pow(n.x-a.x,2)+Math.pow(n.y-a.y,2))}var Oi=function(n,a){n===void 0&&(n={}),a===void 0&&(a={}),this.type="manipulateImage",this.move=n,this.scale=a},N0=function(n,a){a===void 0&&(a={}),this.type="resize",this.directions=n,this.params=a},xo=function(n){this.type="move",this.directions=n},z0=function(){function n(a,r,l,c,s){this.type="drag",this.nativeEvent=a,this.position=l,this.previousPosition=c,this.element=r,this.anchor=s}return n.prototype.shift=function(){var a=this,r=a.element,l=a.anchor,c=a.position;if(r){var s=r.getBoundingClientRect(),m=s.left,p=s.top;return{left:c.left-m-l.left,top:c.top-p-l.top}}return{left:0,top:0}},n}(),Mo={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(n){n.cancelable&&!this.disabled&&n.touches.length===1&&(this.touches=Bn(n.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),n.touches.length&&this.initAnchor(this.touches.reduce(function(a,r){return{clientX:a.clientX+r.clientX/n.touches.length,clientY:a.clientY+r.clientY/n.touches.length}},{clientX:0,clientY:0})),n.preventDefault&&n.preventDefault(),n.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(n){this.touches.length&&(this.processMove(n,n.touches),n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation())},onMouseDown:function(n){if(!this.disabled){var a={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[a],this.initAnchor(a),n.stopPropagation()}},onMouseMove:function(n){this.touches.length&&(this.processMove(n,[{fake:!0,clientX:n.clientX,clientY:n.clientY}]),n.preventDefault&&n.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(n){var a=this.$refs.draggable.getBoundingClientRect(),r=a.left,l=a.right,c=a.bottom,s=a.top;this.anchor={left:n.clientX-r,top:n.clientY-s,bottom:c-n.clientY,right:l-n.clientX}},processMove:function(n,a){var r=Bn(a);if(this.touches.length){if(this.touches.length===1&&r.length===1){var l=this.$refs.draggable;this.$emit("drag",new z0(n,l,{left:r[0].clientX,top:r[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=r}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};Mo.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"draggable",class:r.classname,onTouchstart:a[1]||(a[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:a[2]||(a[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:a[3]||(a[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:a[4]||(a[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[Wn(n.$slots,"default")],34)};var fo=Wt("vue-handler-wrapper"),ic={name:"HandlerWrapper",components:{DraggableElement:Mo},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var n;if(this.horizontalPosition||this.verticalPosition){var a,r=jl(this.horizontalPosition,this.verticalPosition);n=fo((Mt(a={},r.classname,!0),Mt(a,"disabled",this.disabled),a))}else n=fo({disabled:this.disabled});return{root:n,draggable:fo("draggable")}}},emits:["leave","enter","drag","drag-end"]};ic.render=function(n,a,r,l,c,s){var m=sn("DraggableElement");return K(),se("div",{class:s.classes.root},[y(m,{class:s.classes.draggable,onDrag:a[1]||(a[1]=function(p){return n.$emit("drag",p)}),onDragEnd:a[2]||(a[2]=function(p){return n.$emit("drag-end")}),onLeave:a[3]||(a[3]=function(p){return n.$emit("leave")}),onEnter:a[4]||(a[4]=function(p){return n.$emit("enter")})},{default:O(function(){return[Wn(n.$slots,"default")]}),_:3},8,["class"])],2)};var P0=Wt("vue-line-wrapper"),rc={name:"LineWrapper",components:{DraggableElement:Mo},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var n;return P0((Mt(n={},this.position,!0),Mt(n,"disabled",this.disabled),n))}},emits:["leave","enter","drag","drag-end"]};rc.render=function(n,a,r,l,c,s){var m=sn("DraggableElement");return K(),se(m,{class:s.classname,onDrag:a[1]||(a[1]=function(p){return n.$emit("drag",p)}),onDragEnd:a[2]||(a[2]=function(p){return n.$emit("drag-end")}),onLeave:a[3]||(a[3]=function(p){return n.$emit("leave")}),onEnter:a[4]||(a[4]=function(p){return n.$emit("enter")})},{default:O(function(){return[Wn(n.$slots,"default")]}),_:3},8,["class"])};var kt=["left","right","top","bottom"],U0=["left","right"],B0=["top","bottom"],W0=["left","top"],V0=["fill-area","fit-area","stencil","none"],Rl={left:0,top:0,width:0,height:0};function yl(n,a,r){return!(r=r||["width","height","left","top"]).some(function(l){return n[l]!==a[l]})}function Kt(n){return{left:n.left,top:n.top,right:n.left+n.width,bottom:n.top+n.height}}function oi(n,a){return{left:n.left-a.left,top:n.top-a.top}}function Ge(n){return{left:n.left+n.width/2,top:n.top+n.height/2}}function Di(n,a){var r={left:0,top:0,right:0,bottom:0};return kt.forEach(function(l){var c=a[l],s=Kt(n)[l];r[l]=c!==void 0&&s!==void 0?l==="left"||l==="top"?Math.max(0,c-s):Math.max(0,s-c):0}),r}function Gt(n,a){return{left:n.left-a.left,top:n.top-a.top,width:n.width+a.left+a.right,height:n.height+a.top+a.bottom}}function Wr(n){return{left:-n.left,top:-n.top}}function ct(n,a){return H(H({},n),{left:n.left+a.left,top:n.top+a.top})}function Lt(n,a,r,l){if(a!==1){if(r){var c=Ge(n);return{width:n.width*a,height:n.height*a,left:n.left+n.width*(1-a)/2+(r.left-c.left)*(l||1-a),top:n.top+n.height*(1-a)/2+(r.top-c.top)*(l||1-a)}}return{width:n.width*a,height:n.height*a,left:n.left+n.width*(1-a)/2,top:n.top+n.height*(1-a)/2}}return n}function he(n){return n.width/n.height}function si(n,a){return Math.min(a.right!==void 0&&a.left!==void 0?(a.right-a.left)/n.width:1/0,a.bottom!==void 0&&a.top!==void 0?(a.bottom-a.top)/n.height:1/0)}function ui(n,a){var r={left:0,top:0},l=Di(n,a);return l.left&&l.left>0?r.left=l.left:l.right&&l.right>0&&(r.left=-l.right),l.top&&l.top>0?r.top=l.top:l.bottom&&l.bottom>0&&(r.top=-l.bottom),r}function mo(n,a){var r;return a.minimum&&n<a.minimum?r=a.minimum:a.maximum&&n>a.maximum&&(r=a.maximum),r}function ac(n,a){var r=he(n),l=he(a);return a.width<1/0&&a.height<1/0?r>l?{width:a.width,height:a.width/r}:{width:a.height*r,height:a.height}:a.width<1/0?{width:a.width,height:a.width/r}:a.height<1/0?{width:a.height*r,height:a.height}:n}function oc(n,a){var r=a*Math.PI/180;return{width:Math.abs(n.width*Math.cos(r))+Math.abs(n.height*Math.sin(r)),height:Math.abs(n.width*Math.sin(r))+Math.abs(n.height*Math.cos(r))}}function _n(n,a){var r=a*Math.PI/180;return{left:n.left*Math.cos(r)-n.top*Math.sin(r),top:n.left*Math.sin(r)+n.top*Math.cos(r)}}function Vr(n,a){var r=Di($e(n,a),a);return r.left+r.right+r.top+r.bottom?r.left+r.right>r.top+r.bottom?Math.min((n.width+r.left+r.right)/n.width,si(n,a)):Math.min((n.height+r.top+r.bottom)/n.height,si(n,a)):1}function $e(n,a,r){r===void 0&&(r=!1);var l=ui(n,a);return ct(n,r?Wr(l):l)}function So(n){return{width:n.right!==void 0&&n.left!==void 0?n.right-n.left:1/0,height:n.bottom!==void 0&&n.top!==void 0?n.bottom-n.top:1/0}}function F0(n,a){return H(H({},n),{minWidth:Math.min(a.width,n.minWidth),minHeight:Math.min(a.height,n.minHeight),maxWidth:Math.min(a.width,n.maxWidth),maxHeight:Math.min(a.height,n.maxHeight)})}function sc(n,a,r){r===void 0&&(r=!0);var l={};return kt.forEach(function(c){var s=n[c],m=a[c];s!==void 0&&m!==void 0?l[c]=c==="left"||c==="top"?r?Math.max(s,m):Math.min(s,m):r?Math.min(s,m):Math.max(s,m):m!==void 0?l[c]=m:s!==void 0&&(l[c]=s)}),l}function Fr(n,a){return sc(n,a,!0)}function Sl(n){var a=n.size,r=n.aspectRatio,l=n.ignoreMinimum,c=n.sizeRestrictions;return!!((a.correctRatio||he(a)>=r.minimum&&he(a)<=r.maximum)&&a.height<=c.maxHeight&&a.width<=c.maxWidth&&a.width&&a.height&&(l||a.height>=c.minHeight&&a.width>=c.minWidth))}function _l(n,a){return Math.pow(n.width-a.width,2)+Math.pow(n.height-a.height,2)}function on(n){var a=n.width,r=n.height,l=n.sizeRestrictions,c={minimum:n.aspectRatio&&n.aspectRatio.minimum||0,maximum:n.aspectRatio&&n.aspectRatio.maximum||1/0},s={width:Math.max(l.minWidth,Math.min(l.maxWidth,a)),height:Math.max(l.minHeight,Math.min(l.maxHeight,r))};function m(A,S){return S===void 0&&(S=!1),A.reduce(function(R,I){return Sl({size:I,aspectRatio:c,sizeRestrictions:l,ignoreMinimum:S})&&(!R||_l(I,{width:a,height:r})<_l(R,{width:a,height:r}))?I:R},null)}var p=[];c&&[c.minimum,c.maximum].forEach(function(A){A&&p.push({width:s.width,height:s.width/A,correctRatio:!0},{width:s.height*A,height:s.height,correctRatio:!0})}),Sl({size:s,aspectRatio:c,sizeRestrictions:l})&&p.push(s);var f=m(p)||m(p,!0);return f&&{width:f.width,height:f.height}}function _o(n){var a=n.event,r=n.coordinates,l=n.positionRestrictions,c=l===void 0?{}:l,s=ct(r,a.directions);return ct(s,ui(s,c))}function H0(n){var a=n.coordinates,r=n.transform,l=n.imageSize,c=n.sizeRestrictions,s=n.positionRestrictions,m=n.aspectRatio,p=n.visibleArea,f=function(S,R){return _o({coordinates:S,positionRestrictions:s,event:new xo({left:R.left-S.left,top:R.top-S.top})})},A=H({},a);return(Array.isArray(r)?r:[r]).forEach(function(S){var R={};We((R=typeof S=="function"?S({coordinates:A,imageSize:l,visibleArea:p}):S).width)&&We(R.height)||(A=function(I,M){var B=H(H(H({},I),on({width:M.width,height:M.height,sizeRestrictions:c,aspectRatio:m})),{left:0,top:0});return f(B,{left:I.left,top:I.top})}(A,H(H({},A),R))),We(R.left)&&We(R.top)||(A=f(A,H(H({},A),R)))}),A}function G0(n){n.event;var a=n.getAreaRestrictions,r=n.boundaries,l=n.coordinates,c=n.visibleArea;n.aspectRatio;var s=n.stencilSize,m=n.sizeRestrictions,p=n.positionRestrictions;n.stencilReference;var f,A,S,R=H({},l),I=H({},c),M=H({},s);f=he(M),A=he(R),S===void 0&&(S=.001),(f===0||A===0?Math.abs(A-f)<S:Math.abs(A/f)<1+S&&Math.abs(A/f)>1-S)||(R=H(H({},R),on({sizeRestrictions:m,width:R.width,height:R.height,aspectRatio:{minimum:he(M),maximum:he(M)}})));var B=Vr(I=Lt(I,R.width*r.width/(I.width*M.width)),a({visibleArea:I,type:"resize"}));return B!==1&&(I=Lt(I,B),R=Lt(R,B)),I=$e(I=ct(I,oi(Ge(R),Ge(I))),a({visibleArea:I,type:"move"})),{coordinates:R=$e(R,Fr(Kt(I),p)),visibleArea:I}}function $0(n){var a=n.event,r=n.getAreaRestrictions,l=n.boundaries,c=n.coordinates,s=n.visibleArea;n.aspectRatio,n.stencilSize,n.sizeRestrictions;var m=n.positionRestrictions;n.stencilReference;var p=H({},c),f=H({},s);if(c&&s&&a.type!=="manipulateImage"){var A={width:0,height:0};f.width,l.width,he(l)>he(p)?(A.height=.8*l.height,A.width=A.height*he(p)):(A.width=.8*l.width,A.height=A.width*he(p));var S=Vr(f=Lt(f,p.width*l.width/(f.width*A.width)),r({visibleArea:f,type:"resize"}));f=Lt(f,S),S!==1&&(A.height/=S,A.width/=S),f=$e(f=ct(f,oi(Ge(p),Ge(f))),r({visibleArea:f,type:"move"})),p=$e(p,Fr(Kt(f),m))}return{coordinates:p,visibleArea:f}}function Y0(n){var a=n.event,r=n.coordinates,l=n.visibleArea,c=n.getAreaRestrictions,s=H({},l),m=H({},r);if(a.type==="setCoordinates"){var p=Math.max(0,m.width-s.width),f=Math.max(0,m.height-s.height);p>f?s=Lt(s,Math.min(m.width/s.width,si(s,c({visibleArea:s,type:"resize"})))):f>p&&(s=Lt(s,Math.min(m.height/s.height,si(s,c({visibleArea:s,type:"resize"}))))),s=$e(s=ct(s,Wr(ui(m,Kt(s)))),c({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:m}}function k0(n){var a=n.imageSize,r=n.visibleArea,l=n.coordinates,c=r||a;return{left:(r?r.left:0)+c.width/2-l.width/2,top:(r?r.top:0)+c.height/2-l.height/2}}function K0(n){var a=n.imageSize,r=n.visibleArea,l=n.aspectRatio,c=n.sizeRestrictions,s=r||a,m=Math.min(l.maximum||1/0,Math.max(l.minimum||0,he(s))),p=s.width<s.height?{width:.8*s.width,height:.8*s.width/m}:{height:.8*s.height,width:.8*s.height*m};return on(H(H({},p),{aspectRatio:l,sizeRestrictions:c}))}function X0(n){var a,r,l=n.imageSize,c=n.visibleArea,s=n.boundaries,m=n.aspectRatio,p=n.sizeRestrictions,f=n.stencilSize,A=c||l;return he(A)>he(s)?r=(a=f.height*A.height/s.height)*he(f):a=(r=f.width*A.width/s.width)/he(f),on({width:r,height:a,aspectRatio:m,sizeRestrictions:p})}function Z0(n){var a=n.getAreaRestrictions,r=n.coordinates,l=n.imageSize,c=he(n.boundaries);if(r){var s={height:Math.max(r.height,l.height),width:Math.max(r.width,l.width)},m=ac({width:he(s)>c?s.width:s.height*c,height:he(s)>c?s.width/c:s.height},So(a())),p={left:r.left+r.width/2-m.width/2,top:r.top+r.height/2-m.height/2,width:m.width,height:m.height},f=Di(r,Kt(H({left:0,top:0},l))),A={};return!f.left&&!f.right&&p.width<=l.width&&(A.left=0,A.right=l.width),!f.top&&!f.bottom&&p.height<=l.height&&(A.top=0,A.bottom=l.height),$e(p,A)}var S=he(l);return m={height:S>c?l.height:l.width/c,width:S>c?l.height*c:l.width},{left:l.width/2-m.width/2,top:l.height/2-m.height/2,width:m.width,height:m.height}}function Cr(n,a){return sc(n,Kt(a))}function q0(n){var a=n.event,r=n.coordinates,l=n.visibleArea,c=n.sizeRestrictions,s=n.getAreaRestrictions,m=n.positionRestrictions,p=n.adjustStencil,f=a.scale,A=a.move,S=H({},l),R=H({},r),I=1,M=1,B=f.factor&&Math.abs(f.factor-1)>.001;S=ct(S,{left:A.left||0,top:A.top||0});var U={stencil:{minimum:Math.max(c.minWidth?c.minWidth/R.width:0,c.minHeight?c.minHeight/R.height:0),maximum:Math.min(c.maxWidth?c.maxWidth/R.width:1/0,c.maxHeight?c.maxHeight/R.height:1/0,si(R,m))},area:{maximum:si(S,s({visibleArea:S,type:"resize"}))}};f.factor&&B&&(f.factor<1?(M=Math.max(f.factor,U.stencil.minimum))>1&&(M=1):f.factor>1&&(M=Math.min(f.factor,Math.min(U.area.maximum,U.stencil.maximum)))<1&&(M=1)),M&&(S=Lt(S,M,f.center));var V=r.left-l.left,ae=l.width+l.left-(r.width+r.left),Qe=r.top-l.top,Ce=l.height+l.top-(r.height+r.top);return S=$e(S=ct(S,ui(S,{left:m.left!==void 0?m.left-V*M:void 0,top:m.top!==void 0?m.top-Qe*M:void 0,bottom:m.bottom!==void 0?m.bottom+Ce*M:void 0,right:m.right!==void 0?m.right+ae*M:void 0})),s({visibleArea:S,type:"move"})),R.width=R.width*M,R.height=R.height*M,R.left=S.left+V*M,R.top=S.top+Qe*M,R=$e(R,Fr(Kt(S),m)),f.factor&&B&&p&&(f.factor>1?I=Math.min(U.area.maximum,f.factor)/M:f.factor<1&&(I=Math.max(R.height/S.height,R.width/S.width,f.factor/M)),I!==1&&(S=ct(S=$e(S=Lt(S,I,f.factor>1?f.center:Ge(R)),s({visibleArea:S,type:"move"})),Wr(ui(R,Kt(S)))))),{coordinates:R,visibleArea:S}}function J0(n){var a=n.aspectRatio,r=n.getAreaRestrictions,l=n.coordinates,c=n.visibleArea,s=n.sizeRestrictions,m=n.positionRestrictions,p=n.imageSize,f=n.previousImageSize,A=n.angle,S=H({},l),R=H({},c),I=_n(Ge(H({left:0,top:0},f)),A);return(S=H(H({},on({sizeRestrictions:s,aspectRatio:a,width:S.width,height:S.height})),_n(Ge(S),A))).left-=I.left-p.width/2+S.width/2,S.top-=I.top-p.height/2+S.height/2,R=Lt(R,Vr(R,r({visibleArea:R,type:"resize"}))),{coordinates:S=$e(S,m),visibleArea:R=$e(R=ct(R,oi(Ge(S),Ge(l))),r({visibleArea:R,type:"move"}))}}function Q0(n){var a=n.flip,r=n.previousFlip,l=n.rotate;n.aspectRatio;var c=n.getAreaRestrictions,s=n.coordinates,m=n.visibleArea,p=n.imageSize,f=H({},s),A=H({},m),S=r.horizontal!==a.horizontal,R=r.vertical!==a.vertical;if(S||R){var I=_n({left:p.width/2,top:p.height/2},-l),M=_n(Ge(f),-l),B=_n({left:S?I.left-(M.left-I.left):M.left,top:R?I.top-(M.top-I.top):M.top},l);f=ct(f,oi(B,Ge(f))),M=_n(Ge(A),-l),A=$e(A=ct(A,oi(B=_n({left:S?I.left-(M.left-I.left):M.left,top:R?I.top-(M.top-I.top):M.top},l),Ge(A))),c({visibleArea:A,type:"move"}))}return{coordinates:f,visibleArea:A}}function Il(n){var a=n.directions,r=n.coordinates,l=n.positionRestrictions,c=l===void 0?{}:l,s=n.sizeRestrictions,m=n.preserveRatio,p=n.compensate,f=H({},a),A=Gt(r,f).width,S=Gt(r,f).height;A<0&&(f.left<0&&f.right<0?(f.left=-(r.width-s.minWidth)/(f.left/f.right),f.right=-(r.width-s.minWidth)/(f.right/f.left)):f.left<0?f.left=-(r.width-s.minWidth):f.right<0&&(f.right=-(r.width-s.minWidth))),S<0&&(f.top<0&&f.bottom<0?(f.top=-(r.height-s.minHeight)/(f.top/f.bottom),f.bottom=-(r.height-s.minHeight)/(f.bottom/f.top)):f.top<0?f.top=-(r.height-s.minHeight):f.bottom<0&&(f.bottom=-(r.height-s.minHeight)));var R=Di(Gt(r,f),c);p&&(R.left&&R.left>0&&R.right===0?(f.right+=R.left,f.left-=R.left):R.right&&R.right>0&&R.left===0&&(f.left+=R.right,f.right-=R.right),R.top&&R.top>0&&R.bottom===0?(f.bottom+=R.top,f.top-=R.top):R.bottom&&R.bottom>0&&R.top===0&&(f.top+=R.bottom,f.bottom-=R.bottom),R=Di(Gt(r,f),c));var I={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(kt.forEach(function(U){var V=R[U];V&&f[U]&&(I[U]=Math.max(0,1-V/f[U]))}),m){var M=Math.min.apply(null,kt.map(function(U){return I[U]}));M!==1/0&&kt.forEach(function(U){f[U]*=M})}else kt.forEach(function(U){I[U]!==1/0&&(f[U]*=I[U])});if(A=Gt(r,f).width,S=Gt(r,f).height,f.right+f.left&&(A>s.maxWidth?I.width=(s.maxWidth-r.width)/(f.right+f.left):A<s.minWidth&&(I.width=(s.minWidth-r.width)/(f.right+f.left))),f.bottom+f.top&&(S>s.maxHeight?I.height=(s.maxHeight-r.height)/(f.bottom+f.top):S<s.minHeight&&(I.height=(s.minHeight-r.height)/(f.bottom+f.top))),m){var B=Math.min(I.width,I.height);B!==1/0&&kt.forEach(function(U){f[U]*=B})}else I.width!==1/0&&U0.forEach(function(U){f[U]*=I.width}),I.height!==1/0&&B0.forEach(function(U){f[U]*=I.height});return f}function Tr(n,a,r){return a==0&&r==0?n/2:a==0?0:r==0?n:n*Math.abs(a/(a+r))}var j0=Wt("vue-simple-handler"),eA=Wt("vue-simple-handler-wrapper"),Lo={name:"SimpleHandler",components:{HandlerWrapper:ic},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var n,a=(Mt(n={},this.horizontalPosition,!!this.horizontalPosition),Mt(n,this.verticalPosition,!!this.verticalPosition),Mt(n,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),Mt(n,"hover",this.hover),n);return{default:Pe(j0(a),this.defaultClass,this.hover&&this.hoverClass),wrapper:Pe(eA(a),this.wrapperClass)}}},methods:{onDrag:function(n){this.$emit("drag",n)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Lo.render=function(n,a,r,l,c,s){var m=sn("HandlerWrapper");return K(),se(m,{class:s.classes.wrapper,"vertical-position":r.verticalPosition,"horizontal-position":r.horizontalPosition,disabled:r.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:O(function(){return[y("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var tA=Wt("vue-simple-line"),nA=Wt("vue-simple-line-wrapper"),Oo={name:"SimpleLine",components:{LineWrapper:rc},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Pe(tA(Mt({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Pe(nA(Mt({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(n){this.$emit("drag",n)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Oo.render=function(n,a,r,l,c,s){var m=sn("LineWrapper");return K(),se(m,{class:s.classes.wrapper,position:r.position,disabled:r.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:O(function(){return[y("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var po=Wt("vue-bounding-box"),iA=["east","west",null],rA=["south","north",null],uc={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Lo}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return Oo}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var n=[];return iA.forEach(function(a){rA.forEach(function(r){if(a!==r){var l=jl(a,r),c=l.name,s=l.classname;n.push({name:c,classname:s,verticalDirection:r,horizontalDirection:a})}})}),{points:n}},computed:{style:function(){var n={};return this.width&&this.height&&(n.width="".concat(this.width,"px"),n.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),n},classes:function(){var n=this.handlersClasses,a=this.handlersWrappersClasses,r=this.linesClasses,l=this.linesWrappersClasses;return{root:po(),handlers:n,handlersWrappers:a,lines:r,linesWrappers:l}},lineNodes:function(){var n=this,a=[];return this.points.forEach(function(r){r.horizontalDirection&&r.verticalDirection||!n.lines[r.name]||a.push({name:r.name,component:n.linesComponent,class:Pe(n.classes.lines.default,n.classes.lines[r.name],!n.resizable&&n.classes.lines.disabled),wrapperClass:Pe(n.classes.linesWrappers.default,n.classes.linesWrappers[r.name],!n.resizable&&n.classes.linesWrappers.disabled),hoverClass:n.classes.lines.hover,verticalDirection:r.verticalDirection,horizontalDirection:r.horizontalDirection,disabled:!n.resizable})}),a},handlerNodes:function(){var n=this,a=[],r=this.width,l=this.height;return this.points.forEach(function(c){if(n.handlers[c.name]){var s={name:c.name,component:n.handlersComponent,class:Pe(n.classes.handlers.default,n.classes.handlers[c.name]),wrapperClass:Pe(n.classes.handlersWrappers.default,n.classes.handlersWrappers[c.name]),hoverClass:n.classes.handlers.hover,verticalDirection:c.verticalDirection,horizontalDirection:c.horizontalDirection,disabled:!n.resizable};if(r&&l){var m=c.horizontalDirection,p=c.verticalDirection,f=m==="east"?r:m==="west"?0:r/2,A=p==="south"?l:p==="north"?0:l/2;s.wrapperClass=po("handler"),s.wrapperStyle={transform:"translate(".concat(f,"px, ").concat(A,"px)")},n.transitions&&n.transitions.enabled&&(s.wrapperStyle.transition="".concat(n.transitions.time,"ms ").concat(n.transitions.timingFunction))}else s.wrapperClass=po("handler",Mt({},c.classname,!0));a.push(s)}}),a}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(n,a,r){var l,c=n.shift(),s=c.left,m=c.top,p={left:0,right:0,top:0,bottom:0};a==="west"?p.left-=s:a==="east"&&(p.right+=s),r==="north"?p.top-=m:r==="south"&&(p.bottom+=m),!r&&a?l="width":r&&!a&&(l="height"),this.resizable&&this.$emit("resize",new N0(p,{allowedDirections:{left:a==="west"||!a,right:a==="east"||!a,bottom:r==="south"||!r,top:r==="north"||!r},preserveAspectRatio:n.nativeEvent&&n.nativeEvent.shiftKey,respectDirection:l}))}},emits:["resize","resize-end"]};uc.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"box",class:s.classes.root,style:s.style},[Wn(n.$slots,"default"),y("div",null,[(K(!0),se(Ve,null,Ao(s.lineNodes,function(m){return K(),se(Dr(m.component),{key:m.name,"default-class":m.class,"hover-class":m.hoverClass,"wrapper-class":m.wrapperClass,position:m.name,disabled:m.disabled,onDrag:function(p){return s.onHandlerDrag(p,m.horizontalDirection,m.verticalDirection)},onDragEnd:a[1]||(a[1]=function(p){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(K(!0),se(Ve,null,Ao(s.handlerNodes,function(m){return K(),se("div",{key:m.name,style:m.wrapperStyle,class:m.wrapperClass},[(K(),se(Dr(m.component),{"default-class":m.class,"hover-class":m.hoverClass,"wrapper-class":m.wrapperClass,"horizontal-position":m.horizontalDirection,"vertical-position":m.verticalDirection,disabled:m.disabled,onDrag:function(p){return s.onHandlerDrag(p,m.horizontalDirection,m.verticalDirection)},onDragEnd:a[2]||(a[2]=function(p){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var aA=Wt("vue-draggable-area"),lc={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:aA()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(n){if(n.cancelable){var a=this.movable&&n.touches.length===1;a&&(this.touches=Bn(n.touches)),(this.touchStarted||a)&&(n.preventDefault(),n.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(n){this.touches.length>=1&&(this.touchStarted?(this.processMove(n,n.touches),n.preventDefault(),n.stopPropagation()):nc({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:n.touches[0].clientX,y:n.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(n){if(this.movable&&n.button===0){var a={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[a],this.initAnchor(a),n.stopPropagation()}},onMouseMove:function(n){this.touches.length&&(this.processMove(n,[{fake:!0,clientX:n.clientX,clientY:n.clientY}]),n.preventDefault&&n.cancelable&&n.preventDefault(),n.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(n){var a=this.$refs.container.getBoundingClientRect(),r=a.left,l=a.top;this.anchor={x:n.clientX-r,y:n.clientY-l}},processMove:function(n,a){var r=Bn(a);if(this.touches.length){var l=this.$refs.container.getBoundingClientRect(),c=l.left,s=l.top;this.touches.length===1&&r.length===1&&this.$emit("move",new xo({left:r[0].clientX-(c+this.anchor.x),top:r[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};lc.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"container",onTouchstart:a[1]||(a[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:a[2]||(a[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[Wn(n.$slots,"default")],544)};function go(n){var a,r;return{rotate:n.rotate||0,flip:{horizontal:((a=n==null?void 0:n.flip)===null||a===void 0?void 0:a.horizontal)||!1,vertical:((r=n==null?void 0:n.flip)===null||r===void 0?void 0:r.vertical)||!1}}}function oA(n){return new Promise(function(a,r){try{if(n)if(/^data:/i.test(n))a(function(f){f=f.replace(/^data:([^;]+);base64,/gim,"");for(var A=atob(f),S=A.length,R=new ArrayBuffer(S),I=new Uint8Array(R),M=0;M<S;M++)I[M]=A.charCodeAt(M);return R}(n));else if(/^blob:/i.test(n)){var l=new FileReader;l.onload=function(f){a(f.target.result)},s=n,m=function(f){l.readAsArrayBuffer(f)},(p=new XMLHttpRequest).open("GET",s,!0),p.responseType="blob",p.onload=function(){this.status!=200&&this.status!==0||m(this.response)},p.send()}else{var c=new XMLHttpRequest;c.onreadystatechange=function(){c.readyState===4&&(c.status===200||c.status===0?a(c.response):r("Warning: could not load an image to parse its orientation"),c=null)},c.onprogress=function(){c.getResponseHeader("content-type")!=="image/jpeg"&&c.abort()},c.withCredentials=!1,c.open("GET",n,!0),c.responseType="arraybuffer",c.send(null)}else r("Error: the image is empty")}catch(f){r(f)}var s,m,p})}function cc(n){var a=n.rotate,r=n.flip,l=n.scaleX,c=n.scaleY,s="";return s+=" rotate("+a+"deg) ",s+=" scaleX("+l*(r.horizontal?-1:1)+") ",s+=" scaleY("+c*(r.vertical?-1:1)+") "}function sA(n){try{var a,r=new DataView(n),l=void 0,c=void 0,s=void 0,m=void 0;if(r.getUint8(0)===255&&r.getUint8(1)===216)for(var p=r.byteLength,f=2;f+1<p;){if(r.getUint8(f)===255&&r.getUint8(f+1)===225){s=f;break}f++}if(s&&(l=s+10,function(M,B,U){var V,ae="";for(V=B,U+=B;V<U;V++)ae+=String.fromCharCode(M.getUint8(V));return ae}(r,s+4,4)==="Exif")){var A=r.getUint16(l);if(((c=A===18761)||A===19789)&&r.getUint16(l+2,c)===42){var S=r.getUint32(l+4,c);S>=8&&(m=l+S)}}if(m){for(var R=r.getUint16(m,c),I=0;I<R;I++)if(f=m+12*I+2,r.getUint16(f,c)===274){f+=8,a=r.getUint16(f,c),r.setUint16(f,1,c);break}}return a}catch{return null}}function El(n,a){var r=a.getBoundingClientRect(),l=r.left,c=r.top,s={left:0,top:0},m=0;return n.forEach(function(p){s.left+=(p.clientX-l)/n.length,s.top+=(p.clientY-c)/n.length}),n.forEach(function(p){m+=nc({x:s.left,y:s.top},{x:p.clientX-l,y:p.clientY-c})}),{centerMass:s,spread:m,count:n.length}}var hc={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Ro(this.processEnd),this.touches=[]},methods:{processMove:function(n,a){if(this.touches.length){if(this.touches.length===1&&a.length===1)this.$emit("move",new Oi({left:this.touches[0].clientX-a[0].clientX,top:this.touches[0].clientY-a[0].clientY}));else if(this.touches.length>1&&this.touchResize){var r=El(a,this.$refs.container),l=this.oldGeometricProperties;l.count===r.count&&l.count>1&&this.$emit("resize",new Oi({left:l.centerMass.left-r.centerMass.left,top:l.centerMass.top-r.centerMass.top},{factor:l.spread/r.spread,center:r.centerMass})),this.oldGeometricProperties=r}this.touches=a}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(n){return this.eventsFilter?this.eventsFilter(n,this.transforming)!==!1:(n.preventDefault(),n.stopPropagation(),!0)},onTouchStart:function(n){if(n.cancelable&&(this.touchMove||this.touchResize&&n.touches.length>1)&&this.processEvent(n)){var a=this.$refs.container,r=a.getBoundingClientRect(),l=r.left,c=r.top,s=r.bottom,m=r.right;this.touches=Bn(n.touches).filter(function(p){return p.clientX>l&&p.clientX<m&&p.clientY>c&&p.clientY<s}),this.oldGeometricProperties=El(this.touches,a)}},onTouchEnd:function(n){n.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(n){var a=this;if(this.touches.length){var r=Bn(n.touches).filter(function(l){return!l.identifier||a.touches.find(function(c){return c.identifier===l.identifier})});this.processEvent(n)&&(this.processMove(n,r),this.processStart())}},onMouseDown:function(n){if(this.mouseMove&&"buttons"in n&&n.buttons===1&&this.processEvent(n)){var a={fake:!0,clientX:n.clientX,clientY:n.clientY};this.touches=[a],this.processStart()}},onMouseMove:function(n){this.touches.length&&this.processEvent(n)&&this.processMove(n,[{clientX:n.clientX,clientY:n.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(n){if(this.wheelResize&&this.processEvent(n)){var a=this.$refs.container.getBoundingClientRect(),r=a.left,l=a.top,c=1+this.wheelResize.ratio*(m=n.deltaY||n.detail||n.wheelDelta,(p=+m)==0||tc(p)?p:p>0?1:-1),s={left:n.clientX-r,top:n.clientY-l};this.$emit("resize",new Oi({},{factor:c,center:s})),this.touches.length||this.debouncedProcessEnd()}var m,p}},emits:["resize","move","transform-end"]};hc.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"container",onTouchstart:a[1]||(a[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:a[2]||(a[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:a[3]||(a[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[Wn(n.$slots,"default")],544)};var Io={components:{TransformableImage:hc},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Io.render=function(n,a,r,l,c,s){var m=sn("transformable-image");return K(),se(m,{"touch-move":r.touchMove,"touch-resize":r.touchResize,"mouse-move":r.mouseMove,"wheel-resize":r.wheelResize,onMove:a[1]||(a[1]=function(p){return n.$emit("move",p)}),onResize:a[2]||(a[2]=function(p){return n.$emit("resize",p)})},{default:O(function(){return[Wn(n.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var xr=Wt("vue-preview"),fc={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:xr({fill:this.fill}),wrapper:xr("wrapper"),imageWrapper:xr("image-wrapper"),image:Pe(xr("image"),this.imageClass)}},style:function(){if(this.fill)return{};var n={};return this.width&&(n.width="".concat(this.size.width,"px")),this.height&&(n.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n},wrapperStyle:function(){var n={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(n.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),n},imageStyle:function(){if(this.coordinates&&this.image){var n=this.coordinates.width/this.size.width,a=ce(ce({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/n,scaleY:1/n}),r=this.imageSize.width,l=this.imageSize.height,c=oc({width:r,height:l},a.rotate),s={width:"".concat(r,"px"),height:"".concat(l,"px"),left:"0px",top:"0px"},m={rotate:{left:(r-c.width)*a.scaleX/2,top:(l-c.height)*a.scaleY/2},scale:{left:(1-a.scaleX)*r/2,top:(1-a.scaleY)*l/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/n-m.rotate.left-m.scale.left,"px,").concat(-this.coordinates.top/n-m.rotate.top-m.scale.top,"px) ")+cc(a),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(n){(n.width||n.height)&&this.onChangeImage()}},mounted:function(){var n=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){n.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var n=this.$refs.image;this.calculatedImageSize.height=n.naturalHeight,this.calculatedImageSize.width=n.naturalWidth},refresh:function(){var n=this.$refs.root;this.width||(this.calculatedSize.width=n.clientWidth),this.height||(this.calculatedSize.height=n.clientHeight)},onChangeImage:function(){var n=this.$refs.image;n&&n.complete&&this.refreshImage(),this.refresh()}}};fc.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"root",class:s.classes.root,style:s.style},[y("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[Bl(y("img",{ref:"image",src:r.image&&r.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[Wl,r.image&&r.image.src]])],6)],6)};var dc={components:{Preview:fc},inheritAttrs:!1};dc.render=function(n,a,r,l,c,s){var m=sn("preview");return K(),se(m,Je(n.$attrs,{fill:!0}),null,16)};var vo=Wt("vue-rectangle-stencil"),mc={name:"RectangleStencil",components:{StencilPreview:dc,BoundingBox:uc,DraggableArea:lc},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Lo}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return Oo}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Pe(vo({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Pe(vo("preview"),this.previewClass),boundingBox:Pe(vo("bounding-box"),this.boundingBoxClass)}},style:function(){var n=this.stencilCoordinates,a=n.height,r=n.width,l=n.left,c=n.top,s={width:"".concat(r,"px"),height:"".concat(a,"px"),transform:"translate(".concat(l,"px, ").concat(c,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(n){this.$emit("move",n),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(n){this.$emit("resize",n),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};mc.render=function(n,a,r,l,c,s){var m=sn("stencil-preview"),p=sn("draggable-area"),f=sn("bounding-box");return K(),se("div",{class:s.classes.stencil,style:s.style},[y(f,{width:r.stencilCoordinates.width,height:r.stencilCoordinates.height,transitions:r.transitions,class:s.classes.boundingBox,handlers:r.handlers,"handlers-component":r.handlersComponent,"handlers-classes":r.handlersClasses,"handlers-wrappers-classes":r.handlersWrappersClasses,lines:r.lines,"lines-component":r.linesComponent,"lines-classes":r.linesClasses,"lines-wrappers-classes":r.linesWrappersClasses,resizable:r.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:O(function(){return[y(p,{movable:r.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:O(function(){return[y(m,{image:r.image,coordinates:r.coordinates,width:r.stencilCoordinates.width,height:r.stencilCoordinates.height,class:s.classes.preview,transitions:r.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var uA=["transitions"],an=Wt("vue-advanced-cropper"),pc={name:"Cropper",components:{BackgroundWrapper:Io},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return mc}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Io}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(n){return V0.indexOf(n)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(n){return!(typeof n=="string"&&n!=="fill"&&n!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(n){var a=n.event,r=n.coordinates,l=n.aspectRatio,c=n.positionRestrictions,s=n.sizeRestrictions,m=H(H({},r),{right:r.left+r.width,bottom:r.top+r.height}),p=a.params||{},f=H({},a.directions),A=p.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(f.left=0,f.right=0),s.heightFrozen&&(f.top=0,f.bottom=0),kt.forEach(function(oe){A[oe]||(f[oe]=0)});var S=Gt(m,f=Il({coordinates:m,directions:f,sizeRestrictions:s,positionRestrictions:c})).width,R=Gt(m,f).height,I=p.preserveRatio?he(m):mo(S/R,l);if(I){var M=p.respectDirection;if(M||(M=m.width>=m.height||I===1?"width":"height"),M==="width"){var B=S/I-m.height;if(A.top&&A.bottom){var U=f.top,V=f.bottom;f.bottom=Tr(B,V,U),f.top=Tr(B,U,V)}else A.bottom?f.bottom=B:A.top?f.top=B:A.right?f.right=0:A.left&&(f.left=0)}else if(M==="height"){var ae=m.width-R*I;if(A.left&&A.right){var Qe=f.left,Ce=f.right;f.left=-Tr(ae,Qe,Ce),f.right=-Tr(ae,Ce,Qe)}else A.left?f.left=-ae:A.right?f.right=-ae:A.top?f.top=0:A.bottom&&(f.bottom=0)}f=Il({directions:f,coordinates:m,sizeRestrictions:s,positionRestrictions:c,preserveRatio:!0,compensate:p.compensate})}return S=Gt(m,f).width,R=Gt(m,f).height,(I=p.preserveRatio?he(m):mo(S/R,l))&&Math.abs(I-S/R)>.001&&kt.forEach(function(oe){A[oe]||(f[oe]=0)}),_o({event:new xo({left:-f.left,top:-f.top}),coordinates:{width:r.width+f.right+f.left,height:r.height+f.top+f.bottom,left:r.left,top:r.top},positionRestrictions:c})}},moveAlgorithm:{type:Function,default:_o},initStretcher:{type:Function,default:function(n){var a=n.stretcher,r=n.imageSize,l=he(r);a.style.width=r.width+"px",a.style.height=a.clientWidth/l+"px",a.style.width=a.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(n){var a=n.visibleArea,r=n.coordinates,l=n.aspectRatio,c=n.sizeRestrictions,s=n.positionRestrictions,m=H(H({},r),on({width:r.width,height:r.height,aspectRatio:l,sizeRestrictions:{maxWidth:a.width,maxHeight:a.height,minHeight:Math.min(a.height,c.minHeight),minWidth:Math.min(a.width,c.minWidth)}}));return m=$e(m=ct(m,oi(Ge(r),Ge(m))),Fr(Kt(a),s))}},fitVisibleArea:{type:Function,default:function(n){var a=n.visibleArea,r=n.boundaries,l=n.getAreaRestrictions,c=n.coordinates,s=H({},a);s.height=s.width/he(r),s.top+=(a.height-s.height)/2,(c.height-s.height>0||c.width-s.width>0)&&(s=Lt(s,Math.max(c.height/s.height,c.width/s.width)));var m=Wr(ui(c,Kt(s=Lt(s,Vr(s,l({visibleArea:s,type:"resize"}))))));return s.width<c.width&&(m.left=0),s.height<c.height&&(m.top=0),s=$e(s=ct(s,m),l({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(n){var a=n.visibleArea,r=n.boundaries,l=n.imageSize,c=n.imageRestriction,s=n.type,m={};return c==="fill-area"?m={left:0,top:0,right:l.width,bottom:l.height}:c==="fit-area"&&(he(r)>he(l)?(m={top:0,bottom:l.height},a&&s==="move"&&(a.width>l.width?(m.left=-(a.width-l.width)/2,m.right=l.width-m.left):(m.left=0,m.right=l.width))):(m={left:0,right:l.width},a&&s==="move"&&(a.height>l.height?(m.top=-(a.height-l.height)/2,m.bottom=l.height-m.top):(m.top=0,m.bottom=l.height)))),m}},sizeRestrictionsAlgorithm:{type:Function,default:function(n){return{minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(n){var a=n.imageSize,r={};return n.imageRestriction!=="none"&&(r={left:0,top:0,right:a.width,bottom:a.height}),r}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:ce({},Rl)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var n=function(a){return a*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(n))+Math.abs(this.imageAttributes.height*Math.sin(n)),height:Math.abs(this.imageAttributes.width*Math.sin(n))+Math.abs(this.imageAttributes.height*Math.cos(n))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var n=yo(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:yo(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:n}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var n=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:We(this.minWidth)?0:Er(this.minWidth),minHeight:We(this.minHeight)?0:Er(this.minHeight),maxWidth:We(this.maxWidth)?1/0:Er(this.maxWidth),maxHeight:We(this.maxHeight)?1/0:Er(this.maxHeight)});if(n=function(l){var c=l.areaRestrictions,s=l.sizeRestrictions;l.imageSize;var m=l.boundaries,p=l.positionRestrictions;l.imageRestriction;var f=H(H({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});p.left!==void 0&&p.right!==void 0&&(f.maxWidth=Math.min(f.maxWidth,p.right-p.left)),p.bottom!==void 0&&p.top!==void 0&&(f.maxHeight=Math.min(f.maxHeight,p.bottom-p.top));var A=So(c),S=ac(m,A);return A.width<1/0&&(!f.maxWidth||f.maxWidth>S.width)&&(f.maxWidth=Math.min(f.maxWidth,S.width)),A.height<1/0&&(!f.maxHeight||f.maxHeight>S.height)&&(f.maxHeight=Math.min(f.maxHeight,S.height)),f.minWidth>f.maxWidth&&(f.minWidth=f.maxWidth,f.widthFrozen=!0),f.minHeight>f.maxHeight&&(f.minHeight=f.maxHeight,f.heightFrozen=!0),f}({sizeRestrictions:n,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var a=this.getStencilSize(),r=So(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));n.maxWidth=Math.min(n.maxWidth,r.width*a.width/this.boundaries.width),n.maxHeight=Math.min(n.maxHeight,r.height*a.height/this.boundaries.height),n.maxWidth<n.minWidth&&(n.minWidth=n.maxWidth),n.maxHeight<n.minHeight&&(n.minHeight=n.maxHeight)}return n}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:an(),image:Pe(an("image"),this.imageClass),stencil:an("stencil"),boundaries:Pe(an("boundaries"),this.boundariesClass),stretcher:Pe(an("stretcher")),background:Pe(an("background"),this.backgroundClass),foreground:Pe(an("foreground"),this.foregroundClass),imageWrapper:Pe(an("image-wrapper")),cropperWrapper:Pe(an("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var n=this.coordinates,a=n.width,r=n.height,l=n.left,c=n.top;return{width:a/this.coefficient,height:r/this.coefficient,left:(l-this.visibleArea.left)/this.coefficient,top:(c-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var n={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(n.opacity="0"),n},imageStyle:function(){var n=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},a={left:(n.width-this.imageSize.width)/(2*this.coefficient),top:(n.height-this.imageSize.height)/(2*this.coefficient)},r={left:(1-1/this.coefficient)*n.width/2,top:(1-1/this.coefficient)*n.height/2},l=ce(ce({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/n.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/n.height)}),c={width:"".concat(n.width,"px"),height:"".concat(n.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-a.left-r.left-this.imageTransforms.translateX,"px, ").concat(-a.top-r.top-this.imageTransforms.translateY,"px)")+cc(l)};return this.transitionsOptions.enabled&&(c.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),c}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var n=this;this.$nextTick(function(){n.resetCoordinates(),n.runAutoZoom("setCoordinates"),n.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(n,a){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(r){return n[r]!==a[r]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Ro(this.update,this.debounce),this.debouncedDisableTransitions=Ro(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var n=this.initialized?this.prepareResult(ce({},this.coordinates)):this.defaultCoordinates(),a={rotate:this.imageTransforms.rotate%360,flip:ce({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var r=this;return{image:this.image,coordinates:n,visibleArea:this.visibleArea?ce({},this.visibleArea):null,imageTransforms:a,get canvas(){return r.canvas?r.getCanvas():void 0}}}return{image:this.image,coordinates:n,visibleArea:this.visibleArea?ce({},this.visibleArea):null,canvas:void 0,imageTransforms:a}},zoom:function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=r.transitions,c=l===void 0||l;this.onManipulateImage(new Oi({},{factor:1/n,center:a}),{normalize:!1,transitions:c})},move:function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=r.transitions,c=l===void 0||l;this.onManipulateImage(new Oi({left:n||0,top:a||0}),{normalize:!1,transitions:c})},setCoordinates:function(n){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=r.autoZoom,c=l===void 0||l,s=r.transitions,m=s===void 0||s;this.$nextTick(function(){a.imageLoaded?(a.transitionsActive||(m&&a.enableTransitions(),a.coordinates=a.applyTransform(n),c&&a.runAutoZoom("setCoordinates"),m&&a.debouncedDisableTransitions()),a.onChange()):a.delayedTransforms=n})},refresh:function(){var n=this,a=this.$refs.image;if(this.src&&a)return this.initialized?this.updateVisibleArea().then(function(){n.onChange()}):this.resetVisibleArea().then(function(){n.onChange()})},reset:function(){var n=this;return this.resetVisibleArea().then(function(){n.onChange(!1)})},awaitRender:function(n){var a=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){n(),a.awaiting=!1}))},prepareResult:function(n){return this.roundResult?function(a){var r=a.coordinates,l=a.sizeRestrictions,c=a.positionRestrictions,s={width:Math.round(r.width),height:Math.round(r.height),left:Math.round(r.left),top:Math.round(r.top)};return s.width>l.maxWidth?s.width=Math.floor(r.width):s.width<l.minWidth&&(s.width=Math.ceil(r.width)),s.height>l.maxHeight?s.height=Math.floor(r.height):s.height<l.minHeight&&(s.height=Math.ceil(r.height)),$e(s,c)}(ce(ce({},this.getPublicProperties()),{},{positionRestrictions:Cr(this.positionRestrictions,this.visibleArea),coordinates:n})):n},processAutoZoom:function(n,a,r,l){var c=this.autoZoomAlgorithm;c||(c=this.stencilSize?G0:this.autoZoom?$0:Y0);var s=c({event:{type:n,params:l},visibleArea:a,coordinates:r,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return ce(ce({},s),{},{changed:!yl(s.visibleArea,a)||!yl(s.coordinates,r)})},runAutoZoom:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.transitions,l=r!==void 0&&r,c=O0(a,uA),s=this.processAutoZoom(n,this.visibleArea,this.coordinates,c),m=s.visibleArea,p=s.coordinates,f=s.changed;l&&f&&this.enableTransitions(),this.visibleArea=m,this.coordinates=p,l&&f&&this.debouncedDisableTransitions()},normalizeEvent:function(n){return function(a){var r=a.event,l=a.visibleArea,c=a.coefficient;if(r.type==="manipulateImage")return H(H({},r),{move:{left:r.move&&r.move.left?c*r.move.left:0,top:r.move&&r.move.top?c*r.move.top:0},scale:{factor:r.scale&&r.scale.factor?r.scale.factor:1,center:r.scale&&r.scale.center?{left:r.scale.center.left*c+l.left,top:r.scale.center.top*c+l.top}:null}});if(r.type==="resize"){var s=H(H({},r),{directions:H({},r.directions)});return kt.forEach(function(p){s.directions[p]*=c}),s}if(r.type==="move"){var m=H(H({},r),{directions:H({},r.directions)});return W0.forEach(function(p){m.directions[p]*=c}),m}return r}(ce(ce({},this.getPublicProperties()),{},{event:n}))},getCanvas:function(){if(this.$refs.canvas){var n=this.$refs.canvas,a=this.$refs.image,r=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(p,f,A){var S=A.rotate,R=A.flip,I={width:f.naturalWidth,height:f.naturalHeight},M=oc(I,S),B=p.getContext("2d");p.height=M.height,p.width=M.width,B.save();var U=_n(Ge(H({left:0,top:0},I)),S);return B.translate(-(U.left-M.width/2),-(U.top-M.height/2)),B.rotate(S*Math.PI/180),B.translate(R.horizontal?I.width:0,R.vertical?I.height:0),B.scale(R.horizontal?-1:1,R.vertical?-1:1),B.drawImage(f,0,0,I.width,I.height),B.restore(),p}(this.$refs.sourceCanvas,a,this.imageTransforms):a,l=ce({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),c=function(p){return p.find(function(f){return A=f,!Number.isNaN(parseFloat(A))&&isFinite(A);var A})},s=on({sizeRestrictions:{minWidth:c([l.width,l.minWidth])||0,minHeight:c([l.height,l.minHeight])||0,maxWidth:c([l.width,l.maxWidth])||1/0,maxHeight:c([l.height,l.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(l.maxArea&&s.width*s.height>l.maxArea){var m=Math.sqrt(l.maxArea/(s.width*s.height));s={width:Math.round(m*s.width),height:Math.round(m*s.height)}}return function(p,f,A,S,R){p.width=S?S.width:A.width,p.height=S?S.height:A.height;var I=p.getContext("2d");I.clearRect(0,0,p.width,p.height),R&&(R.imageSmoothingEnabled&&(I.imageSmoothingEnabled=R.imageSmoothingEnabled),R.imageSmoothingQuality&&(I.imageSmoothingQuality=R.imageSmoothingQuality),R.fillColor&&(I.fillStyle=R.fillColor,I.fillRect(0,0,p.width,p.height),I.save()));var M=A.left<0?-A.left:0,B=A.top<0?-A.top:0;I.drawImage(f,A.left+M,A.top+B,A.width,A.height,M,B,p.width,p.height)}(n,r,this.coordinates,s,l),n}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(n){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=this.visibleArea&&a?F0(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,l=this.visibleArea&&a?Cr(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return H0({transform:n,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:r,positionRestrictions:l,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var n=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var a=this.defaultSize;a||(a=this.stencilSize?X0:K0);var r=this.sizeRestrictions;r.minWidth,r.minHeight,r.maxWidth,r.maxHeight;var l=ni(a)?a({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):a,c=this.defaultPosition||k0,s=[l,function(m){var p=m.coordinates;return ce({},ni(c)?c({coordinates:p,imageSize:n.imageSize,visibleArea:n.visibleArea}):n.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,Bn(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var n=this;this.imageLoaded=!1,setTimeout(function(){var a=n.$refs.stretcher;a&&(a.style.height="auto",a.style.width="auto"),n.coordinates=n.defaultCoordinates(),n.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var n=this,a=this.$refs.stretcher,r=this.$refs.cropper;return this.initStretcher({cropper:r,stretcher:a,imageSize:this.imageSize}),this.$nextTick().then(function(){var l={cropper:r,imageSize:n.imageSize};if(ni(n.defaultBoundaries)?n.boundaries=n.defaultBoundaries(l):n.defaultBoundaries==="fit"?n.boundaries=function(c){var s=c.cropper,m=c.imageSize,p=s.clientHeight,f=s.clientWidth,A=p,S=m.width*p/m.height;return S>f&&(S=f,A=m.height*f/m.width),{width:S,height:A}}(l):n.boundaries=function(c){var s=c.cropper;return{width:s.clientWidth,height:s.clientHeight}}(l),!n.boundaries.width||!n.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var n=this;return this.appliedImageTransforms=ce(ce({},this.defaultImageTransforms),{},{flip:ce({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){n.priority!=="visible-area"&&(n.visibleArea=null,n.resetCoordinates());var a,r,l,c,s,m,p=n.defaultVisibleArea||Z0;n.visibleArea=ni(p)?p({imageSize:n.imageSize,boundaries:n.boundaries,coordinates:n.priority!=="visible-area"?n.coordinates:null,getAreaRestrictions:n.getAreaRestrictions,stencilSize:n.getStencilSize()}):n.defaultVisibleArea,n.visibleArea=(a={visibleArea:n.visibleArea,boundaries:n.boundaries,getAreaRestrictions:n.getAreaRestrictions},r=a.visibleArea,l=a.boundaries,c=a.getAreaRestrictions,s=H({},r),m=he(l),s.width/s.height!==m&&(s.height=s.width/m),$e(s,c({visibleArea:s,type:"move"}))),n.priority==="visible-area"?n.resetCoordinates():n.coordinates=n.fitCoordinates({visibleArea:n.visibleArea,coordinates:n.coordinates,aspectRatio:n.getAspectRatio(),positionRestrictions:n.positionRestrictions,sizeRestrictions:n.sizeRestrictions}),n.runAutoZoom("resetVisibleArea")}).catch(function(){n.visibleArea=null})},updateVisibleArea:function(){var n=this;return this.updateBoundaries().then(function(){n.visibleArea=n.fitVisibleArea({imageSize:n.imageSize,boundaries:n.boundaries,visibleArea:n.visibleArea,coordinates:n.coordinates,getAreaRestrictions:n.getAreaRestrictions}),n.coordinates=n.fitCoordinates({visibleArea:n.visibleArea,coordinates:n.coordinates,aspectRatio:n.getAspectRatio(),positionRestrictions:n.positionRestrictions,sizeRestrictions:n.sizeRestrictions}),n.runAutoZoom("updateVisibleArea")}).catch(function(){n.visibleArea=null})},onChange:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];n&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var n,a=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(c){if(bl(c))return!1;var s=window.location,m=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(c)||[],p={protocol:m[1]||"",host:m[2]||"",port:m[3]||""},f=function(A){return A.port||((A.protocol||s.protocol)==="http"?80:433)};return!(!p.protocol&&!p.host&&!p.port||p.protocol&&p.protocol==s.protocol&&p.host&&p.host==s.host&&p.host&&f(p)==f(s))}(this.src)){var r=We(this.crossOrigin)?this.canvas:this.crossOrigin;r===!0&&(r="anonymous"),this.imageAttributes.crossOrigin=r||null}if(this.checkOrientation){var l=(n=this.src,new Promise(function(c){oA(n).then(function(s){var m=sA(s);c(s?{source:n,arrayBuffer:s,orientation:m}:{source:n,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),c({source:n,arrayBuffer:null,orientation:null})})}));setTimeout(function(){l.then(a.onParseImage)},this.transitionTime)}else setTimeout(function(){a.onParseImage({source:a.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var n=this,a=this.$refs.image;a&&!this.imageLoaded&&(this.imageAttributes.height=a.naturalHeight,this.imageAttributes.width=a.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){n.$emit("ready"),n.onChange(!1)}))},onParseImage:function(n){var a=this,r=n.source,l=n.arrayBuffer,c=n.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,l&&c&&c>1?ec(r)||!bl(r)?(this.imageAttributes.src=URL.createObjectURL(new Blob([l])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var m=[],p=new Uint8Array(s);p.length>0;){var f=p.subarray(0,8192);m.push(String.fromCharCode.apply(null,Array.from?Array.from(f):f.slice())),p=p.subarray(8192)}return"data:image/jpeg;base64,"+btoa(m.join(""))}(l):this.imageAttributes.src=r,ni(this.defaultTransforms)?this.appliedImageTransforms=go(this.defaultTransforms()):Lr(this.defaultTransforms)?this.appliedImageTransforms=go(this.defaultTransforms):this.appliedImageTransforms=function(s){var m=go({});if(s)switch(s){case 2:m.flip.horizontal=!0;break;case 3:m.rotate=-180;break;case 4:m.flip.vertical=!0;break;case 5:m.rotate=90,m.flip.vertical=!0;break;case 6:m.rotate=90;break;case 7:m.rotate=90,m.flip.horizontal=!0;break;case 8:m.rotate=-90}return m}(c),this.defaultImageTransforms=ce(ce({},this.appliedImageTransforms),{},{flip:ce({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=a.$refs.image;s&&s.complete&&(function(m){return!!m.naturalWidth}(s)?a.onSuccessLoadImage():a.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(n){var a=this;this.transitionsOptions.enabled||this.awaitRender(function(){a.coordinates=a.moveAlgorithm(ce(ce({},a.getPublicProperties()),{},{positionRestrictions:Cr(a.positionRestrictions,a.visibleArea),coordinates:a.coordinates,event:a.normalizeEvent(n)})),a.onChange()})},onResize:function(n){var a=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var r=a.sizeRestrictions,l=Math.min(a.coordinates.width,a.coordinates.height,20*a.coefficient);a.coordinates=a.resizeAlgorithm(ce(ce({},a.getPublicProperties()),{},{positionRestrictions:Cr(a.positionRestrictions,a.visibleArea),sizeRestrictions:{maxWidth:Math.min(r.maxWidth,a.visibleArea.width),maxHeight:Math.min(r.maxHeight,a.visibleArea.height),minWidth:Math.max(r.minWidth,l),minHeight:Math.max(r.minHeight,l)},event:a.normalizeEvent(n)})),a.onChange(),a.ticking=!1})},onManipulateImage:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var r=a.transitions,l=r!==void 0&&r,c=a.normalize,s=c===void 0||c;l&&this.enableTransitions();var m=q0(ce(ce({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(n):n,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),p=m.visibleArea,f=m.coordinates;this.visibleArea=p,this.coordinates=f,this.runAutoZoom("manipulateImage"),this.onChange(),l&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n.visibleArea,r=n.type,l=r===void 0?"move":r;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:a,type:l})},getAspectRatio:function(n){var a,r,l=this.stencilProps,c=l.aspectRatio,s=l.minAspectRatio,m=l.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var p=this.$refs.stencil.aspectRatios();a=p.minimum,r=p.maximum}if(We(a)&&(a=We(c)?s:c),We(r)&&(r=We(c)?m:c),!n&&(We(a)||We(r))){var f=this.getStencilSize(),A=f?he(f):null;We(a)&&(a=wl(A)?A:void 0),We(r)&&(r=wl(A)?A:void 0)}return{minimum:a,maximum:r}},getStencilSize:function(){if(this.stencilSize)return n={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},a=n.boundaries,r=n.stencilSize,l=n.aspectRatio,mo(he(c=ni(r)?r({boundaries:a,aspectRatio:l}):r),l)&&(c=on({sizeRestrictions:{maxWidth:a.width,maxHeight:a.height,minWidth:0,minHeight:0},width:c.width,height:c.height,aspectRatio:{minimum:l.minimum,maximum:l.maximum}})),(c.width>a.width||c.height>a.height)&&(c=on({sizeRestrictions:{maxWidth:a.width,maxHeight:a.height,minWidth:0,minHeight:0},width:c.width,height:c.height,aspectRatio:{minimum:he(c),maximum:he(c)}})),c;var n,a,r,l,c},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return ce({},Rl)},flip:function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=r.transitions,c=l===void 0||l;if(!this.transitionsActive){c&&this.enableTransitions();var s=ce({},this.imageTransforms.flip),m=Q0({flip:{horizontal:n?!s.horizontal:s.horizontal,vertical:a?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),p=m.visibleArea,f=m.coordinates;n&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),a&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=p,this.coordinates=f,this.onChange(),c&&this.debouncedDisableTransitions()}},rotate:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.transitions,l=r===void 0||r;if(!this.transitionsActive){l&&this.enableTransitions();var c=ce({},this.imageSize);this.appliedImageTransforms.rotate+=n;var s=J0({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:c,imageSize:this.imageSize,angle:n,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),m=s.visibleArea,p=s.coordinates,f=this.processAutoZoom("rotateImage",m,p);m=f.visibleArea,p=f.coordinates,this.visibleArea=m,this.coordinates=p,this.onChange(),l&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},lA={key:0,ref:"canvas",style:{display:"none"}},cA={key:1,ref:"sourceCanvas",style:{display:"none"}};pc.render=function(n,a,r,l,c,s){return K(),se("div",{ref:"cropper",class:s.classes.cropper},[y("div",{ref:"stretcher",class:s.classes.stretcher},null,2),y("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(K(),se(Dr(r.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:O(function(){return[y("div",{class:s.classes.background,style:s.boundariesStyle},null,6),y("div",{class:s.classes.imageWrapper},[y("img",{ref:"image",crossorigin:c.imageAttributes.crossOrigin,src:c.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:a[1]||(a[1]=Vl(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),y("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),Bl((K(),se(Dr(r.stencilComponent),Je({ref:"stencil",image:s.image,coordinates:c.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},r.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[Wl,c.imageLoaded]]),r.canvas?(K(),se("canvas",lA,null,512)):Ut("",!0),r.canvas?(K(),se("canvas",cA,null,512)):Ut("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const hA=(n,a=null)=>{const r=new Uint8Array(n).subarray(0,4);let l="";for(let c=0;c<r.length;c++)l+=r[c].toString(16);switch(l){case"89504e47":return"image/png";case"47494638":return"image/gif";case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":case"ffd8ffe3":case"ffd8ffe8":return"image/jpeg";default:return a}},fA=n=>{let a=n.target.files;if(!a[0].type.match("image.*"))return alert("Solo se permiten imagenes"),!1;if(a[0].size>5e6)return alert("El archivo no debe superar los 5MB"),!1;var r={src:null,type:null};if(a&&a[0]){r.src&&URL.revokeObjectURL(r.src);const l=URL.createObjectURL(a[0]);return r.src=l,r.type=hA(n.target.result,a[0].type),r}else return!1},dA=In({__name:"CropCompressImage",props:{mimeType:String,optimize:{type:Number,default:.6},aspectRatio:{type:Number,default:16/9},isMovable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},isAspectRatio:{type:Boolean,default:!0}},emits:["onCropper"],setup(n,{emit:a}){const r=a,c=pe(n.aspectRatio),s=pe(!0),m=pe(!0),p=[{label:"21:9",key:21/9},{label:"16:9",key:16/9},{label:"4:3",key:4/3},{label:"1:1",key:1},{label:"3:4",key:3/4},{label:"Libre",key:0}],f=pe(!1),A=pe(!1),S=pe(null),R=n0({src:null,type:null}),I=()=>{const B=S.value.getResult().canvas;B.toBlob(U=>{let V=new File([U],"imagen_crop_optimize",{type:U.type});r("onCropper",{file:V,blob:URL.createObjectURL(U),base64:B.toDataURL()}),f.value=!1},R.type,.6)},M=async B=>{console.log("ini"),A.value=!0;let U=fA(B);U?(R.src=U.src,R.type=U.type,f.value=!0):console.log("error"),console.log("fin"),A.value=!1};return(B,U)=>(K(),Bt(Ve,null,[y(Sn,{class:"btn-upload-image",loading:A.value,"prepend-icon":"mdi-tray-arrow-up",block:"",color:"primary",variant:"tonal"},{default:O(()=>[un("input",{type:"file",onChange:U[0]||(U[0]=V=>M(V)),accept:"image/*"},null,32),lt(" Imagen ")]),_:1},8,["loading"]),y(p0,{modelValue:f.value,"onUpdate:modelValue":U[4]||(U[4]=V=>f.value=V),width:"600px",scrollable:""},{default:O(()=>[y(Un,null,{default:O(()=>[y(Ni,{title:"Imagen"},{default:O(()=>[y(bo),n.isMovable?(K(),se(Sn,{key:0,onClick:U[1]||(U[1]=V=>s.value=!s.value),active:s.value,density:"compact",rounded:"0",icon:"mdi-cursor-move",variant:"text",color:"black"},null,8,["active"])):Ut("",!0),n.isResizable?(K(),se(Sn,{key:1,onClick:U[2]||(U[2]=V=>m.value=!m.value),active:m.value,density:"compact",rounded:"0",icon:"mdi-arrow-expand",variant:"text",color:"black"},null,8,["active"])):Ut("",!0),n.isAspectRatio?(K(),se(Co,{key:2},{activator:O(({props:V})=>[y(Sn,Je({rounded:"0",density:"comfortable",variant:"outlined",color:"primary"},V,{"prepend-icon":"mdi-aspect-ratio"}),{default:O(()=>[lt(Li(p.find(ae=>ae.key==c.value).label),1)]),_:2},1040)]),default:O(()=>[y(To,null,{default:O(()=>[(K(),Bt(Ve,null,Ao(p,V=>y(ai,{key:V.key,value:V.key,onClick:ae=>c.value=V.key},{default:O(()=>[y(Fl,null,{default:O(()=>[lt(Li(V.label),1)]),_:2},1024)]),_:2},1032,["value","onClick"])),64))]),_:1})]),_:1})):Ut("",!0)]),_:1}),y(m0,{class:"px-10"},{default:O(()=>[y(Ie(pc),{ref_key:"cropperRef",ref:S,src:R.src,"stencil-props":{aspectRatio:c.value,movable:s.value,resizable:m.value}},null,8,["src","stencil-props"])]),_:1}),y(Ql,{class:"py-3"},{default:O(()=>[y(bo),y(Sn,{onClick:U[3]||(U[3]=V=>f.value=!1),color:"pink",variant:"tonal"},{default:O(()=>[lt(" Cancelar ")]),_:1}),y(Sn,{onClick:I,variant:"flat"},{default:O(()=>[lt(" Cortar y guardar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),mA=In({__name:"PostulantPhoto",props:{form:{}},setup(n){const a=pe(null);return(r,l)=>(K(),Bt(Ve,null,[y(Ni,{flat:"",density:"compact",title:"Foto de postulante (Max. 2MB)"}),y(zi,null,{default:O(()=>[y(ri,null,{default:O(()=>[y(Ee,{cols:"12",md:"12"},{default:O(()=>[y(Un,{variant:"tonal",rounded:"0"},{default:O(()=>[y(dA,{"aspect-ratio":3/4,"is-resizable":!0,"is-aspect-ratio":!1,onOnCropper:l[0]||(l[0]=c=>(a.value=c.blob,r.form.photoAvatar=c.file))}),a.value?(K(),se(i0,{key:0,"aspect-ratio":16/9,src:a.value,height:"250",class:"border"},null,8,["src"])):Ut("",!0)]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),pA=un("span",{class:"ms-2"},"Subir archivo",-1),gA=["src"],vA=In({__name:"UploadFile",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:a}){const r=n,l=a,c=pe(null),s=Oe({get:()=>r.modelValue,set:A=>l("update:modelValue",A)}),m=pe(null),p=pe({name:"",size:"",type:""}),f=A=>{const S=A.target.files[0];if(console.log(S.size),S.size>5e6){alert("El archivo es muy grande (Max. 2MB)");return}if(S.type!=="application/pdf"){alert("El archivo no es un PDF");return}p.value.name=S.name,p.value.size=S.size,p.value.type=S.type,s.value=S;const R=new FileReader;R.onload=I=>{m.value=I.target.result},R.readAsDataURL(S)};return(A,S)=>(K(),Bt(Ve,null,[un("input",{type:"file",id:"file",ref_key:"file",ref:c,onChange:f,hidden:"",accept:"application/pdf"},null,544),m.value?(K(),se(Un,{key:1,variant:"flat",class:"border","max-height":"350"},{default:O(()=>[y(ai,null,{prepend:O(()=>[y(Pn,{size:"35",color:"red"},{default:O(()=>[lt("mdi-file-pdf-box")]),_:1})]),append:O(()=>[y(Sn,{icon:"",onClick:S[1]||(S[1]=R=>(m.value=null,s.value=null)),variant:"tonal",color:"red",density:"compact"},{default:O(()=>[y(Pn,null,{default:O(()=>[lt("mdi-close")]),_:1})]),_:1})]),default:O(()=>[y(Fl,null,{default:O(()=>[lt(Li(p.value.name),1)]),_:1}),y(cl,null,{default:O(()=>[lt(Li(p.value.size)+" bytes",1)]),_:1}),y(cl,null,{default:O(()=>[lt(Li(p.value.type),1)]),_:1})]),_:1}),m.value?(K(),Bt("embed",{key:0,src:m.value,type:"application/pdf",width:"100%",height:"300px"},null,8,gA)):Ut("",!0)]),_:1})):(K(),Bt("div",{key:0,class:"upload-box",onClick:S[0]||(S[0]=R=>c.value.click())},[y(Pn,null,{default:O(()=>[lt("mdi-cloud-upload")]),_:1}),pA]))],64))}}),AA=un("span",{class:"text-caption text-uppercase"}," Titulo universitario ",-1),bA=In({__name:"PostulantFiles",props:{form:{}},setup(n){return(a,r)=>(K(),Bt(Ve,null,[y(Ni,{flat:"",density:"compact",title:"Documentos (Max. 2MB) "}),y(zi,null,{default:O(()=>[y(ri,null,{default:O(()=>[y(Ee,{cols:"12"},{default:O(()=>[AA,y(vA,{modelValue:a.form.fileDocument,"onUpdate:modelValue":r[0]||(r[0]=l=>a.form.fileDocument=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})],64))}});class wA{constructor(){lo(this,"http");const a="https://archivos.segundas.unap.edu.pe/api";this.http=Br.create({baseURL:a,headers:{"Content-Type":"application/json"}})}async store(a){const r=new FormData;return r.append("paymentVoucher",a.paymentVoucher),r.append("postulantId",a.postulantId),r.append("paymentId",a.paymentId),r.append("paymentDate",a.paymentDate),(await this.http.post("/documents",r,{headers:{"Content-Type":"multipart/form-data"}})).data}async storePreinscriptionFiles(a){const r=new FormData;return r.append("fileDocument",a.fileDocument),r.append("photoAvatar",a.photoAvatar),r.append("postulantId",a.postulantId),r.append("documentNumber",a.postulantId),r.append("specialty",a.specialty),(await this.http.post("/documents/preinscription",r,{headers:{"Content-Type":"multipart/form-data"}})).data}}class RA{constructor(){lo(this,"http");const a="https://data.segundas.unap.edu.pe/api";this.http=Br.create({baseURL:a,headers:{"Content-Type":"application/json"}})}async storeRegistration(a){return(await this.http.post("store-registration",a)).data}async searchRegistrationByPostulantId(a){return(await this.http.get(`search-registration-by-postulant-id/${a}`)).data}}const yA={class:"h-min-screen"},SA={key:0,class:"h-100 w-100 d-flex justify-center align-center"},_A={class:"w-25 mx-auto"},IA=un("h4",null,"Ya realizaste tu preinscripción",-1),EA=["href"],UA=In({__name:"_postulant",setup(n){const a=new g0,r=new wA,l=new RA,c=r0(),s=a0(),m=pe(!0),p=pe(!1),f=pe(null),A=pe(!1),R=pe({postulantId:null,name:"",motherSurname:"",fatherSurname:"",marriedSurname:"",gender:"",birthDate:"",birthCountry:"PER",birthPlace:null,residenceCountry:"PER",residencePlace:null,graduationYear:"",phoneNumber:"",email:"",address:"",maritalStatus:"",specialty:null,fileDocument:null,photoAvatar:null,hasDisability:!1,disabilityType:null}),I=pe(null),M=async()=>{p.value=!0;try{const{valid:V}=await I.value.validate();if(!V)return;if(!R.value.fileDocument){alert("Debe subir los documentos"),p.value=!1;return}if(!R.value.photoAvatar){alert("Debe subir una foto de postulante"),p.value=!1;return}R.value.postulantId=c.params.postulant;let ae=await a.storePostulant(R.value);if(ae.error){alert(ae.error),p.value=!1;return}R.value.postulantId=ae,await r.storePreinscriptionFiles(R.value),B.value=await l.storeRegistration(R.value),Object.keys(B.value).length>0&&(A.value=!0),p.value=!1;return}catch{alert("Ocurrio un error"),p.value=!1}finally{p.value=!1}},B=pe(null);return(async()=>{m.value=!0;let V=c.params.postulant,ae=await a.searchPostulantById(V);if(ae==="The payload is invalid."){s.push("/p/convocatoria-2024/preinscripcion/");return}f.value=ae,f.value&&(B.value=await l.searchRegistrationByPostulantId(f.value.HashId),Object.keys(B.value).length>0&&(A.value=!0)),m.value=!1})(),(V,ae)=>(K(),Bt("div",yA,[m.value?(K(),Bt("div",SA,[un("div",_A,[y(o0,{indeterminate:"",color:"primary"})])])):A.value&&!m.value?(K(),se(Un,{key:1,"max-width":"300px",class:"mx-auto my-10"},{default:O(()=>[y(zi,null,{default:O(()=>{var Qe,Ce,oe;return[IA,y(s0,{class:"my-4"}),un("a",{class:"v-btn v-theme--light bg-primary v-btn--density-default rounded-lg v-btn--size-default v-btn--variant-flat w-100",href:`https://segundas.unap.pe/api/get-solicitud/${(Qe=B.value)==null?void 0:Qe.CallId}-${(Ce=B.value)==null?void 0:Ce.AcademicProgramId}-${(oe=B.value)==null?void 0:oe.PostulantId}`}," Descargar solicitud ",8,EA)]}),_:1})]),_:1})):(K(),se(v0,{key:2,ref_key:"formRef",ref:I,onSubmit:Vl(M,["prevent"])},{default:O(()=>[y(Un,{"max-width":"850px",class:"mx-auto my-10"},{default:O(()=>[y(M0,{postulant:f.value,form:R.value},null,8,["postulant","form"]),y(L0,{form:R.value},null,8,["form"]),y(bA,{form:R.value},null,8,["form"]),y(mA,{form:R.value},null,8,["form"]),y(Ql,null,{default:O(()=>[y(bo),y(Sn,{color:"primary",block:"",variant:"flat",onClick:M,loading:p.value},{default:O(()=>[lt(" Guardar ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512))]))}});export{UA as default};
