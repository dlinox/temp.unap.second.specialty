import{$ as fe,ai as ye,B as Y,a0 as be,aj as pe,ak as le,al as ge,am as Ve,an as Ce,ao as xe,ap as ke,aq as ne,ar as _e,as as Se,E as q,I as oe,J as B,at as Pe,au as Te,av as se,aw as he,ax as we,ay as Ie,az as Ae,aA as Be,L as ie,aB as _,G as Ee,b as a,aC as $e,q as z,U as N,h as y,R as L,d as Fe,s as ze,r as C,o as M,m as De,c as X,w as t,e as U,i as v,n as O,z as F,ad as Re,x as Ge,S as Ue,t as Le,f as J,F as re,C as Me,aD as Oe,P as ue,X as je,aE as Ye,aF as qe,aG as He,aH as Ne,aI as Xe,aJ as Je}from"./index-DQEOyXjX.js";import{V as I,b as A,a as j,e as W,c as K}from"./VCard-CMV-9hvd.js";import{V as Q}from"./VForm-Cy3TVPvS.js";import{V as We,a as Z,i as Ke,j as ee}from"./VSelect-Dc1CTyTj.js";import{V as ae}from"./VTextField-BRK0KYOL.js";const Qe="https://data.segundas.unap.edu.pe/api",E=fe.create({baseURL:Qe,headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}),pa=async e=>(await E.get("postulants/generals/"+e)).data,Ze=async e=>(await E.get("postulants/evaluation/"+e)).data,ea=async e=>(await E.post("postulants/evaluation",e)).data,te=async e=>(await E.post("postulants/evaluation-detail",e)).data,aa=async e=>(await E.post("postulants/experience/minus",e)).data,ta=async e=>(await E.post("postulants/experience/add",e)).data,la=ye("v-alert-title"),na=["success","info","warning","error"],oa=Y({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:be,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>na.includes(e)},...pe(),...le(),...ge(),...Ve(),...Ce(),...xe(),...ke(),...ne(),..._e(),...Se({variant:"flat"})},"VAlert"),sa=q()({name:"VAlert",props:oa(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{emit:i,slots:l}=s;const b=oe(e,"modelValue"),r=B(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),d=B(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:u}=Pe(e),{colorClasses:m,colorStyles:c,variantClasses:$}=Te(d),{densityClasses:V}=se(e),{dimensionStyles:p}=he(e),{elevationClasses:T}=we(e),{locationStyles:h}=Ie(e),{positionClasses:S}=Ae(e),{roundedClasses:w}=Be(e),{textColorClasses:g,textColorStyles:n}=ie(_(e,"borderColor")),{t:o}=Ee(),P=B(()=>({"aria-label":o(e.closeLabel),onClick(x){b.value=!1,i("click:close",x)}}));return()=>{const x=!!(l.prepend||r.value),D=!!(l.title||e.title),k=!!(l.close||e.closable);return b.value&&a(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},u.value,m.value,V.value,T.value,S.value,w.value,$.value,e.class],style:[c.value,p.value,h.value,e.style],role:"alert"},{default:()=>{var R,G;return[$e(!1,"v-alert"),e.border&&a("div",{key:"border",class:["v-alert__border",g.value],style:n.value},null),x&&a("div",{key:"prepend",class:"v-alert__prepend"},[l.prepend?a(N,{key:"prepend-defaults",disabled:!r.value,defaults:{VIcon:{density:e.density,icon:r.value,size:e.prominent?44:28}}},l.prepend):a(z,{key:"prepend-icon",density:e.density,icon:r.value,size:e.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[D&&a(la,{key:"title"},{default:()=>{var f;return[((f=l.title)==null?void 0:f.call(l))??e.title]}}),((R=l.text)==null?void 0:R.call(l))??e.text,(G=l.default)==null?void 0:G.call(l)]),l.append&&a("div",{key:"append",class:"v-alert__append"},[l.append()]),k&&a("div",{key:"close",class:"v-alert__close"},[l.close?a(N,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var f;return[(f=l.close)==null?void 0:f.call(l,{props:P.value})]}}):a(y,L({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},P.value),null)])]}})}}}),ga=Fe({__name:"TabCv",setup(e){const s=ze(),i=C({indicator:null,description:"",criteria:1,evaluationId:null}),l=C({indicator:{id:3,name:"Certificación",score:1},description:"Años de Experiencia",criteria:2,evaluationId:null}),b=C({indicator:{id:4,name:"Certificación",score:.25},description:"",criteria:3,evaluationId:null}),r=C(!1),d=C(!1),u=C(null),m=C([{id:1,name:"Título profesional",score:8},{id:2,name:"Maestría",score:2}]),c=C([{id:1,name:"Formación académica",description:"Formación académica",maxScore:20},{id:2,name:"Experiencia laboral",description:"Experiencia laboral",maxScore:20},{id:3,name:"Capacitaciones",description:"Formación profesional",maxScore:20}]),$=async()=>{let g=await Ze(s.params.id);u.value=g||null},V=async()=>{let g={postulantId:s.params.id,callId:1},n=await ea(g);u.value=n?n.evaluacion:null},p=async()=>{try{i.value.evaluationId=u.value.Id,await te(i.value),r.value=!1}catch{alert("Ocurrio un error")}},T=async()=>{try{b.value.evaluationId=u.value.Id,await te(b.value),r.value=!1}catch{}},h=async()=>{l.value.evaluationId=u.value.Id,await ta(l.value)},S=async()=>{l.value.evaluationId=u.value.Id,await aa(l.value)};return(async()=>{await $()})(),(g,n)=>(M(),De(re,null,[u.value===null?(M(),X(I,{key:0,class:"text-center mx-auto my-5",width:"300"},{default:t(()=>[a(U,null,{default:t(()=>[a(sa,{type:"info",variant:"text",class:"mb-5"},{default:t(()=>[v(" Aún no se ha iniciado la evaluación ")]),_:1}),a(y,{block:"",onClick:V},{default:t(()=>[v(" Iniciar Evaluación ")]),_:1})]),_:1})]),_:1})):(M(),X(j,{key:1},{default:t(()=>[a(A,{cols:"12"},{default:t(()=>[a(I,{rounded:"0",elevation:"0"},{default:t(()=>[a(O,{density:"compact",title:c.value[0].name},{default:t(()=>[a(F),a(y,{icon:"",onClick:n[0]||(n[0]=o=>r.value=!0)},{default:t(()=>[a(z,null,{default:t(()=>[v("mdi-plus")]),_:1})]),_:1})]),_:1},8,["title"]),a(Re),a(U)]),_:1})]),_:1}),a(A,{cols:"12"},{default:t(()=>[a(I,{rounded:"0",elevation:"0"},{default:t(()=>[a(O,{density:"compact",title:c.value[0].name},{default:t(()=>[a(F)]),_:1},8,["title"]),a(Ge,{class:"my-3",title:"Año(s) de experiencia"},{prepend:t(()=>[a(Ue,null,{default:t(()=>[v(Le(0))]),_:1})]),append:t(()=>[a(y,{icon:"",variant:"tonal",color:"blue",onClick:h},{default:t(()=>[a(z,null,{default:t(()=>[v("mdi-plus")]),_:1})]),_:1}),a(y,{icon:"",variant:"tonal",color:"black",onClick:S},{default:t(()=>[a(z,null,{default:t(()=>[v("mdi-minus")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(A,{cols:"12"},{default:t(()=>[a(I,{rounded:"0",elevation:"0"},{default:t(()=>[a(O,{density:"compact",title:c.value[2].name},{default:t(()=>[a(F),a(y,{icon:"",onClick:n[1]||(n[1]=o=>d.value=!0)},{default:t(()=>[a(z,null,{default:t(()=>[v("mdi-plus")]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})]),_:1})),a(Z,{modelValue:r.value,"onUpdate:modelValue":n[5]||(n[5]=o=>r.value=o),"max-width":"600"},{default:t(()=>[a(Q,{ref:"formAddFA","lazy-validation":"",onSubmit:J(p,["prevent"])},{default:t(()=>[a(I,null,{default:t(()=>[a(W,null,{default:t(()=>[v(" Agregar Formación Académica ")]),_:1}),a(U,null,{default:t(()=>[a(j,null,{default:t(()=>[a(A,{cols:"12"},{default:t(()=>[a(We,{modelValue:i.value.indicator,"onUpdate:modelValue":n[2]||(n[2]=o=>i.value.indicator=o),label:"Indicador",items:m.value,"item-title":"name","item-value":"id","return-object":!0},null,8,["modelValue","items"])]),_:1}),a(A,{cols:"12"},{default:t(()=>[a(ae,{modelValue:i.value.description,"onUpdate:modelValue":n[3]||(n[3]=o=>i.value.description=o),label:"Descripción"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(F),a(y,{color:"error",onClick:n[4]||(n[4]=o=>r.value=!1)},{default:t(()=>[v("Cancelar")]),_:1}),a(y,{color:"primary",variant:"flat",type:"submit"},{default:t(()=>[v("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue"]),a(Z,{modelValue:d.value,"onUpdate:modelValue":n[8]||(n[8]=o=>d.value=o),"max-width":"600"},{default:t(()=>[a(Q,{ref:"FormC",onSubmit:J(T,["prevent"])},{default:t(()=>[a(I,null,{default:t(()=>[a(W,null,{default:t(()=>[v(" Agregar Formación Académica ")]),_:1}),a(U,null,{default:t(()=>[a(j,null,{default:t(()=>[a(A,{cols:"12"},{default:t(()=>[a(ae,{modelValue:b.value.description,"onUpdate:modelValue":n[6]||(n[6]=o=>b.value.description=o),label:"Descripción"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(F),a(y,{color:"error",onClick:n[7]||(n[7]=o=>d.value=!1)},{default:t(()=>[v("Cancelar")]),_:1}),a(y,{color:"primary",type:"submit",variant:"flat"},{default:t(()=>[v("Guardar")]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1},8,["modelValue"])],64))}}),de=Symbol.for("vuetify:v-tabs"),ia=Y({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Me(Oe({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ra=q()({name:"VTab",props:ia(),setup(e,s){let{slots:i,attrs:l}=s;const{textColorClasses:b,textColorStyles:r}=ie(e,"sliderColor"),d=C(),u=C(),m=B(()=>e.direction==="horizontal"),c=B(()=>{var V,p;return((p=(V=d.value)==null?void 0:V.group)==null?void 0:p.isSelected.value)??!1});function $(V){var T,h;let{value:p}=V;if(p){const S=(h=(T=d.value)==null?void 0:T.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),w=u.value;if(!S||!w)return;const g=getComputedStyle(S).color,n=S.getBoundingClientRect(),o=w.getBoundingClientRect(),P=m.value?"x":"y",x=m.value?"X":"Y",D=m.value?"right":"bottom",k=m.value?"width":"height",R=n[P],G=o[P],f=R>G?n[D]-o[D]:n[P]-o[P],ce=Math.sign(f)>0?m.value?"right":"bottom":Math.sign(f)<0?m.value?"left":"top":"center",ve=(Math.abs(f)+(Math.sign(f)<0?n[k]:o[k]))/Math.max(n[k],o[k])||0,me=n[k]/o[k]||0,H=1.5;Ye(w,{backgroundColor:[g,"currentcolor"],transform:[`translate${x}(${f}px) scale${x}(${me})`,`translate${x}(${f/H}px) scale${x}(${(ve-1)/H+1})`,"none"],transformOrigin:Array(3).fill(ce)},{duration:225,easing:qe})}}return ue(()=>{const V=y.filterProps(e);return a(y,L({symbol:de,ref:d,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},V,l,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":$}),{...i,default:()=>{var p;return a(re,null,[((p=i.default)==null?void 0:p.call(i))??e.text,!e.hideSlider&&a("div",{ref:u,class:["v-tab__slider",b.value],style:r.value},null)])}})}),je({},d)}});function ua(e){return e?e.map(s=>Je(s)?s:{text:s,value:s}):[]}const da=Y({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ke({mandatory:"force"}),...le(),...ne()},"VTabs"),Va=q()({name:"VTabs",props:da(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:i}=s;const l=oe(e,"modelValue"),b=B(()=>ua(e.items)),{densityClasses:r}=se(e),{backgroundColorClasses:d,backgroundColorStyles:u}=He(_(e,"bgColor"));return Ne({VTab:{color:_(e,"color"),direction:_(e,"direction"),stacked:_(e,"stacked"),fixed:_(e,"fixedTabs"),sliderColor:_(e,"sliderColor"),hideSlider:_(e,"hideSlider")}}),ue(()=>{const m=ee.filterProps(e);return a(ee,L(m,{modelValue:l.value,"onUpdate:modelValue":c=>l.value=c,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,d.value,e.class],style:[{"--v-tabs-height":Xe(e.height)},u.value,e.style],role:"tablist",symbol:de}),{default:()=>[i.default?i.default():b.value.map(c=>a(ra,L(c,{key:c.text}),null))]})}),{}}});export{Va as V,ga as _,ra as a,pa as g};
